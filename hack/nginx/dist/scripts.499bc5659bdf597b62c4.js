!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],e):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=e():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var n=r(1),i=r(3),s=r(16),a=r(17),o=r(4),l=r(18);const h=r(10),c=r(6);{const{isNodeJS:t}=r(7);if(t){const t=r(19).PDFNodeStream;i.setPDFNetworkStreamFactory(e=>new t(e))}else{const t=r(22).PDFNetworkStream;let e;o.isFetchSupported()&&(e=r(23).PDFFetchStream),i.setPDFNetworkStreamFactory(r=>e&&o.isValidFetchUrl(r.url)?new e(r):new t(r))}}e.build=i.build,e.version=i.version,e.getDocument=i.getDocument,e.LoopbackPort=i.LoopbackPort,e.PDFDataRangeTransport=i.PDFDataRangeTransport,e.PDFWorker=i.PDFWorker,e.renderTextLayer=s.renderTextLayer,e.AnnotationLayer=a.AnnotationLayer,e.createPromiseCapability=n.createPromiseCapability,e.PasswordResponses=n.PasswordResponses,e.InvalidPDFException=n.InvalidPDFException,e.MissingPDFException=n.MissingPDFException,e.SVGGraphics=l.SVGGraphics,e.NativeImageDecoding=n.NativeImageDecoding,e.CMapCompressionType=n.CMapCompressionType,e.PermissionFlag=n.PermissionFlag,e.UnexpectedResponseException=n.UnexpectedResponseException,e.OPS=n.OPS,e.VerbosityLevel=n.VerbosityLevel,e.UNSUPPORTED_FEATURES=n.UNSUPPORTED_FEATURES,e.createValidAbsoluteUrl=n.createValidAbsoluteUrl,e.createObjectURL=n.createObjectURL,e.removeNullCharacters=n.removeNullCharacters,e.shadow=n.shadow,e.Util=n.Util,e.RenderingCancelledException=o.RenderingCancelledException,e.getFilenameFromUrl=o.getFilenameFromUrl,e.LinkTarget=o.LinkTarget,e.addLinkAttributes=o.addLinkAttributes,e.loadScript=o.loadScript,e.PDFDateString=o.PDFDateString,e.GlobalWorkerOptions=h.GlobalWorkerOptions,e.apiCompatibilityParams=c.apiCompatibilityParams},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=d,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let r=0;for(let s=0;s<e;s++)r+=d(t[s]);let n=0;const i=new Uint8Array(r);for(let s=0;s<e;s++){let e=t[s];e instanceof Uint8Array||(e="string"==typeof e?u(e):new Uint8Array(e));const r=e.byteLength;i.set(e,n),n+=r}return i},e.assert=o,e.bytesToString=function(t){o(null!==t&&"object"==typeof t&&void 0!==t.length,"Invalid argument for bytesToString");const e=t.length;if(e<8192)return String.fromCharCode.apply(null,t);const r=[];for(let n=0;n<e;n+=8192){const i=Math.min(n+8192,e),s=t.subarray(n,i);r.push(String.fromCharCode.apply(null,s))}return r.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise((function(r,n){t.resolve=function(t){e=!0,r(t)},t.reject=function(t){e=!0,n(t)}})),t},e.getVerbosityLevel=function(){return i},e.info=function(t){i>=n.INFOS&&console.log("Info: "+t)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){return t.length===e.length&&t.every((function(t,r){return t===e[r]}))},e.isBool=function(t){return"boolean"==typeof t},e.isEmptyObj=function(t){for(const e in t)return!1;return!0},e.isNum=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSameOrigin=function(t,e){let r;try{if(r=new URL(t),!r.origin||"null"===r.origin)return!1}catch(i){return!1}const n=new URL(e,r);return r.origin===n.origin},e.createValidAbsoluteUrl=function(t,e){if(!t)return null;try{const r=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(r){}return null},e.removeNullCharacters=function(t){return"string"!=typeof t?(s("The argument for removeNullCharacters must be a string."),t):t.replace(c,"")},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(i=t)},e.shadow=l,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=u,e.stringToPDFString=function(t){const e=t.length,r=[];if("\xfe"===t[0]&&"\xff"===t[1])for(let n=2;n<e;n+=2)r.push(String.fromCharCode(t.charCodeAt(n)<<8|t.charCodeAt(n+1)));else if("\xff"===t[0]&&"\xfe"===t[1])for(let n=2;n<e;n+=2)r.push(String.fromCharCode(t.charCodeAt(n+1)<<8|t.charCodeAt(n)));else for(let n=0;n<e;++n){const e=g[t.charCodeAt(n)];r.push(e?String.fromCharCode(e):t.charAt(n))}return r.join("")},e.stringToUTF8String=function(t){return decodeURIComponent(escape(t))},e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=s,e.unreachable=a,e.IsEvalSupportedCached=e.IsLittleEndianCached=e.createObjectURL=e.FormatError=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.NativeImageDecoding=e.MissingPDFException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=e.BaseException=void 0,r(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const n={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=n,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=n.WARNINGS;function s(t){i>=n.WARNINGS&&console.log("Warning: "+t)}function a(t){throw new Error(t)}function o(t,e){t||a(e)}function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}const h=function(){function t(e){this.constructor===t&&a("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=h,e.PasswordException=class extends h{constructor(t,e){super(t),this.code=e}},e.UnknownErrorException=class extends h{constructor(t,e){super(t),this.details=e}},e.InvalidPDFException=class extends h{},e.MissingPDFException=class extends h{},e.UnexpectedResponseException=class extends h{constructor(t,e){super(t),this.status=e}},e.FormatError=class extends h{},e.AbortException=class extends h{};const c=/\x00/g;function u(t){o("string"==typeof t,"Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=255&t.charCodeAt(n);return r}function d(t){return void 0!==t.length?t.length:(o(void 0!==t.byteLength),t.byteLength)}e.IsLittleEndianCached={get value(){return l(this,"value",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}},e.IsEvalSupportedCached={get value(){return l(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};const p=["rgb(",0,",",0,",",0,")"];class f{static makeCssRgb(t,e,r){return p[1]=t,p[3]=e,p[5]=r,p.join("")}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const r=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/r,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/r]}static getAxialAlignedBoundingBox(t,e){const r=f.applyTransform(t,e),n=f.applyTransform(t.slice(2,4),e),i=f.applyTransform([t[0],t[3]],e),s=f.applyTransform([t[2],t[1]],e);return[Math.min(r[0],n[0],i[0],s[0]),Math.min(r[1],n[1],i[1],s[1]),Math.max(r[0],n[0],i[0],s[0]),Math.max(r[1],n[1],i[1],s[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],r=t[0]*e[0]+t[1]*e[2],n=t[2]*e[1]+t[3]*e[3],i=(r+n)/2,s=Math.sqrt((r+n)*(r+n)-4*(r*n-(t[2]*e[0]+t[3]*e[2])*(t[0]*e[1]+t[1]*e[3])))/2,a=i-s||1;return[Math.sqrt(i+s||1),Math.sqrt(a)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){function r(t,e){return t-e}const n=[t[0],t[2],e[0],e[2]].sort(r),i=[t[1],t[3],e[1],e[3]].sort(r),s=[];return t=f.normalizeRect(t),e=f.normalizeRect(e),n[0]===t[0]&&n[1]===e[0]||n[0]===e[0]&&n[1]===t[0]?(s[0]=n[1],s[2]=n[2],i[0]===t[1]&&i[1]===e[1]||i[0]===e[1]&&i[1]===t[1]?(s[1]=i[1],s[3]=i[2],s):null):null}}e.Util=f;const g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],m=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,r,n=!1){if(!n&&URL.createObjectURL){const t=new Blob([e],{type:r});return URL.createObjectURL(t)}let i=`data:${r};base64,`;for(let s=0,a=e.length;s<a;s+=3){const r=255&e[s],n=255&e[s+1],o=255&e[s+2];i+=t[r>>2]+t[(3&r)<<4|n>>4]+t[s+1<a?(15&n)<<2|o>>6:64]+t[s+2<a?63&o:64]}return i}}();e.createObjectURL=m},function(t,e,r){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let r;if("string"==typeof t)r={url:t};else if((0,_util.isArrayBuffer)(t))r={data:t};else if(t instanceof PDFDataRangeTransport)r={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=t}const n=Object.create(null);let i=null,s=null;for(const l in r)if("url"!==l||"undefined"==typeof window)if("range"!==l)if("worker"!==l)if("data"!==l||r[l]instanceof Uint8Array)n[l]=r[l];else{const t=r[l];if("string"==typeof t)n[l]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");n[l]=new Uint8Array(t)}else n[l]=new Uint8Array(t)}else s=r[l];else i=r[l];else n[l]=new URL(r[l],window.location).href;n.rangeChunkSize=n.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,n.CMapReaderFactory=n.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.pdfBug=!0===n.pdfBug;const a=Object.values(_util.NativeImageDecoding);if(void 0!==n.nativeImageDecoderSupport&&a.includes(n.nativeImageDecoderSupport)||(n.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(n.maxImageSize)||(n.maxImageSize=-1),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),"boolean"!=typeof n.disableCreateObjectURL&&(n.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(n.verbosity),!s){const t={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=s}const o=e.docId;return s.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");return _fetchDocument(s,n,i,o).then((function(t){if(e.destroyed)throw new Error("Loading aborted");let r;i?r=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(r=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream}));const a=new _message_handler.MessageHandler(o,t,s.port);a.postMessageTransfers=s.postMessageTransfers;const l=new WorkerTransport(a,e,r,n);e._transport=l,a.send("Ready",null)}))})).catch(e._capability.reject),e}function _fetchDocument(t,e,r,n){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone),t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.4.456",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,disableCreateObjectURL:e.disableCreateObjectURL,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported}).then((function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})))}const PDFDocumentLoadingTask=function(){let t=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}then(t,e){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}}}();class PDFDataRangeTransport{constructor(t,e,r=!1){this.length=t,this.initialData=e,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const r of this._rangeListeners)r(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getOpenActionDestination(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(t){return t&&t.dest?t.dest:null}))}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,r,n=!1){this._pageIndex=t,this._pageInfo=e,this._transport=r,this._stats=n?new _display_utils.StatTimer:null,this._pdfBug=n,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:r=0,offsetY:n=0,dontFlip:i=!1}={}){if(arguments.length>1||"number"==typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:r,offsetY:n,dontFlip:i})}getAnnotations({intent:t=null}={}){return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,t),this.annotationsIntent=t),this.annotationsPromise}render({canvasContext:t,viewport:e,intent:r="display",enableWebGL:n=!1,renderInteractiveForms:i=!1,transform:s=null,imageLayer:a=null,canvasFactory:o=null,background:l=null}){this._stats&&this._stats.time("Overall");const h="print"===r?"print":"display";this.pendingCleanup=!1,this.intentStates[h]||(this.intentStates[h]=Object.create(null));const c=this.intentStates[h];c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null);const u=o||new _display_utils.DOMCanvasFactory,d=new _webgl.WebGLContext({enable:n});c.displayReadyCapability||(c.displayReadyCapability=(0,_util.createPromiseCapability)(),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:h,renderInteractiveForms:!0===i}));const p=t=>{const e=c.renderTasks.indexOf(f);e>=0&&c.renderTasks.splice(e,1),(this.cleanupAfterRender||"print"===h)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(f.capability.reject(t),this._abortOperatorList({intentState:c,reason:t})):f.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},f=new InternalRenderTask({callback:p,params:{canvasContext:t,viewport:e,transform:s,imageLayer:a,background:l},objs:this.objs,commonObjs:this.commonObjs,operatorList:c.operatorList,pageIndex:this._pageIndex,canvasFactory:u,webGLContext:d,useRequestAnimationFrame:"print"!==h,pdfBug:this._pdfBug});c.renderTasks||(c.renderTasks=[]),c.renderTasks.push(f);const g=f.task;return c.displayReadyCapability.promise.then(t=>{this.pendingCleanup?p():(this._stats&&this._stats.time("Rendering"),f.initializeGraphics(t),f.operatorListChanged())}).catch(p),g}getOperatorList(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));const t=this.intentStates.oplist;let e;return t.opListReadCapability||(e={},e.operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);const r=t.renderTasks.indexOf(e);r>=0&&t.renderTasks.splice(r,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),t.opListReadCapability.promise}streamTextContent({normalizeWhitespace:t=!1,disableCombineTextItems:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===t,combineTextItems:!0!==e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(t={}){const e=this.streamTextContent(t);return new Promise((function(t,r){const n=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){n.read().then((function({value:r,done:n}){n?t(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),e())}),r)}()}))}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const t=[];return Object.keys(this.intentStates).forEach(e=>{const r=this.intentStates[e];this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==e&&r.renderTasks.forEach((function(e){const r=e.capability.promise.catch((function(){}));t.push(r),e.cancel()}))}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){return!(!this.pendingCleanup||Object.keys(this.intentStates).some(t=>{const e=this.intentStates[t];return 0!==e.renderTasks.length||!e.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(t=>{delete this.intentStates[t]}),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}_startRenderPage(t,e){const r=this.intentStates[e];r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let r=0,n=t.length;r<n;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk;for(let r=0;r<e.renderTasks.length;r++)e.renderTasks[r].operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList(t){(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const e=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),r=this.intentStates[t.intent];r.streamReader=e;const n=()=>{e.read().then(({value:t,done:e})=>{e?r.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,r),n())},t=>{if(r.streamReader=null,!this._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(let t=0;t<r.renderTasks.length;t++)r.renderTasks[t].operatorListChanged();this._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(t);else{if(!r.opListReadCapability)throw t;r.opListReadCapability.reject(t)}}})};n()}_abortOperatorList({intentState:t,reason:e,force:r=!1}){if((0,_util.assert)(e instanceof Error||"object"==typeof e&&null!==e,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),t.streamReader){if(!r){if(0!==t.renderTasks.length)return;if(e instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:e,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}t.streamReader.cancel(new _util.AbortException(e&&e.message)),t.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(e=>this.intentStates[e]===t&&(delete this.intentStates[e],!0)),this.cleanup())}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(t=!0){this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}postMessage(t,e){if(!this._defer)return void this._listeners.forEach(e=>{e.call(this,{data:t})});const r=new WeakMap,n={data:function t(n){if("object"!=typeof n||null===n)return n;if(r.has(n))return r.get(n);let i,s;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return s=e&&e.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,s),s;s=Array.isArray(n)?[]:{},r.set(n,s);for(const e in n){let r,i=n;for(;!(r=Object.getOwnPropertyDescriptor(i,e));)i=Object.getPrototypeOf(i);if(void 0!==r.value)if("function"!=typeof r.value)s[e]=t(r.value);else if(n.hasOwnProperty&&n.hasOwnProperty(e))throw new Error("LoopbackPort.postMessage - cannot clone: "+n[e])}return s}(t)};this._deferred.then(()=>{this._listeners.forEach(t=>{t.call(this,n)})})}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const r=this._listeners.indexOf(e);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const t=document.currentScript&&document.currentScript.src;t&&(fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let t;try{t=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof require){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){return URL.createObjectURL(new Blob(["importScripts('"+t+"');"]))}class PDFWorker{constructor({name:t=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(e&&pdfWorkerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=t,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return pdfWorkerPorts.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let e=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),r=new _message_handler.MessageHandler("main","worker",t),n=()=>{t.removeEventListener("error",i),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};t.addEventListener("error",i),r.on("test",e=>{t.removeEventListener("error",i),this.destroyed?n():e?(this._messageHandler=r,this._port=t,this._webWorker=t,e.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",e=>{if(t.removeEventListener("error",i),this.destroyed)n();else try{s()}catch(r){this._setupFakeWorker()}});const s=()=>{const t=new Uint8Array([this.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void s()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const r="fake"+nextFakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,e);t.setup(n,e);const i=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new PDFWorker(t)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(t,e,r,n){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=n,this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(t,e)=>{(0,_util.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function({value:t,done:r}){r?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),e.enqueue(new Uint8Array(t),1,[t]))})).catch(t=>{e.error(t)})},e.onCancel=t=>{this._fullReader.cancel(t)}}),t.on("ReaderHeadersReady",t=>{const r=(0,_util.createPromiseCapability)(),n=this._fullReader;return n.headersReady.then(()=>{n.isStreamingSupported&&n.isRangeSupported||(this._lastProgress&&e.onProgress&&e.onProgress(this._lastProgress),n.onProgress=t=>{e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}),r.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},r.reject),r.promise}),t.on("GetRangeReader",(t,e)=>{(0,_util.assert)(this._networkStream);const r=this._networkStream.getRangeReader(t.begin,t.end);r?(e.onPull=()=>{r.read().then((function({value:t,done:r}){r?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),e.enqueue(new Uint8Array(t),1,[t]))})).catch(t=>{e.error(t)})},e.onCancel=t=>{r.cancel(t)}):e.close()}),t.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,e._capability.resolve(new PDFDocumentProxy(t,this))}),t.on("DocException",(function(t){let r;switch(t.name){case"PasswordException":r=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":r=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(t.message,t.details)}e._capability.reject(r)})),t.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const n=t=>{this._passwordCapability.resolve({password:t})};try{e.onPassword(n,t.code)}catch(r){this._passwordCapability.reject(r)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),t.on("DataLoaded",t=>{e.onProgress&&e.onProgress({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",t=>{this.destroyed||this.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)}),t.on("commonobj",e=>{if(this.destroyed)return;const[r,n,i]=e;if(!this.commonObjs.has(r))switch(n){case"Font":const e=this._params;if("error"in i){const t=i.error;(0,_util.warn)("Error during font loading: "+t),this.commonObjs.resolve(r,t);break}let s=null;e.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(s={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const a=new _font_loader.FontFaceObject(i,{isEvalSupported:e.isEvalSupported,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:s});this.fontLoader.bind(a).then(()=>{this.commonObjs.resolve(r,a)},e=>{t.sendWithPromise("FontFallback",{id:r}).finally(()=>{this.commonObjs.resolve(r,a)})});break;case"FontPath":case"FontType3Res":this.commonObjs.resolve(r,i);break;default:throw new Error("Got unknown common object type "+n)}}),t.on("obj",t=>{if(this.destroyed)return;const[e,r,n,i]=t,s=this.pageCache[r];if(!s.objs.has(e))switch(n){case"JpegStream":return new Promise((t,e)=>{const r=new Image;r.onload=function(){t(r)},r.onerror=function(){e(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(r)},r.src=i}).then(t=>{s.objs.resolve(e,t)});case"Image":s.objs.resolve(e,i);const t=8e6;i&&"data"in i&&i.data.length>t&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+n)}}),t.on("DocProgress",t=>{this.destroyed||e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("JpegDecode",t=>{if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));const[e,r]=t;return 3!==r&&1!==r?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise((function(t,n){const i=new Image;i.onload=function(){const{width:e,height:n}=i,s=e*n,a=4*s,o=new Uint8ClampedArray(s*r);let l=document.createElement("canvas");l.width=e,l.height=n;let h=l.getContext("2d");h.drawImage(i,0,0);const c=h.getImageData(0,0,e,n).data;if(3===r)for(let t=0,r=0;t<a;t+=4,r+=3)o[r]=c[t],o[r+1]=c[t+1],o[r+2]=c[t+2];else if(1===r)for(let t=0,r=0;t<a;t+=4,r++)o[r]=c[t];t({data:o,width:e,height:n}),(0,_display_utils.releaseImageResources)(i),l.width=0,l.height=0,l=null,h=null},i.onerror=function(){n(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(i)},i.src=e}))}),t.on("FetchBuiltInCMap",(t,e)=>{if(this.destroyed)return void e.error(new Error("Worker was destroyed"));let r=!1;e.onPull=()=>{r?e.close():(r=!0,this.CMapReaderFactory.fetch(t).then((function(t){e.enqueue(t,1,[t.cMapData.buffer])})).catch((function(t){e.error(t)})))}})}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));const e=t-1;if(e in this.pagePromises)return this.pagePromises[e];const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(t=>{if(this.destroyed)throw new Error("Transport destroyed");const r=new PDFPageProxy(e,t,this,this._params.pdfBug);return this.pageCache[e]=r,r});return this.pagePromises[e]=r,r}getPageIndex(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(t){return Promise.reject(new Error(t))}))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null}))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let t=0,e=this.pageCache.length;t<e;t++){const e=this.pageCache[t];if(e&&!e.cleanup())throw new Error(`startCleanup: Page ${t+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear()})}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableCreateObjectURL:t.disableCreateObjectURL,disableFontFace:t.disableFontFace,nativeImageDecoderSupport:t.nativeImageDecoderSupport})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(t,e=null){if(e)return this._ensureObj(t).capability.promise.then(e),null;const r=this._objs[t];if(!r||!r.resolved)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){const e=this._objs[t];return!!e&&e.resolved}resolve(t,e){const r=this._ensureObj(t);r.resolved=!0,r.data=e,r.capability.resolve(e)}clear(){for(const t in this._objs){const{data:e}=this._objs[t];"undefined"!=typeof Image&&e instanceof Image&&(0,_display_utils.releaseImageResources)(e)}this._objs=Object.create(null)}}class RenderTask{constructor(t){this._internalRenderTask=t,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}then(t,e){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}}const InternalRenderTask=function(){const t=new WeakSet;return class{constructor({callback:t,params:e,objs:r,commonObjs:n,operatorList:i,pageIndex:s,canvasFactory:a,webGLContext:o,useRequestAnimationFrame:l=!1,pdfBug:h=!1}){this.callback=t,this.params=e,this.objs=r,this.commonObjs=n,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=s,this.canvasFactory=a,this.webGLContext=o,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}initializeGraphics(e=!1){if(this.cancelled)return;if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:n,transform:i,imageLayer:s,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page "+(this._pageIndex+1),"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback())))}}}(),version="2.4.456";exports.version=version;const build="228a591c";exports.build=build},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function(t,{url:e,target:r,rel:i,enabled:s=!0}={}){(0,n.assert)(e&&"string"==typeof e,'addLinkAttributes: A valid "url" parameter must provided.');const o=(0,n.removeNullCharacters)(e);s?t.href=t.title=o:(t.href="",t.title="Disabled: "+o,t.onclick=()=>!1);let l="";switch(r){case a.NONE:break;case a.SELF:l="_self";break;case a.BLANK:l="_blank";break;case a.PARENT:l="_parent";break;case a.TOP:l="_top"}t.target=l,t.rel="string"==typeof i?i:"noopener noreferrer nofollow"},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),r=t.indexOf("?"),n=Math.min(e>0?e:t.length,r>0?r:t.length);return t.substring(t.lastIndexOf("/",n)+1,n)},e.isFetchSupported=o,e.isValidFetchUrl=l,e.loadScript=function(t){return new Promise((e,r)=>{const n=document.createElement("script");n.src=t,n.onload=e,n.onerror=function(){r(new Error("Cannot load script at: "+n.src))},(document.head||document.documentElement).appendChild(n)})},e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.releaseImageResources=function(t){(0,n.assert)(t instanceof Image,"Invalid `img` parameter.");const e=t.src;"string"==typeof e&&e.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(e),t.removeAttribute("src")},e.PDFDateString=e.StatTimer=e.DOMSVGFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=e.LinkTarget=e.RenderingCancelledException=e.PageViewport=void 0;var n=r(1);e.DEFAULT_LINK_REL="noopener noreferrer nofollow";const i="http://www.w3.org/2000/svg";e.DOMCanvasFactory=class{create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const r=document.createElement("canvas"),n=r.getContext("2d");return r.width=t,r.height=e,{canvas:r,context:n}}reset(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},e.DOMCMapReaderFactory=class{constructor({baseUrl:t=null,isCompressed:e=!1}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return o()&&l(e,document.baseURI)?fetch(e).then(async t=>{if(!t.ok)throw new Error(t.statusText);let e;return e=this.isCompressed?new Uint8Array(await t.arrayBuffer()):(0,n.stringToBytes)(await t.text()),{cMapData:e,compressionType:r}}).catch(t=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+"CMap at: "+e)}):new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),this.isCompressed&&(s.responseType="arraybuffer"),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(200===s.status||0===s.status){let e;if(this.isCompressed&&s.response?e=new Uint8Array(s.response):!this.isCompressed&&s.responseText&&(e=(0,n.stringToBytes)(s.responseText)),e)return void t({cMapData:e,compressionType:r})}i(new Error(s.statusText))}},s.send(null)}).catch(t=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+"CMap at: "+e)})}},e.DOMSVGFactory=class{create(t,e){(0,n.assert)(t>0&&e>0,"Invalid SVG dimensions");const r=document.createElementNS(i,"svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",t+"px"),r.setAttribute("height",e+"px"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 "+t+" "+e),r}createElement(t){return(0,n.assert)("string"==typeof t,"Invalid SVG element type"),document.createElementNS(i,t)}};class s{constructor({viewBox:t,scale:e,rotation:r,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}){this.viewBox=t,this.scale=e,this.rotation=r,this.offsetX=n,this.offsetY=i;const a=(t[2]+t[0])/2,o=(t[3]+t[1])/2;let l,h,c,u,d,p,f,g;switch(r=(r%=360)<0?r+360:r){case 180:l=-1,h=0,c=0,u=1;break;case 90:l=0,h=1,c=1,u=0;break;case 270:l=0,h=-1,c=-1,u=0;break;default:l=1,h=0,c=0,u=-1}s&&(c=-c,u=-u),0===l?(d=Math.abs(o-t[1])*e+n,p=Math.abs(a-t[0])*e+i,f=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(d=Math.abs(a-t[0])*e+n,p=Math.abs(o-t[1])*e+i,f=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[l*e,h*e,c*e,u*e,d-l*e*a-c*e*o,p-h*e*a-u*e*o],this.width=f,this.height=g}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:r=this.offsetX,offsetY:n=this.offsetY,dontFlip:i=!1}={}){return new s({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:r,offsetY:n,dontFlip:i})}convertToViewportPoint(t,e){return n.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=n.Util.applyTransform([t[0],t[1]],this.transform),r=n.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],r[0],r[1]]}convertToPdfPoint(t,e){return n.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=s,e.RenderingCancelledException=class extends n.BaseException{constructor(t,e){super(t),this.type=e}};const a={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function l(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return"http:"===r||"https:"===r}catch(r){return!1}}let h;e.LinkTarget=a,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,n.warn)("Timer is already running for "+t),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,n.warn)("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const r of this.times){const t=r.name;t.length>e&&(e=t.length)}for(const r of this.times){const n=r.end-r.start;t.push(`${r.name.padEnd(e)} ${n}ms\n`)}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||!(0,n.isString)(t))return null;h||(h=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h.exec(t);if(!e)return null;const r=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===c?(a+=u,o+=d):"+"===c&&(a-=u,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=r(1);class i{constructor({docId:t,onUnsupportedFeature:e}){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(e));const r=e.sheet;r.insertRule(t,r.cssRules.length)}clear(){this.nativeFontFaces.forEach((function(t){document.fonts.delete(t)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(r){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.font}),(0,n.warn)(`Failed to load font '${e.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const n=this._queueLoadingCallback(r);this._prepareFontLoadEvent([e],[t],n)})}}_queueLoadingCallback(t){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const t="undefined"!=typeof document&&!!document.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,r){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;e.FontLoader=s,e.FontLoader=s=class extends i{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;if("undefined"==typeof navigator)t=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);e&&e[1]>=14&&(t=!0)}return(0,n.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,r={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function(){for((0,n.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(r),r}get _loadTestFont(){return(0,n.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,r){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function s(t,e,r,n){return t.substring(0,e)+n+t.substring(e+r)}let a,o;const l=document.createElement("canvas");l.width=1,l.height=1;const h=l.getContext("2d");let c=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=s(d,976,u.length,u);let p=i(d,16);for(a=0,o=u.length-3;a<o;a+=4)p=p-1482184792+i(u,a)|0;a<u.length&&(p=p-1482184792+i(u+"XXX",a)|0),d=s(d,16,4,(0,n.string32)(p));const f=`url(data:font/opentype;base64,${btoa(d)});`;this.insertRule(`@font-face {font-family:"${u}";src:${f}}`);const g=[];for(a=0,o=e.length;a<o;a++)g.push(e[a].loadedName);g.push(u);const m=document.createElement("div");for(m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px",a=0,o=g.length;a<o;++a){const t=document.createElement("span");t.textContent="Hi",t.style.fontFamily=g[a],m.appendChild(t)}document.body.appendChild(m),function t(e,r){if(c++,c>30)return(0,n.warn)("Load test font never loaded."),void r();h.font="30px "+e,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0?r():setTimeout(t.bind(null,e,r))}(u,(function(){document.body.removeChild(m),r.complete()}))}},e.FontFaceObject=class{constructor(t,{isEvalSupported:e=!0,disableFontFace:r=!1,ignoreErrors:n=!1,onUnsupportedFeature:i=null,fontRegistry:s=null}){this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this.isEvalSupported=!1!==e,this.disableFontFace=!0===r,this.ignoreErrors=!0===n,this._onUnsupportedFeature=i,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,n.bytesToString)(new Uint8Array(this.data)),e=`url(data:${this.mimetype};base64,${btoa(t)});`,r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),r}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let r,i;try{r=t.get(this.loadedName+"_path_"+e)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.font}),(0,n.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&n.IsEvalSupportedCached.value){let t,n="";for(let e=0,s=r.length;e<s;e++)i=r[e],t=void 0!==i.args?i.args.join(","):"",n+="c."+i.cmd+"("+t+");\n";return this.compiledGlyphs[e]=new Function("c","size",n)}return this.compiledGlyphs[e]=function(t,e){for(let n=0,s=r.length;n<s;n++)i=r[n],"scale"===i.cmd&&(i.args=[e,-e]),t[i.cmd].apply(t,i.args)}}}},function(t,e,r){"use strict";const n=Object.create(null);{const{isNodeJS:t}=r(7),e="undefined"!=typeof navigator&&navigator.userAgent||"",i=/Trident/.test(e),s=/CriOS/.test(e);(i||s)&&(n.disableCreateObjectURL=!0),t&&(n.disableFontFace=!0,n.nativeImageDecoderSupport="none")}e.apiCompatibilityParams=Object.freeze(n)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;e.isNodeJS=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=r(1),i=r(9);function s(t){t.mozCurrentTransform||(t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=e*i-r*n,l=r*n-e*i;return[i/o,r/l,n/l,e/o,(i*s-n*a)/l,(r*s-e*a)/o]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var r=this._transformMatrix;r[4]=r[0]*t+r[2]*e+r[4],r[5]=r[1]*t+r[3]*e+r[5],this._originalTranslate(t,e)},t.scale=function(t,e){var r=this._transformMatrix;r[0]=r[0]*t,r[1]=r[1]*t,r[2]=r[2]*e,r[3]=r[3]*e,this._originalScale(t,e)},t.transform=function(e,r,n,i,s,a){var o=this._transformMatrix;this._transformMatrix=[o[0]*e+o[2]*r,o[1]*e+o[3]*r,o[0]*n+o[2]*i,o[1]*n+o[3]*i,o[0]*s+o[2]*a+o[4],o[1]*s+o[3]*a+o[5]],t._originalTransform(e,r,n,i,s,a)},t.setTransform=function(e,r,n,i,s,a){this._transformMatrix=[e,r,n,i,s,a],t._originalSetTransform(e,r,n,i,s,a)},t.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this._transformMatrix;this._transformMatrix=[n[0]*e+n[2]*r,n[1]*e+n[3]*r,n[0]*-r+n[2]*e,n[1]*-r+n[3]*e,n[4],n[5]],this._originalRotate(t)})}var a=function(){function t(t){this.canvasFactory=t,this.cache=Object.create(null)}return t.prototype={getCanvas:function(t,e,r,n){var i;return void 0!==this.cache[t]?(this.canvasFactory.reset(i=this.cache[t],e,r),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(e,r),this.cache[t]=i),n&&s(i.context),i},clear(){for(var t in this.cache)this.canvasFactory.destroy(this.cache[t]),delete this.cache[t]}},t}(),o=function(){function t(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),l=function(){function t(t,e,r,n,i,l){this.ctx=t,this.current=new o,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=n,this.webGLContext=i,this.imageLayer=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new a(this.canvasFactory),t&&s(t),this._cachedGetSinglePixelWidth=null}function e(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var r,i,s,a,o,l=e.height,h=e.width,c=l%16,u=(l-c)/16,d=0===c?u:u+1,p=t.createImageData(h,16),f=0,g=e.data,m=p.data;if(e.kind===n.ImageKind.GRAYSCALE_1BPP){var _=g.byteLength,v=new Uint32Array(m.buffer,0,m.byteLength>>2),y=v.length,b=h+7>>3,x=4294967295,A=n.IsLittleEndianCached.value?4278190080:255;for(i=0;i<d;i++){for(a=i<u?16:c,r=0,s=0;s<a;s++){for(var w=_-f,S=0,C=w>b?h:8*w-7,k=-8&C,P=0,T=0;S<k;S+=8)T=g[f++],v[r++]=128&T?x:A,v[r++]=64&T?x:A,v[r++]=32&T?x:A,v[r++]=16&T?x:A,v[r++]=8&T?x:A,v[r++]=4&T?x:A,v[r++]=2&T?x:A,v[r++]=1&T?x:A;for(;S<C;S++)0===P&&(T=g[f++],P=128),v[r++]=T&P?x:A,P>>=1}for(;r<y;)v[r++]=0;t.putImageData(p,0,16*i)}}else if(e.kind===n.ImageKind.RGBA_32BPP){for(s=0,o=16*h*4,i=0;i<u;i++)m.set(g.subarray(f,f+o)),f+=o,t.putImageData(p,0,s),s+=16;i<d&&(m.set(g.subarray(f,f+(o=h*c*4))),t.putImageData(p,0,s))}else{if(e.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+e.kind);for(o=h*(a=16),i=0;i<d;i++){for(i>=u&&(o=h*(a=c)),r=0,s=o;s--;)m[r++]=g[f++],m[r++]=g[f++],m[r++]=g[f++],m[r++]=255;t.putImageData(p,0,16*i)}}}}function r(t,e){for(var r=e.height,n=e.width,i=r%16,s=(r-i)/16,a=0===i?s:s+1,o=t.createImageData(n,16),l=0,h=e.data,c=o.data,u=0;u<a;u++){for(var d=u<s?16:i,p=3,f=0;f<d;f++)for(var g=0,m=0;m<n;m++){if(!g){var _=h[l++];g=128}c[p]=_&g?0:255,p+=4,g>>=1}t.putImageData(o,0,16*u)}}function l(t,e){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,i=r.length;n<i;n++){var s=r[n];void 0!==t[s]&&(e[s]=t[s])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function h(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function c(t,e,r,n){for(var i=t.length,s=3;s<i;s+=4){var a=t[s];if(0===a)t[s-3]=e,t[s-2]=r,t[s-1]=n;else if(a<255){var o=255-a;t[s-3]=t[s-3]*a+e*o>>8,t[s-2]=t[s-2]*a+r*o>>8,t[s-1]=t[s-1]*a+n*o>>8}}}function u(t,e,r){for(var n=t.length,i=3;i<n;i+=4)e[i]=e[i]*(r?r[t[i]]:t[i])*(1/255)|0}function d(t,e,r){for(var n=t.length,i=3;i<n;i+=4){var s=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=r?e[i]*r[s>>8]>>8:e[i]*s>>16}}function p(t,e,r,n){var i=e.canvas,s=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY);var a=e.backdrop||null;if(!e.transferMap&&n.isEnabled){const s=n.composeSMask({layer:r.canvas,mask:i,properties:{subtype:e.subtype,backdrop:a}});return t.setTransform(1,0,0,1,0,0),void t.drawImage(s,e.offsetX,e.offsetY)}!function(t,e,r,n,i,s,a){var o,l=!!s,h=l?s[0]:0,p=l?s[1]:0,f=l?s[2]:0;o="Luminosity"===i?d:u;for(var g=Math.min(n,Math.ceil(1048576/r)),m=0;m<n;m+=g){var _=Math.min(g,n-m),v=t.getImageData(0,m,r,_),y=e.getImageData(0,m,r,_);l&&c(v.data,h,p,f),o(v.data,y.data,a),t.putImageData(y,0,m)}}(s,r,i.width,i.height,e.subtype,a,e.transferMap),t.drawImage(i,0,0)}var f=["butt","round","square"],g=["miter","round","bevel"],m={},_={};for(var v in t.prototype={beginDrawing({transform:t,viewport:e,transparency:r=!1,background:n=null}){var i=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=n||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,i,s),this.ctx.restore(),r){var a=this.cachedCanvases.getCanvas("transparent",i,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),h(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,e.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,r,i){var s=t.argsArray,a=t.fnArray,o=e||0,l=s.length;if(l===o)return o;for(var h,c=l-o>10&&"function"==typeof r,u=c?Date.now()+15:0,d=0,p=this.commonObjs,f=this.objs;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if((h=a[o])!==n.OPS.dependency)this[h].apply(this,s[o]);else for(const t of s[o]){const e=t.startsWith("g_")?p:f;if(!e.has(t))return e.get(t,r),o}if(++o===l)return o;if(c&&++d>10){if(Date.now()>u)return r(),o;d=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=f[t]},setLineJoin:function(t){this.ctx.lineJoin=g[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(t),r.lineDashOffset=e)},setRenderingIntent(t){},setFlatness(t){},setGState:function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e],i=n[1];switch(n[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,t.canvas.width,t.canvas.height,!0),r=this.ctx,n=r.mozCurrentTransform;this.ctx.save();var i=e.context;i.scale(1/t.scaleX,1/t.scaleY),i.translate(-t.offsetX,-t.offsetY),i.transform.apply(i,n),t.startTransformInverse=i.mozCurrentTransformInverse,l(r,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},suspendSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),this.ctx.save(),l(t,this.ctx),this.current.resumeSMaskCtx=t;var e=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()},resumeSMaskGroup:function(){var t=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),l(t,this.ctx);var e=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(t,e,r,n,i,s){this.ctx.transform(t,e,r,n,i,s),this._cachedGetSinglePixelWidth=null},constructPath:function(t,e){for(var r=this.ctx,i=this.current,s=i.x,a=i.y,o=0,l=0,h=t.length;o<h;o++)switch(0|t[o]){case n.OPS.rectangle:s=e[l++],a=e[l++];var c=e[l++],u=e[l++];0===c&&(c=this.getSinglePixelWidth()),0===u&&(u=this.getSinglePixelWidth());var d=s+c,p=a+u;this.ctx.moveTo(s,a),this.ctx.lineTo(d,a),this.ctx.lineTo(d,p),this.ctx.lineTo(s,p),this.ctx.lineTo(s,a),this.ctx.closePath();break;case n.OPS.moveTo:s=e[l++],a=e[l++],r.moveTo(s,a);break;case n.OPS.lineTo:s=e[l++],a=e[l++],r.lineTo(s,a);break;case n.OPS.curveTo:r.bezierCurveTo(e[l],e[l+1],e[l+2],e[l+3],s=e[l+4],a=e[l+5]),l+=6;break;case n.OPS.curveTo2:r.bezierCurveTo(s,a,e[l],e[l+1],e[l+2],e[l+3]),s=e[l+2],a=e[l+3],l+=4;break;case n.OPS.curveTo3:r.bezierCurveTo(e[l],e[l+1],s=e[l+2],a=e[l+3],s,a),l+=4;break;case n.OPS.closePath:r.closePath()}i.setCurrentPoint(s,a)},closePath:function(){this.ctx.closePath()},stroke:function(t){t=void 0===t||t;var e=this.ctx,r=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,r&&r.hasOwnProperty("type")&&"Pattern"===r.type){e.save();const t=n.Util.singularValueDecompose2dScale(e.mozCurrentTransform)[0];e.strokeStyle=r.getPattern(e,this),e.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*t),e.stroke(),e.restore()}else e.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),e.stroke();t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t=void 0===t||t;var e=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(e.save(),this.baseTransform&&e.setTransform.apply(e,this.baseTransform),e.fillStyle=r.getPattern(e,this),n=!0),this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill(),n&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=m},eoClip:function(){this.pendingClip=_},beginText:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var r=0;r<t.length;r++){var n=t[r];e.setTransform.apply(e,n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,e){var r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error("Can't find font for "+t);if(i.fontMatrix=r.fontMatrix?r.fontMatrix:n.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;let s="normal";r.black?s="900":r.bold&&(s="bold");var a=r.italic?"italic":"normal",o=`"${r.loadedName||"sans-serif"}", ${r.fallbackName}`;let l=e;e<16?l=16:e>100&&(l=100),this.current.fontSizeScale=e/l,this.ctx.font=`${a} ${s} ${l}px ${o}`},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,r,n,i,s){this.current.textMatrix=[t,e,r,n,i,s],this.current.textMatrixScale=Math.sqrt(t*t+e*e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(t,e,r,i){var s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,c=l&n.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG);const d=a.patternFill&&o.data;var p;(o.disableFontFace||u||d)&&(p=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||d?(s.save(),s.translate(e,r),s.beginPath(),p(s,h),i&&s.setTransform.apply(s,i),c!==n.TextRenderingMode.FILL&&c!==n.TextRenderingMode.FILL_STROKE||s.fill(),c!==n.TextRenderingMode.STROKE&&c!==n.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(c!==n.TextRenderingMode.FILL&&c!==n.TextRenderingMode.FILL_STROKE||s.fillText(t,e,r),c!==n.TextRenderingMode.STROKE&&c!==n.TextRenderingMode.FILL_STROKE||s.strokeText(t,e,r)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:e,y:r,fontSize:h,addToPath:p})},get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,r=!1,i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(t){var e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(t);var i=e.fontSize;if(0===i)return;var s=this.ctx,a=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,h=e.fontDirection,c=e.textHScale*h,u=t.length,d=r.vertical,p=d?1:-1,f=r.defaultVMetrics,g=i*e.fontMatrix[0],m=e.textRenderingMode===n.TextRenderingMode.FILL&&!r.disableFontFace&&!e.patternFill;let _;if(s.save(),e.patternFill){s.save();const t=e.fillColor.getPattern(s,this);_=s.mozCurrentTransform,s.restore(),s.fillStyle=t}s.transform.apply(s,e.textMatrix),s.translate(e.x,e.y+e.textRise),s.scale(c,h>0?-1:1);var v=e.lineWidth,y=e.textMatrixScale;if(0===y||0===v){var b=e.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;b!==n.TextRenderingMode.STROKE&&b!==n.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,v=.65*this.getSinglePixelWidth())}else v/=y;1!==a&&(s.scale(a,a),v/=a),s.lineWidth=v;var x,A=0;for(x=0;x<u;++x){var w=t[x];if((0,n.isNum)(w))A+=p*w*i/1e3;else{var S,C,k,P,T=!1,R=(w.isSpace?l:0)+o,M=w.fontChar,L=w.accent,E=w.width;if(d?(k=w.vmetric||f,P=w.vmetric?k[1]:.5*E,E=k?-k[0]:E,S=(P=-P*g)/a,C=(A+k[2]*g)/a):(S=A/a,C=0),r.remeasure&&E>0){var D=1e3*s.measureText(M).width/i*a;if(E<D&&this.isFontSubpixelAAEnabled){var I=E/D;T=!0,s.save(),s.scale(I,1),S/=I}else E!==D&&(S+=(E-D)/2e3*i/a)}(w.isInFont||r.missingFile)&&(m&&!L?s.fillText(M,S,C):(this.paintChar(M,S,C,_),L&&this.paintChar(L.fontChar,S+L.offset.x/a,C-L.offset.y/a,_))),A+=d?E*g-R*h:E*g+R*h,T&&s.restore()}}d?e.y-=A:e.x+=A*c,s.restore()},showType3Text:function(t){var e,r,i,s,a=this.ctx,o=this.current,l=o.font,h=o.fontSize,c=o.fontDirection,u=l.vertical?1:-1,d=o.charSpacing,p=o.wordSpacing,f=o.textHScale*c,g=o.fontMatrix||n.FONT_IDENTITY_MATRIX,m=t.length;if(o.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&0!==h){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,o.textMatrix),a.translate(o.x,o.y),a.scale(f,c),e=0;e<m;++e)if((0,n.isNum)(r=t[e]))this.ctx.translate(s=u*r*h/1e3,0),o.x+=s*f;else{var _=(r.isSpace?p:0)+d,v=l.charProcOperatorList[r.operatorListId];if(v){this.processingType3=r,this.save(),a.scale(h,h),a.transform.apply(a,g),this.executeOperatorList(v),this.restore();var y=n.Util.applyTransform([r.width,0],g);a.translate(i=y[0]*h+_,0),o.x+=i*f}else(0,n.warn)(`Type3 character "${r.operatorListId}" is not available.`)}a.restore(),this.processingType3=null}},setCharWidth:function(t,e){},setCharWidthAndBounds:function(t,e,r,n,i,s){this.ctx.rect(r,n,i-r,s-n),this.clip(),this.endPath()},getColorN_Pattern:function(e){var r;if("TilingPattern"===e[0]){var n=e[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice();r=new i.TilingPattern(e,n,this.ctx,{createCanvasGraphics:e=>new t(e,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)},s)}else r=(0,i.getShadingPatternFromIR)(e);return r},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(t,e,r){var i=n.Util.makeCssRgb(t,e,r);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(t,e,r){var i=n.Util.makeCssRgb(t,e,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(t){var e=this.ctx;this.save();var r=(0,i.getShadingPatternFromIR)(t);e.fillStyle=r.getPattern(e,this,!0);var s=e.mozCurrentTransformInverse;if(s){var a=e.canvas,o=a.width,l=a.height,h=n.Util.applyTransform([0,0],s),c=n.Util.applyTransform([0,l],s),u=n.Util.applyTransform([o,0],s),d=n.Util.applyTransform([o,l],s),p=Math.min(h[0],c[0],u[0],d[0]),f=Math.min(h[1],c[1],u[1],d[1]),g=Math.max(h[0],c[0],u[0],d[0]),m=Math.max(h[1],c[1],u[1],d[1]);this.ctx.fillRect(p,f,g-p,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,n.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,n.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(t){this.save();var e=this.ctx;t.isolated||(0,n.info)("TODO: Support non-isolated groups."),t.knockout&&(0,n.warn)("Knockout groups not supported.");var r=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var i=n.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform);i=n.Util.intersect(i,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];var s=Math.floor(i[0]),a=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-s,1),h=Math.max(Math.ceil(i[3])-a,1),c=1,u=1;o>4096&&(c=o/4096,o=4096),h>4096&&(u=h/4096,h=4096);var d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(d,o,h,!0),f=p.context;f.scale(1/c,1/u),f.translate(-s,-a),f.transform.apply(f,r),t.smask?this.smaskStack.push({canvas:p.canvas,context:f,offsetX:s,offsetY:a,scaleX:c,scaleY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.scale(c,u)),l(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++,this.current.activeSMask=null},endGroup:function(t){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,r){this.save(),h(this.ctx),this.current=new o,Array.isArray(t)&&4===t.length&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath()),this.transform.apply(this,e),this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,e,r){const i=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(i){this.save();var s=this.ctx;if(s.scale(1/e,-1/r),s.drawImage(i,0,0,i.width,i.height,0,-r,e,r),this.imageLayer){var a=s.mozCurrentTransformInverse,o=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:o[0],top:o[1],width:e/a[0],height:r/a[3]})}this.restore()}else(0,n.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(t){var e=this.ctx,n=t.width,i=t.height,s=this.current.fillColor,a=this.current.patternFill,o=this.processingType3;if(o&&void 0===o.compiled&&(o.compiled=n<=1e3&&i<=1e3?function(t){var e,r,n,i,s=t.width,a=t.height,o=s+1,l=new Uint8Array(o*(a+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=s+7&-8,u=t.data,d=new Uint8Array(c*a),p=0;for(e=0,i=u.length;e<i;e++)for(var f=128,g=u[e];f>0;)d[p++]=g&f?0:255,f>>=1;var m=0;for(0!==d[p=0]&&(l[0]=1,++m),r=1;r<s;r++)d[p]!==d[p+1]&&(l[r]=d[p]?2:1,++m),p++;for(0!==d[p]&&(l[r]=2,++m),e=1;e<a;e++){n=e*o,d[(p=e*c)-c]!==d[p]&&(l[n]=d[p]?1:8,++m);var _=(d[p]?4:0)+(d[p-c]?8:0);for(r=1;r<s;r++)h[_=(_>>2)+(d[p+1]?4:0)+(d[p-c+1]?8:0)]&&(l[n+r]=h[_],++m),p++;if(d[p-c]!==d[p]&&(l[n+r]=d[p]?2:4,++m),m>1e3)return null}for(n=e*o,0!==d[p=c*(a-1)]&&(l[n]=8,++m),r=1;r<s;r++)d[p]!==d[p+1]&&(l[n+r]=d[p]?4:8,++m),p++;if(0!==d[p]&&(l[n+r]=4,++m),m>1e3)return null;var v=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=[];for(e=0;m&&e<=a;e++){for(var b=e*o,x=b+s;b<x&&!l[b];)b++;if(b!==x){var A,w=[b%o,e],S=l[b],C=b;do{var k=v[S];do{b+=k}while(!l[b]);5!==(A=l[b])&&10!==A?(S=A,l[b]=0):l[b]&=(S=A&51*S>>4)>>2|S<<2,w.push(b%o),w.push(b/o|0),l[b]||--m}while(C!==b);y.push(w),--e}}return function(t){t.save(),t.scale(1/s,-1/a),t.translate(0,-a),t.beginPath();for(var e=0,r=y.length;e<r;e++){var n=y[e];t.moveTo(n[0],n[1]);for(var i=2,o=n.length;i<o;i+=2)t.lineTo(n[i],n[i+1])}t.fill(),t.beginPath(),t.restore()}}({data:t.data,width:n,height:i}):null),o&&o.compiled)o.compiled(e);else{var l=this.cachedCanvases.getCanvas("maskCanvas",n,i),h=l.context;h.save(),r(h,t),h.globalCompositeOperation="source-in",h.fillStyle=a?s.getPattern(h,this):s,h.fillRect(0,0,n,i),h.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(t,e,n,i){var s=t.width,a=t.height,o=this.current.fillColor,l=this.current.patternFill,h=this.cachedCanvases.getCanvas("maskCanvas",s,a),c=h.context;c.save(),r(c,t),c.globalCompositeOperation="source-in",c.fillStyle=l?o.getPattern(c,this):o,c.fillRect(0,0,s,a),c.restore();for(var u=this.ctx,d=0,p=i.length;d<p;d+=2)u.save(),u.transform(e,0,0,n,i[d],i[d+1]),u.scale(1,-1),u.drawImage(h.canvas,0,0,s,a,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,n=this.current.fillColor,i=this.current.patternFill,s=0,a=t.length;s<a;s++){var o=t[s],l=o.width,h=o.height,c=this.cachedCanvases.getCanvas("maskCanvas",l,h),u=c.context;u.save(),r(u,o),u.globalCompositeOperation="source-in",u.fillStyle=i?n.getPattern(u,this):n,u.fillRect(0,0,l,h),u.restore(),e.save(),e.transform.apply(e,o.transform),e.scale(1,-1),e.drawImage(c.canvas,0,0,l,h,0,-1,1,1),e.restore()}},paintImageXObject:function(t){const e=this.processingType3?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,n.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(t,e,r,i){const s=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(s){for(var a=s.width,o=s.height,l=[],h=0,c=i.length;h<c;h+=2)l.push({transform:[e,0,0,r,i[h],i[h+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}else(0,n.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(t){var r=t.width,n=t.height,i=this.ctx;this.save(),i.scale(1/r,-1/n);var s,a,o=i.mozCurrentTransformInverse,l=o[0],h=o[1],c=Math.max(Math.sqrt(l*l+h*h),1),u=o[2],d=o[3],p=Math.max(Math.sqrt(u*u+d*d),1);if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)s=t;else{var f=(a=this.cachedCanvases.getCanvas("inlineImage",r,n)).context;e(f,t),s=a.canvas}for(var g=r,m=n,_="prescale1";c>2&&g>1||p>2&&m>1;){var v=g,y=m;c>2&&g>1&&(c/=g/(v=Math.ceil(g/2))),p>2&&m>1&&(p/=m/(y=Math.ceil(m/2))),(f=(a=this.cachedCanvases.getCanvas(_,v,y)).context).clearRect(0,0,v,y),f.drawImage(s,0,0,g,m,0,0,v,y),s=a.canvas,g=v,m=y,_="prescale1"===_?"prescale2":"prescale1"}if(i.drawImage(s,0,0,g,m,0,-n,r,n),this.imageLayer){var b=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:b[0],top:b[1],width:r/o[0],height:n/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,r){var n=this.ctx,i=t.width,s=t.height,a=this.cachedCanvases.getCanvas("inlineImage",i,s);e(a.context,t);for(var o=0,l=r.length;o<l;o++){var h=r[o];if(n.save(),n.transform.apply(n,h.transform),n.scale(1,-1),n.drawImage(a.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:t,left:c[0],top:c[1],width:i,height:s})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function(t){},markPointProps:function(t,e){},beginMarkedContent:function(t){},beginMarkedContentProps:function(t,e){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===_?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()},getSinglePixelWidth(t){if(null===this._cachedGetSinglePixelWidth){const t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(t,e){var r=this.ctx.mozCurrentTransform;return[r[0]*t+r[2]*e+r[4],r[1]*t+r[3]*e+r[5]]}},n.OPS)t.prototype[n.OPS[v]]=t.prototype[v];return t}();e.CanvasGraphics=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPatternFromIR=function(t){var e=i[t[0]];if(!e)throw new Error("Unknown IR type: "+t[0]);return e.fromIR(t)},e.TilingPattern=void 0;var n=r(1),i={};function s(t,e){if(!e||"undefined"==typeof Path2D)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}i.RadialAxial={fromIR:function(t){var e=t[1],r=t[2],n=t[3],i=t[4],a=t[5],o=t[6],l=t[7];return{type:"Pattern",getPattern:function(t){var h;s(t,r),"axial"===e?h=t.createLinearGradient(i[0],i[1],a[0],a[1]):"radial"===e&&(h=t.createRadialGradient(i[0],i[1],o,a[0],a[1],l));for(var c=0,u=n.length;c<u;++c){var d=n[c];h.addColorStop(d[0],d[1])}return h}}}};var a=function(){function t(t,e,r,n,i,s,a,o){var l,h=e.coords,c=e.colors,u=t.data,d=4*t.width;h[r+1]>h[n+1]&&(l=r,r=n,n=l,l=s,s=a,a=l),h[n+1]>h[i+1]&&(l=n,n=i,i=l,l=a,a=o,o=l),h[r+1]>h[n+1]&&(l=r,r=n,n=l,l=s,s=a,a=l);var p=(h[r]+e.offsetX)*e.scaleX,f=(h[r+1]+e.offsetY)*e.scaleY,g=(h[n]+e.offsetX)*e.scaleX,m=(h[n+1]+e.offsetY)*e.scaleY,_=(h[i]+e.offsetX)*e.scaleX,v=(h[i+1]+e.offsetY)*e.scaleY;if(!(f>=v))for(var y,b,x,A,w,S,C,k,P=c[s],T=c[s+1],R=c[s+2],M=c[a],L=c[a+1],E=c[a+2],D=c[o],I=c[o+1],F=c[o+2],N=Math.round(f),O=Math.round(v),B=N;B<=O;B++){if(B<m){let t;t=B<f?0:f===m?1:(f-B)/(f-m),y=p-(p-g)*t,b=P-(P-M)*t,x=T-(T-L)*t,A=R-(R-E)*t}else{let t;t=B>v?1:m===v?0:(m-B)/(m-v),y=g-(g-_)*t,b=M-(M-D)*t,x=L-(L-I)*t,A=E-(E-F)*t}let t;t=B<f?0:B>v?1:(f-B)/(f-v),w=p-(p-_)*t,S=P-(P-D)*t,C=T-(T-I)*t,k=R-(R-F)*t;for(var U=Math.round(Math.min(y,w)),j=Math.round(Math.max(y,w)),W=d*B+4*U,H=U;H<=j;H++){let t=(y-H)/(y-w);t<0?t=0:t>1&&(t=1),u[W++]=b-(b-S)*t|0,u[W++]=x-(x-C)*t|0,u[W++]=A-(A-k)*t|0,u[W++]=255}}}function e(e,r,n){var i,s,a=r.coords,o=r.colors;switch(r.type){case"lattice":var l=r.verticesPerRow,h=Math.floor(a.length/l)-1,c=l-1;for(i=0;i<h;i++)for(var u=i*l,d=0;d<c;d++,u++)t(e,n,a[u],a[u+1],a[u+l],o[u],o[u+1],o[u+l]),t(e,n,a[u+l+1],a[u+1],a[u+l],o[u+l+1],o[u+1],o[u+l]);break;case"triangles":for(i=0,s=a.length;i<s;i+=3)t(e,n,a[i],a[i+1],a[i+2],o[i],o[i+1],o[i+2]);break;default:throw new Error("illegal figure")}}return function(t,r,n,i,s,a,o,l){var h,c,u,d,p=Math.floor(t[0]),f=Math.floor(t[1]),g=Math.ceil(t[2])-p,m=Math.ceil(t[3])-f,_=Math.min(Math.ceil(Math.abs(g*r[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*r[1]*1.1)),3e3),y=g/_,b=m/v,x={coords:n,colors:i,offsetX:-p,offsetY:-f,scaleX:1/y,scaleY:1/b},A=_+4,w=v+4;if(l.isEnabled)h=l.drawFigures({width:_,height:v,backgroundColor:a,figures:s,context:x}),(c=o.getCanvas("mesh",A,w,!1)).context.drawImage(h,2,2),h=c.canvas;else{var S=(c=o.getCanvas("mesh",A,w,!1)).context,C=S.createImageData(_,v);if(a){var k=C.data;for(u=0,d=k.length;u<d;u+=4)k[u]=a[0],k[u+1]=a[1],k[u+2]=a[2],k[u+3]=255}for(u=0;u<s.length;u++)e(C,s[u],x);S.putImageData(C,2,2),h=c.canvas}return{canvas:h,offsetX:p-2*y,offsetY:f-2*b,scaleX:y,scaleY:b}}}();i.Mesh={fromIR:function(t){var e=t[2],r=t[3],i=t[4],o=t[5],l=t[6],h=t[7],c=t[8];return{type:"Pattern",getPattern:function(t,u,d){var p;if(s(t,h),d)p=n.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(p=n.Util.singularValueDecompose2dScale(u.baseTransform),l){var f=n.Util.singularValueDecompose2dScale(l);p=[p[0]*f[0],p[1]*f[1]]}var g=a(o,p,e,r,i,d?null:c,u.cachedCanvases,u.webGLContext);return d||(t.setTransform.apply(t,u.baseTransform),l&&t.transform.apply(t,l)),t.translate(g.offsetX,g.offsetY),t.scale(g.scaleX,g.scaleY),t.createPattern(g.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var o=function(){function t(t,e,r,n,i){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.canvasGraphicsFactory=n,this.baseTransform=i,this.type="Pattern",this.ctx=r}return t.prototype={createPatternCanvas:function(t){var e=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,o=this.color,l=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+this.tilingType);var h=r[0],c=r[1],u=r[2],d=r[3],p=n.Util.singularValueDecompose2dScale(this.matrix),f=n.Util.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*f[0],p[1]*f[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),_=this.getSizeAndScale(s,this.ctx.canvas.height,g[1]),v=t.cachedCanvases.getCanvas("pattern",m.size,_.size,!0),y=l.createCanvasGraphics(v.context);return y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(y,a,o),y.transform(m.scale,0,0,_.scale,0,0),y.transform(1,0,0,1,-h,-c),this.clipBbox(y,r,h,c,u,d),y.executeOperatorList(e),this.ctx.transform(1,0,0,1,h,c),this.ctx.scale(1/m.scale,1/_.scale),v.canvas},getSizeAndScale:function(t,e,r){t=Math.abs(t);var n=Math.max(3e3,e),i=Math.ceil(t*r);return i>=n?i=n:r=i/t,{scale:r,size:i}},clipBbox:function(t,e,r,n,i,s){Array.isArray(e)&&4===e.length&&(t.ctx.rect(r,n,i-r,s-n),t.clip(),t.endPath())},setFillAndStrokeStyleToContext:function(t,e,r){const i=t.ctx,s=t.current;switch(e){case 1:var a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case 2:var o=n.Util.makeCssRgb(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new n.FormatError("Unsupported paint type: "+e)}},getPattern:function(t,e){(t=this.ctx).setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix);var r=this.createPatternCanvas(e);return t.createPattern(r,"repeat")}},t}();e.TilingPattern=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=r(1);function i(t){if("object"!=typeof t||null===t)return t;switch(t.name){case"AbortException":return new n.AbortException(t.message);case"MissingPDFException":return new n.MissingPDFException(t.message);case"UnexpectedResponseException":return new n.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new n.UnknownErrorException(t.message,t.details);default:return new n.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,r){this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,r=this.callbackCapabilities[t];if(!r)throw new Error("Cannot resolve callback "+t);if(delete this.callbackCapabilities[t],1===e.callback)r.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");r.reject(i(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: "+e.action);if(e.callbackId){const t=this.sourceName,s=e.sourceName;new Promise((function(t){t(n(e.data))})).then((function(n){r.postMessage({sourceName:t,targetName:s,callback:1,callbackId:e.callbackId,data:n})}),(function(n){r.postMessage({sourceName:t,targetName:s,callback:2,callbackId:e.callbackId,reason:i(n)})}))}else e.streamId?this._createStreamSink(e):n(e.data)},r.addEventListener("message",this._onComObjOnMessage)}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const i=this.callbackId++,s=(0,n.createPromiseCapability)();this.callbackCapabilities[i]=s;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(t,e,r,s){const a=this.streamId++,o=this.sourceName,l=this.targetName,h=this.comObj;return new ReadableStream({start:r=>{const i=(0,n.createPromiseCapability)();return this.streamControllers[a]={controller:r,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:o,targetName:l,action:t,streamId:a,data:e,desiredSize:r.desiredSize},s),i.promise},pull:t=>{const e=(0,n.createPromiseCapability)();return this.streamControllers[a].pullCall=e,h.postMessage({sourceName:o,targetName:l,stream:6,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,n.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,n.createPromiseCapability)();return this.streamControllers[a].cancelCall=e,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:o,targetName:l,stream:1,streamId:a,reason:i(t)}),e.promise}},r)}_createStreamSink(t){const e=this,r=this.actionHandler[t.action],s=t.streamId,a=this.sourceName,o=t.sourceName,l=this.comObj,h={enqueue(t,r=1,i){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=r,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e._postMessage({sourceName:a,targetName:o,stream:4,streamId:s,chunk:t},i)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:o,stream:3,streamId:s}),delete e.streamSinks[s])},error(t){(0,n.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:o,stream:5,streamId:s,reason:i(t)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[s]=h,new Promise((function(e){e(r(t.data,h))})).then((function(){l.postMessage({sourceName:a,targetName:o,stream:8,streamId:s,success:!0})}),(function(t){l.postMessage({sourceName:a,targetName:o,stream:8,streamId:s,reason:i(t)})}))}_processStreamMessage(t){const e=t.streamId,r=this.sourceName,s=t.sourceName,a=this.comObj;switch(t.stream){case 8:t.success?this.streamControllers[e].startCall.resolve():this.streamControllers[e].startCall.reject(i(t.reason));break;case 7:t.success?this.streamControllers[e].pullCall.resolve():this.streamControllers[e].pullCall.reject(i(t.reason));break;case 6:if(!this.streamSinks[e]){a.postMessage({sourceName:r,targetName:s,stream:7,streamId:e,success:!0});break}this.streamSinks[e].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[e].sinkCapability.resolve(),this.streamSinks[e].desiredSize=t.desiredSize;const{onPull:o}=this.streamSinks[t.streamId];new Promise((function(t){t(o&&o())})).then((function(){a.postMessage({sourceName:r,targetName:s,stream:7,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:r,targetName:s,stream:7,streamId:e,reason:i(t)})}));break;case 4:if((0,n.assert)(this.streamControllers[e],"enqueue should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].controller.enqueue(t.chunk);break;case 3:if((0,n.assert)(this.streamControllers[e],"close should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].isClosed=!0,this.streamControllers[e].controller.close(),this._deleteStreamController(e);break;case 5:(0,n.assert)(this.streamControllers[e],"error should have stream controller"),this.streamControllers[e].controller.error(i(t.reason)),this._deleteStreamController(e);break;case 2:t.success?this.streamControllers[e].cancelCall.resolve():this.streamControllers[e].cancelCall.reject(i(t.reason)),this._deleteStreamController(e);break;case 1:if(!this.streamSinks[e])break;const{onCancel:l}=this.streamSinks[t.streamId];new Promise((function(e){e(l&&l(i(t.reason)))})).then((function(){a.postMessage({sourceName:r,targetName:s,stream:2,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:r,targetName:s,stream:2,streamId:e,reason:i(t)})})),this.streamSinks[e].sinkCapability.reject(i(t.reason)),this.streamSinks[e].isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t){await Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(t){return t&&t.promise}))),delete this.streamControllers[t]}_postMessage(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=r(1),i=r(13);e.Metadata=class{constructor(t){(0,n.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);const e=(new i.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map,e&&this._parse(e)}_repair(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,e){const r=e.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,e,r,n){return String.fromCharCode(64*e+8*r+1*n)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,e){switch(e){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${e} isn't defined.`)}));let n="";for(let i=0,s=r.length;i<s;i+=2){const t=256*r.charCodeAt(i)+r.charCodeAt(i+1);n+=t>=32&&t<127&&60!==t&&62!==t&&38!==t?String.fromCharCode(t):"&#x"+(65536+t).toString(16).substring(1)+";"}return">"+n}))}_parse(t){let e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;const r=e?e.nodeName.toLowerCase():null;if(!e||"rdf:rdf"!==r||!e.hasChildNodes())return;const n=e.childNodes;for(let i=0,s=n.length;i<s;i++){const t=n[i];if("rdf:description"===t.nodeName.toLowerCase())for(let e=0,r=t.childNodes.length;e<r;e++)if("#text"!==t.childNodes[e].nodeName.toLowerCase()){const r=t.childNodes[e],n=r.nodeName.toLowerCase();this._metadataMap.set(n,r.textContent.trim())}}}get(t){return this._metadataMap.has(t)?this._metadataMap.get(t):null}getAll(){const t=Object.create(null);for(const[e,r]of this._metadataMap)t[e]=r;return t}has(t){return this._metadataMap.has(t)}}},function(t,e,r){"use strict";function n(t,e){const r=t[e];return" "===r||"\n"===r||"\r"===r||"\t"===r}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleXMLParser=void 0;class i{constructor(t,e){this.nodeName=t,this.nodeValue=e,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const t=this.parentNode.childNodes;if(!t)return;const e=t.indexOf(this);return-1!==e?t[e+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}e.SimpleXMLParser=class extends class{_resolveEntities(t){return t.replace(/&([^;]+);/g,(t,e)=>{if("#x"===e.substring(0,2))return String.fromCharCode(parseInt(e.substring(2),16));if("#"===e.substring(0,1))return String.fromCharCode(parseInt(e.substring(1),10));switch(e){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(e)})}_parseContent(t,e){const r=[];let i=e;function s(){for(;i<t.length&&n(t,i);)++i}for(;i<t.length&&!n(t,i)&&">"!==t[i]&&"/"!==t[i];)++i;const a=t.substring(e,i);for(s();i<t.length&&">"!==t[i]&&"/"!==t[i]&&"?"!==t[i];){s();let e="",a="";for(;i<t.length&&!n(t,i)&&"="!==t[i];)e+=t[i],++i;if(s(),"="!==t[i])return null;++i,s();const o=t[i];if('"'!==o&&"'"!==o)return null;const l=t.indexOf(o,++i);if(l<0)return null;a=t.substring(i,l),r.push({name:e,value:this._resolveEntities(a)}),i=l+1,s()}return{name:a,attributes:r,parsed:i-e}}_parseProcessingInstruction(t,e){let r=e;for(;r<t.length&&!n(t,r)&&">"!==t[r]&&"/"!==t[r];)++r;const i=t.substring(e,r);!function(){for(;r<t.length&&n(t,r);)++r}();const s=r;for(;r<t.length&&("?"!==t[r]||">"!==t[r+1]);)++r;return{name:i,value:t.substring(s,r),parsed:r-e}}parseXml(t){let e=0;for(;e<t.length;){let r=e;if("<"===t[e]){let e;switch(++r,t[r]){case"/":if(++r,e=t.indexOf(">",r),e<0)return void this.onError(-9);this.onEndElement(t.substring(r,e)),r=e+1;break;case"?":++r;const n=this._parseProcessingInstruction(t,r);if("?>"!==t.substring(r+n.parsed,r+n.parsed+2))return void this.onError(-3);this.onPi(n.name,n.value),r+=n.parsed+2;break;case"!":if("--"===t.substring(r+1,r+3)){if(e=t.indexOf("--\x3e",r+3),e<0)return void this.onError(-5);this.onComment(t.substring(r+3,e)),r=e+3}else if("[CDATA["===t.substring(r+1,r+8)){if(e=t.indexOf("]]>",r+8),e<0)return void this.onError(-2);this.onCdata(t.substring(r+8,e)),r=e+3}else{if("DOCTYPE"!==t.substring(r+1,r+8))return void this.onError(-6);{const n=t.indexOf("[",r+8);let i=!1;if(e=t.indexOf(">",r+8),e<0)return void this.onError(-4);if(n>0&&e>n){if(e=t.indexOf("]>",r+8),e<0)return void this.onError(-4);i=!0}const s=t.substring(r+8,e+(i?1:0));this.onDoctype(s),r=e+(i?2:1)}}break;default:const i=this._parseContent(t,r);if(null===i)return void this.onError(-6);let s=!1;if("/>"===t.substring(r+i.parsed,r+i.parsed+2))s=!0;else if(">"!==t.substring(r+i.parsed,r+i.parsed+1))return void this.onError(-9);this.onBeginElement(i.name,i.attributes,s),r+=i.parsed+(s?2:1)}}else{for(;r<t.length&&"<"!==t[r];)r++;const n=t.substring(e,r);this.onText(this._resolveEntities(n))}e=r}}onResolveEntity(t){return`&${t};`}onPi(t,e){}onComment(t){}onCdata(t){}onDoctype(t){}onText(t){}onBeginElement(t,e,r){}onEndElement(t){}onError(t){}}{constructor(){super(),this._currentFragment=null,this._stack=null,this._errorCode=0}parseFromString(t){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(t),0!==this._errorCode)return;const[e]=this._currentFragment;return e?{documentElement:e}:void 0}onResolveEntity(t){switch(t){case"apos":return"'"}return super.onResolveEntity(t)}onText(t){if(function(t){for(let e=0,r=t.length;e<r;e++)if(!n(t,e))return!1;return!0}(t))return;const e=new i("#text",t);this._currentFragment.push(e)}onCdata(t){const e=new i("#text",t);this._currentFragment.push(e)}onBeginElement(t,e,r){const n=new i(t);n.childNodes=[],this._currentFragment.push(n),r||(this._stack.push(this._currentFragment),this._currentFragment=n.childNodes)}onEndElement(t){this._currentFragment=this._stack.pop()||[];const e=this._currentFragment[this._currentFragment.length-1];if(e)for(let r=0,n=e.childNodes.length;r<n;r++)e.childNodes[r].parentNode=e}onError(t){this._errorCode=t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=r(1);e.PDFDataTransportStream=class{constructor(t,e){(0,n.assert)(e),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;const r=t.initialData;if(r&&r.length>0){const t=new Uint8Array(r).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((t,e)=>{this._onReceiveData({begin:t,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((t,e)=>{this._onProgress({loaded:t,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const r=this._rangeReaders.some((function(r){return r._begin===t.begin&&(r._enqueue(e),!0)}));(0,n.assert)(r)}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;e&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader);const t=this._queuedChunks;return this._queuedChunks=null,new i(this,t,this._progressiveDone)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new s(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach((function(e){e.cancel(t)})),this._pdfDataRangeTransport.abort()}};class i{constructor(t,e,r=!1){this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=e||[],this._loaded=0;for(const n of this._queuedChunks)this._loaded+=n.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(t,e,r){this._stream=t,this._begin=e,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){this._done||(0===this._requests.length?this._queuedChunk=t:(this._requests.shift().resolve({value:t,done:!1}),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=void 0;var n=r(1);e.WebGLContext=class{constructor({enable:t=!1}){this._enabled=!0===t}get isEnabled(){let t=this._enabled;return t&&(t=i.tryInitGL()),(0,n.shadow)(this,"isEnabled",t)}composeSMask({layer:t,mask:e,properties:r}){return i.composeSMask(t,e,r)}drawFigures({width:t,height:e,backgroundColor:r,figures:n,context:s}){return i.drawFigures(t,e,r,n,s)}clear(){i.cleanup()}};var i=function(){function t(t,e,r){var n=t.createShader(r);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+i)}return n}function e(e,r){return t(e,r,e.VERTEX_SHADER)}function r(e,r){return t(e,r,e.FRAGMENT_SHADER)}function n(t,e){for(var r=t.createProgram(),n=0,i=e.length;n<i;++n)t.attachShader(r,e[n]);if(t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS)){var s=t.getProgramInfoLog(r);throw new Error("Error during program linking: "+s)}return r}function i(t,e,r){t.activeTexture(r);var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}var s,a;function o(){s||(a=document.createElement("canvas"),s=a.getContext("webgl",{premultipliedalpha:!1}))}var l=null,h=null;return{tryInitGL(){try{return o(),!!s}catch(t){}return!1},composeSMask:function(t,h,c){var u=t.width,d=t.height;l||function(){var t,i;o(),t=a,a=null,i=s,s=null;var h=n(i,[e(i,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),r(i,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);i.useProgram(h);var c={};c.gl=i,c.canvas=t,c.resolutionLocation=i.getUniformLocation(h,"u_resolution"),c.positionLocation=i.getAttribLocation(h,"a_position"),c.backdropLocation=i.getUniformLocation(h,"u_backdrop"),c.subtypeLocation=i.getUniformLocation(h,"u_subtype");var u=i.getAttribLocation(h,"a_texCoord"),d=i.getUniformLocation(h,"u_image"),p=i.getUniformLocation(h,"u_mask"),f=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(u),i.vertexAttribPointer(u,2,i.FLOAT,!1,0,0),i.uniform1i(d,0),i.uniform1i(p,1),l=c}();var p=l,f=p.canvas,g=p.gl;f.width=u,f.height=d,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(p.resolutionLocation,u,d),c.backdrop?g.uniform4f(p.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):g.uniform4f(p.resolutionLocation,0,0,0,0),g.uniform1i(p.subtypeLocation,"Luminosity"===c.subtype?1:0);var m=i(g,t,g.TEXTURE0),_=i(g,h,g.TEXTURE1),v=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,v),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,u,0,0,d,0,d,u,0,u,d]),g.STATIC_DRAW),g.enableVertexAttribArray(p.positionLocation),g.vertexAttribPointer(p.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(m),g.deleteTexture(_),g.deleteBuffer(v),f},drawFigures:function(t,i,l,c,u){h||function(){var t,i;o(),t=a,a=null,i=s,s=null;var l=n(i,[e(i,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),r(i,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);i.useProgram(l);var c={};c.gl=i,c.canvas=t,c.resolutionLocation=i.getUniformLocation(l,"u_resolution"),c.scaleLocation=i.getUniformLocation(l,"u_scale"),c.offsetLocation=i.getUniformLocation(l,"u_offset"),c.positionLocation=i.getAttribLocation(l,"a_position"),c.colorLocation=i.getAttribLocation(l,"a_color"),h=c}();var d=h,p=d.canvas,f=d.gl;p.width=t,p.height=i,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(d.resolutionLocation,t,i);var g,m,_,v=0;for(g=0,m=c.length;g<m;g++)switch(c[g].type){case"lattice":v+=((_=c[g].coords.length/c[g].verticesPerRow|0)-1)*(c[g].verticesPerRow-1)*6;break;case"triangles":v+=c[g].coords.length}var y=new Float32Array(2*v),b=new Uint8Array(3*v),x=u.coords,A=u.colors,w=0,S=0;for(g=0,m=c.length;g<m;g++){var C=c[g],k=C.coords,P=C.colors;switch(C.type){case"lattice":var T=C.verticesPerRow;_=k.length/T|0;for(var R=1;R<_;R++)for(var M=R*T+1,L=1;L<T;L++,M++)y[w]=x[k[M-T-1]],y[w+1]=x[k[M-T-1]+1],y[w+2]=x[k[M-T]],y[w+3]=x[k[M-T]+1],y[w+4]=x[k[M-1]],y[w+5]=x[k[M-1]+1],b[S]=A[P[M-T-1]],b[S+1]=A[P[M-T-1]+1],b[S+2]=A[P[M-T-1]+2],b[S+3]=A[P[M-T]],b[S+4]=A[P[M-T]+1],b[S+5]=A[P[M-T]+2],b[S+6]=A[P[M-1]],b[S+7]=A[P[M-1]+1],b[S+8]=A[P[M-1]+2],y[w+6]=y[w+2],y[w+7]=y[w+3],y[w+8]=y[w+4],y[w+9]=y[w+5],y[w+10]=x[k[M]],y[w+11]=x[k[M]+1],b[S+9]=b[S+3],b[S+10]=b[S+4],b[S+11]=b[S+5],b[S+12]=b[S+6],b[S+13]=b[S+7],b[S+14]=b[S+8],b[S+15]=A[P[M]],b[S+16]=A[P[M]+1],b[S+17]=A[P[M]+2],w+=12,S+=18;break;case"triangles":for(var E=0,D=k.length;E<D;E++)y[w]=x[k[E]],y[w+1]=x[k[E]+1],b[S]=A[P[E]],b[S+1]=A[P[E]+1],b[S+2]=A[P[E]+2],w+=2,S+=3}}l?f.clearColor(l[0]/255,l[1]/255,l[2]/255,1):f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT);var I=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,I),f.bufferData(f.ARRAY_BUFFER,y,f.STATIC_DRAW),f.enableVertexAttribArray(d.positionLocation),f.vertexAttribPointer(d.positionLocation,2,f.FLOAT,!1,0,0);var F=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,F),f.bufferData(f.ARRAY_BUFFER,b,f.STATIC_DRAW),f.enableVertexAttribArray(d.colorLocation),f.vertexAttribPointer(d.colorLocation,3,f.UNSIGNED_BYTE,!1,0,0),f.uniform2f(d.scaleLocation,u.scaleX,u.scaleY),f.uniform2f(d.offsetLocation,u.offsetX,u.offsetY),f.drawArrays(f.TRIANGLES,0,v),f.flush(),f.deleteBuffer(I),f.deleteBuffer(F),p},cleanup(){l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0),l=null,h=null}}}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=void 0;var n=r(1),i=function(){var t=/\S/;function e(e,r,i){var s=document.createElement("span"),a={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(s),!t.test(r.str))return a.isWhitespace=!0,void e._textDivProperties.set(s,a);var o=n.Util.transform(e._viewport.transform,r.transform),l=Math.atan2(o[1],o[0]),h=i[r.fontName];h.vertical&&(l+=Math.PI/2);var c=Math.sqrt(o[2]*o[2]+o[3]*o[3]),u=c;let d,p;if(h.ascent?u*=h.ascent:h.descent&&(u*=1+h.descent),0===l?(d=o[4],p=o[5]-u):(d=o[4]+u*Math.sin(l),p=o[5]-u*Math.cos(l)),s.style.left=d+"px",s.style.top=p+"px",s.style.fontSize=c+"px",s.style.fontFamily=h.fontFamily,s.textContent=r.str,e._fontInspectorEnabled&&(s.dataset.fontName=r.fontName),0!==l&&(a.angle=l*(180/Math.PI)),r.str.length>1&&(a.canvasWidth=h.vertical?r.height*e._viewport.scale:r.width*e._viewport.scale),e._textDivProperties.set(s,a),e._textContentStream&&e._layoutText(s),e._enhanceTextSelection){var f=1,g=0;0!==l&&(f=Math.cos(l),g=Math.sin(l));var m,_,v=(h.vertical?r.height:r.width)*e._viewport.scale,y=c;_=0!==l?n.Util.getAxialAlignedBoundingBox([0,0,v,y],m=[f,g,-g,f,d,p]):[d,p,d+v,p+y],e._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:s,size:[v,y],m:m})}}function r(t){if(!t._canceled){var e=t._textDivs,r=t._capability,n=e.length;if(n>1e5)return t._renderingDone=!0,void r.resolve();if(!t._textContentStream)for(var i=0;i<n;i++)t._layoutText(e[i]);t._renderingDone=!0,r.resolve()}}function i(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));var r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach((function(t){for(var e=0;e<r.length&&r[e].end<=t.y1;)e++;for(var n,i,s=r.length-1;s>=0&&r[s].start>=t.y2;)s--;var a,o,l=-1/0;for(a=e;a<=s;a++){var h;(h=(i=(n=r[a]).boundary).x2>t.x1?i.index>t.index?i.x1New:t.x1:void 0===i.x2New?(i.x2+t.x1)/2:i.x2New)>l&&(l=h)}for(t.x1New=l,a=e;a<=s;a++)void 0===(i=(n=r[a]).boundary).x2New?i.x2>t.x1?i.index>t.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));var c=[],u=null;for(a=e;a<=s;a++){var d=(i=(n=r[a]).boundary).x2>t.x2?i:t;u===d?c[c.length-1].end=n.end:(c.push({start:n.start,end:n.end,boundary:d}),u=d)}for(r[e].start<t.y1&&(c[0].start=t.y1,c.unshift({start:r[e].start,end:t.y1,boundary:r[e].boundary})),t.y2<r[s].end&&(c[c.length-1].end=t.y2,c.push({start:t.y2,end:r[s].end,boundary:r[s].boundary})),a=e;a<=s;a++)if(void 0===(i=(n=r[a]).boundary).x2New){var p=!1;for(o=e-1;!p&&o>=0&&r[o].start>=i.y1;o--)p=r[o].boundary===i;for(o=s+1;!p&&o<r.length&&r[o].end<=i.y2;o++)p=r[o].boundary===i;for(o=0;!p&&o<c.length;o++)p=c[o].boundary===i;p||(i.x2New=l)}Array.prototype.splice.apply(r,[e,s-e+1].concat(c))})),r.forEach((function(e){var r=e.boundary;void 0===r.x2New&&(r.x2New=Math.max(t,r.x2))}))}function s({textContent:t,textContentStream:e,container:r,viewport:i,textDivs:s,textContentItemsStr:a,enhanceTextSelection:o}){this._textContent=t,this._textContentStream=e,this._container=r,this._viewport=i,this._textDivs=s||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!o,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}return s.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(t,r){for(let n=0,i=t.length;n<i;n++)this._textContentItemsStr.push(t[n].str),e(this,t[n],r)},_layoutText(t){const e=this._textDivProperties.get(t);if(e.isWhitespace)return;let r="";if(0!==e.canvasWidth){const{fontSize:n,fontFamily:i}=t.style;n===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${n} ${i}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=i);const{width:s}=this._layoutTextCtx.measureText(t.textContent);s>0&&(e.scale=e.canvasWidth/s,r=`scaleX(${e.scale})`)}0!==e.angle&&(r=`rotate(${e.angle}deg) ${r}`),r.length>0&&(this._enhanceTextSelection&&(e.originalTransform=r),t.style.transform=r),this._textDivProperties.set(t,e),this._container.appendChild(t)},_render:function(t){const e=(0,n.createPromiseCapability)();let i=Object.create(null);const s=document.createElement("canvas");if(s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),e.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then(({value:r,done:n})=>{n?e.resolve():(Object.assign(i,r.styles),this._processItems(r.items,i),t())},e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then(()=>{i=null,t?this._renderTimer=setTimeout(()=>{r(this),this._renderTimer=null},t):r(this)},this._capability.reject)},expandTextDivs:function(t){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(t){for(var e=t._bounds,r=t._viewport,s=function(t,e,r){var n=r.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));i(t,n);var s=new Array(r.length);return n.forEach((function(t){s[t.index]={left:t.x1New,top:0,right:t.x2New,bottom:0}})),r.map((function(e,r){var i=s[r],a=n[r];a.x1=e.top,a.y1=t-i.right,a.x2=e.bottom,a.y2=t-i.left,a.index=r,a.x1New=void 0,a.x2New=void 0})),i(e,n),n.forEach((function(t){var e=t.index;s[e].top=t.x1New,s[e].bottom=t.x2New})),s}(r.width,r.height,e),a=0;a<s.length;a++){var o=e[a].div,l=t._textDivProperties.get(o);if(0!==l.angle){var h=s[a],c=e[a],u=c.m,d=u[0],p=u[1],f=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],g=new Float64Array(64);f.forEach((function(t,e){var r=n.Util.applyTransform(t,u);g[e+0]=d&&(h.left-r[0])/d,g[e+4]=p&&(h.top-r[1])/p,g[e+8]=d&&(h.right-r[0])/d,g[e+12]=p&&(h.bottom-r[1])/p,g[e+16]=p&&(h.left-r[0])/-p,g[e+20]=d&&(h.top-r[1])/d,g[e+24]=p&&(h.right-r[0])/-p,g[e+28]=d&&(h.bottom-r[1])/d,g[e+32]=d&&(h.left-r[0])/-d,g[e+36]=p&&(h.top-r[1])/-p,g[e+40]=d&&(h.right-r[0])/-d,g[e+44]=p&&(h.bottom-r[1])/-p,g[e+48]=p&&(h.left-r[0])/p,g[e+52]=d&&(h.top-r[1])/-d,g[e+56]=p&&(h.right-r[0])/p,g[e+60]=d&&(h.bottom-r[1])/-d}));var m=function(t,e,r){for(var n=0,i=0;i<r;i++){var s=t[e++];s>0&&(n=n?Math.min(s,n):s)}return n},_=1+Math.min(Math.abs(d),Math.abs(p));l.paddingLeft=m(g,32,16)/_,l.paddingTop=m(g,48,16)/_,l.paddingRight=m(g,0,16)/_,l.paddingBottom=m(g,16,16)/_,t._textDivProperties.set(o,l)}else l.paddingLeft=e[a].left-s[a].left,l.paddingTop=e[a].top-s[a].top,l.paddingRight=s[a].right-e[a].right,l.paddingBottom=s[a].bottom-e[a].bottom,t._textDivProperties.set(o,l)}}(this),this._bounds=null);const e=[],r=[];for(var s=0,a=this._textDivs.length;s<a;s++){const n=this._textDivs[s],i=this._textDivProperties.get(n);i.isWhitespace||(t?(e.length=0,r.length=0,i.originalTransform&&e.push(i.originalTransform),i.paddingTop>0?(r.push(i.paddingTop+"px"),e.push(`translateY(${-i.paddingTop}px)`)):r.push(0),r.push(i.paddingRight>0?i.paddingRight/i.scale+"px":0),r.push(i.paddingBottom>0?i.paddingBottom+"px":0),i.paddingLeft>0?(r.push(i.paddingLeft/i.scale+"px"),e.push(`translateX(${-i.paddingLeft/i.scale}px)`)):r.push(0),n.style.padding=r.join(" "),e.length&&(n.style.transform=e.join(" "))):(n.style.padding=null,n.style.transform=i.originalTransform))}}},function(t){var e=new s({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e}}();e.renderTextLayer=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var n=r(4),i=r(1);class s{static create(t){switch(t.data.annotationType){case i.AnnotationType.LINK:return new o(t);case i.AnnotationType.TEXT:return new l(t);case i.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new c(t);case"Btn":return t.data.radioButton?new d(t):t.data.checkBox?new u(t):new p(t);case"Ch":return new f(t)}return new h(t);case i.AnnotationType.POPUP:return new g(t);case i.AnnotationType.FREETEXT:return new _(t);case i.AnnotationType.LINE:return new v(t);case i.AnnotationType.SQUARE:return new y(t);case i.AnnotationType.CIRCLE:return new b(t);case i.AnnotationType.POLYLINE:return new x(t);case i.AnnotationType.CARET:return new w(t);case i.AnnotationType.INK:return new S(t);case i.AnnotationType.POLYGON:return new A(t);case i.AnnotationType.HIGHLIGHT:return new C(t);case i.AnnotationType.UNDERLINE:return new k(t);case i.AnnotationType.SQUIGGLY:return new P(t);case i.AnnotationType.STRIKEOUT:return new T(t);case i.AnnotationType.STAMP:return new R(t);case i.AnnotationType.FILEATTACHMENT:return new M(t);default:return new a(t)}}}class a{constructor(t,e=!1,r=!1){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,e&&(this.container=this._createContainer(r))}_createContainer(t=!1){const e=this.data,r=this.page,n=this.viewport,s=document.createElement("section");let a=e.rect[2]-e.rect[0],o=e.rect[3]-e.rect[1];s.setAttribute("data-annotation-id",e.id);const l=i.Util.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]);if(s.style.transform=`matrix(${n.transform.join(",")})`,s.style.transformOrigin=`-${l[0]}px -${l[1]}px`,!t&&e.borderStyle.width>0){s.style.borderWidth=e.borderStyle.width+"px",e.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(a-=2*e.borderStyle.width,o-=2*e.borderStyle.width);const t=e.borderStyle.horizontalCornerRadius,r=e.borderStyle.verticalCornerRadius;switch((t>0||r>0)&&(s.style.borderRadius=`${t}px / ${r}px`),e.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}e.color?s.style.borderColor=i.Util.makeCssRgb(0|e.color[0],0|e.color[1],0|e.color[2]):s.style.borderWidth=0}return s.style.left=l[0]+"px",s.style.top=l[1]+"px",s.style.width=a+"px",s.style.height=o+"px",s}_createPopup(t,e,r){e||((e=document.createElement("div")).style.height=t.style.height,e.style.width=t.style.width,t.appendChild(e));const n=new m({container:t,trigger:e,color:r.color,title:r.title,modificationDate:r.modificationDate,contents:r.contents,hideWrapper:!0}).render();n.style.left=t.style.width,t.appendChild(n)}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}class o extends a{constructor(t){super(t,!!(t.data.url||t.data.dest||t.data.action))}render(){this.container.className="linkAnnotation";const{data:t,linkService:e}=this,r=document.createElement("a");return t.url?(0,n.addLinkAttributes)(r,{url:t.url,target:t.newWindow?n.LinkTarget.BLANK:e.externalLinkTarget,rel:e.externalLinkRel,enabled:e.externalLinkEnabled}):t.action?this._bindNamedAction(r,t.action):this._bindLink(r,t.dest),this.container.appendChild(r),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.navigateTo(e),!1),e&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}}class l extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents))}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}}class h extends a{render(){return this.container}}class c extends h{constructor(t){super(t,t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue)}render(){this.container.className="textWidgetAnnotation";let t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea"),t.textContent=this.data.fieldValue):(t=document.createElement("input"),t.type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing=`calc(${e}px - 1ch)`}}else{t=document.createElement("div"),t.textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";let e=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(e=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(t,e)}return null!==this.data.textAlignment&&(t.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(t),this.container}_setTextStyle(t,e){const r=t.style;if(r.fontSize=this.data.fontSize+"px",r.direction=this.data.fontDirection<0?"rtl":"ltr",!e)return;let n="normal";e.black?n="900":e.bold&&(n="bold"),r.fontWeight=n,r.fontStyle=e.italic?"italic":"normal",r.fontFamily=(e.loadedName?`"${e.loadedName}", `:"")+(e.fallbackName||"Helvetica, sans-serif")}}class u extends h{constructor(t){super(t,t.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation checkBox";const t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}class d extends h{constructor(t){super(t,t.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="radio",t.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}class p extends o{render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",t}}class f extends h{constructor(t){super(t,t.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";const t=document.createElement("select");t.disabled=this.data.readOnly,this.data.combo||(t.size=this.data.options.length,this.data.multiSelect&&(t.multiple=!0));for(const e of this.data.options){const r=document.createElement("option");r.textContent=e.displayValue,r.value=e.exportValue,this.data.fieldValue.includes(e.displayValue)&&r.setAttribute("selected",!0),t.appendChild(r)}return this.container.appendChild(t),this.container}}class g extends a{constructor(t){super(t,!(!t.data.title&&!t.data.contents))}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t=this.layer.querySelector(`[data-annotation-id="${this.data.parentId}"]`);if(!t)return this.container;const e=new m({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(t.style.left),n=parseFloat(t.style.width);return this.container.style.transformOrigin=`-${r+n}px -${t.style.top}`,this.container.style.left=r+n+"px",this.container.appendChild(e.render()),this.container}}class m{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);const e=document.createElement("div");e.className="popup";const r=this.color;r&&(e.style.backgroundColor=i.Util.makeCssRgb(0|.7*(255-r[0])+r[0],0|.7*(255-r[1])+r[1],0|.7*(255-r[2])+r[2]));const s=document.createElement("h1");s.textContent=this.title,e.appendChild(s);const a=n.PDFDateString.toDateObject(this.modificationDate);if(a){const t=document.createElement("span");t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:a.toLocaleDateString(),time:a.toLocaleTimeString()}),e.appendChild(t)}const o=this._formatContents(this.contents);return e.appendChild(o),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),e.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(e),t}_formatContents(t){const e=document.createElement("p"),r=t.split(/(?:\r\n?|\n)/);for(let n=0,i=r.length;n<i;++n)e.appendChild(document.createTextNode(r[n])),n<i-1&&e.appendChild(document.createElement("br"));return e}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class _ extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class v extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){this.container.className="lineAnnotation";const t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),e.appendChild(r),this.container.append(e),this._createPopup(this.container,r,t),this.container}}class y extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){this.container.className="squareAnnotation";const t=this.data,e=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],n=this.svgFactory.create(e,r),i=t.borderStyle.width,s=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",e-i),s.setAttribute("height",r-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),n.appendChild(s),this.container.append(n),this._createPopup(this.container,s,t),this.container}}class b extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){this.container.className="circleAnnotation";const t=this.data,e=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],n=this.svgFactory.create(e,r),i=t.borderStyle.width,s=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",e/2),s.setAttribute("cy",r/2),s.setAttribute("rx",e/2-i/2),s.setAttribute("ry",r/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),n.appendChild(s),this.container.append(n),this._createPopup(this.container,s,t),this.container}}class x extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]);let r=[];for(const i of t.vertices)r.push(i.x-t.rect[0]+","+(t.rect[3]-i.y));r=r.join(" ");const n=this.svgFactory.createElement(this.svgElementName);return n.setAttribute("points",r),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","none"),e.appendChild(n),this.container.append(e),this._createPopup(this.container,n,t),this.container}}class A extends x{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class S extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]);for(const r of t.inkLists){let n=[];for(const e of r)n.push(`${e.x-t.rect[0]},${t.rect[3]-e.y}`);n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",n),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),this._createPopup(this.container,i,t),e.appendChild(i)}return this.container.append(e),this.container}}class C extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class k extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class P extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class T extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class R extends a{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class M extends a{constructor(t){super(t,!0);const{filename:e,content:r}=this.data.file;this.filename=(0,n.getFilenameFromUrl)(e),this.content=r,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,i.stringToPDFString)(e),filename:e,content:r})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}e.AnnotationLayer=class{static render(t){const e=[],r=[];for(const n of t.annotations)n&&(n.annotationType!==i.AnnotationType.POPUP?e.push(n):r.push(n));r.length&&e.push(...r);for(const i of e){const e=s.create({data:i,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:t.renderInteractiveForms||!1,svgFactory:new n.DOMSVGFactory});e.isRenderable&&t.div.appendChild(e.render())}}static update(t){for(const e of t.annotations){const r=t.div.querySelector(`[data-annotation-id="${e.id}"]`);r&&(r.style.transform=`matrix(${t.viewport.transform.join(",")})`)}t.div.removeAttribute("hidden")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=r(1),i=r(4),s=r(7);let a=function(){throw new Error("Not implemented: SVGGraphics")};e.SVGGraphics=a;{const t={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},r="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",c=["butt","round","square"],u=["miter","round","bevel"],d=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;e[n]=t}function r(t,r,n,i){let s=i;const a=r.length;n[s]=a>>24&255,n[s+1]=a>>16&255,n[s+2]=a>>8&255,n[s+3]=255&a,s+=4,n[s]=255&t.charCodeAt(0),n[s+1]=255&t.charCodeAt(1),n[s+2]=255&t.charCodeAt(2),n[s+3]=255&t.charCodeAt(3),s+=4,n.set(r,s),s+=r.length;const o=function(t,r,n){let i=-1;for(let s=r;s<n;s++)i=i>>>8^e[255&(i^t[s])];return-1^i}(n,i+4,s);n[s]=o>>24&255,n[s+1]=o>>16&255,n[s+2]=o>>8&255,n[s+3]=255&o}function i(t){let e=t.length;const r=Math.ceil(e/65535),n=new Uint8Array(2+e+5*r+4);let i=0;n[i++]=120,n[i++]=156;let s=0;for(;e>65535;)n[i++]=0,n[i++]=255,n[i++]=255,n[i++]=0,n[i++]=0,n.set(t.subarray(s,s+65535),i),i+=65535,s+=65535,e-=65535;n[i++]=1,n[i++]=255&e,n[i++]=e>>8&255,n[i++]=255&~e,n[i++]=(65535&~e)>>8&255,n.set(t.subarray(s),i),i+=t.length-s;const a=function(t,e,r){let n=1,i=0;for(let s=0;s<r;++s)n=(n+(255&t[s]))%65521,i=(i+n)%65521;return i<<16|n}(t,0,t.length);return n[i++]=a>>24&255,n[i++]=a>>16&255,n[i++]=a>>8&255,n[i++]=255&a,n}return function(e,a,o){return function(e,a,o,l){const h=e.width,c=e.height;let u,d,p;const f=e.data;switch(a){case n.ImageKind.GRAYSCALE_1BPP:d=0,u=1,p=h+7>>3;break;case n.ImageKind.RGB_24BPP:d=2,u=8,p=3*h;break;case n.ImageKind.RGBA_32BPP:d=6,u=8,p=4*h;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+p)*c);let m=0,_=0;for(let t=0;t<c;++t)g[m++]=0,g.set(f.subarray(_,_+p),m),_+=p,m+=p;if(a===n.ImageKind.GRAYSCALE_1BPP&&l){m=0;for(let t=0;t<c;t++){m++;for(let t=0;t<p;t++)g[m++]^=255}}const v=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,c>>24&255,c>>16&255,c>>8&255,255&c,u,d,0,0,0]),y=function(t){if(!s.isNodeJS)return i(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const r=require("zlib").deflateSync(e,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return i(t)}(g),b=new Uint8Array(t.length+36+v.length+y.length);let x=0;return b.set(t,x),x+=t.length,r("IHDR",v,b,x),x+=12+v.length,r("IDATA",y,b,x),x+=12+y.length,r("IEND",new Uint8Array(0),b,x),(0,n.createObjectURL)(b,"image/png",o)}(e,void 0===e.kind?n.ImageKind.GRAYSCALE_1BPP:e.kind,a,o)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=t.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=t.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function o(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let r=e.length-1;if("0"!==e[r])return e;do{r--}while("0"===e[r]);return e.substring(0,"."===e[r]?r:r+1)}function l(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${o(t[0])} ${o(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2])return`rotate(${o(180*Math.acos(t[0])/Math.PI)})`}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${o(t[4])} ${o(t[5])})`;return`matrix(${o(t[0])} ${o(t[1])} ${o(t[2])} ${o(t[3])} ${o(t[4])} `+o(t[5])+")"}let f=0,g=0,m=0;e.SVGGraphics=a=class{constructor(t,e,r){this.svgFactory=new i.DOMSVGFactory,this.current=new p,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r,this._operatorIdMapping=[];for(const i in n.OPS)this._operatorIdMapping[n.OPS[i]]=i}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,r=t.argsArray;for(let i=0,s=e.length;i<s;i++)if(e[i]===n.OPS.dependency)for(const t of r[i]){const e=t.startsWith("g_")?this.commonObjs:this.objs,r=new Promise(r=>{e.get(t,r)});this.current.dependencies.push(r)}return Promise.all(this.current.dependencies)}transform(t,e,r,i,s,a){this.transformMatrix=n.Util.transform(this.transformMatrix,[t,e,r,i,s,a]),this.tgrp=null}getSVG(t,e){this.viewport=e;const r=this._initialize(e);return this.loadDependencies(t).then(()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),r))}convertOpList(t){const e=this._operatorIdMapping,r=t.argsArray,n=t.fnArray,i=[];for(let s=0,a=n.length;s<a;s++){const t=n[s];i.push({fnId:t,fn:e[t],args:r[s]})}return function(t){let e=[];const r=[];for(const n of t)"save"!==n.fn?"restore"===n.fn?e=r.pop():e.push(n):(e.push({fnId:92,fn:"group",items:[]}),r.push(e),e=e[e.length-1].items);return e}(i)}executeOpTree(t){for(const e of t){const t=e.fn,r=e.args;switch(0|e.fnId){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(r);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case n.OPS.setFont:this.setFont(r);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(r[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(r[0],r[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case n.OPS.setHScale:this.setHScale(r[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case n.OPS.setTextRise:this.setTextRise(r[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case n.OPS.setLineWidth:this.setLineWidth(r[0]);break;case n.OPS.setLineJoin:this.setLineJoin(r[0]);break;case n.OPS.setLineCap:this.setLineCap(r[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case n.OPS.setFillColorN:this.setFillColorN(r);break;case n.OPS.shadingFill:this.shadingFill(r[0]);break;case n.OPS.setDash:this.setDash(r[0],r[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case n.OPS.setFlatness:this.setFlatness(r[0]);break;case n.OPS.setGState:this.setGState(r[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintJpegXObject:this.paintJpegXObject(r[0],r[1],r[2]);break;case n.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case n.OPS.constructPath:this.constructPath(r[0],r[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,n.warn)("Unimplemented operator "+t)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,r,n,i,s){const a=this.current;a.textMatrix=a.lineMatrix=[t,e,r,n,i,s],a.textMatrixScale=Math.sqrt(t*t+e*e),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",o(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",o(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=n.IDENTITY_MATRIX,t.lineMatrix=n.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[]}moveText(t,e){const r=this.current;r.x=r.lineX+=t,r.y=r.lineY+=e,r.xcoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",o(r.fontSize)+"px"),r.tspan.setAttributeNS(null,"y",o(-r.y))}showText(e){const i=this.current,s=i.font,a=i.fontSize;if(0===a)return;const h=i.charSpacing,c=i.wordSpacing,u=i.fontDirection,d=i.textHScale*u,p=s.vertical,f=a*i.fontMatrix[0];let g=0;for(const t of e){if(null===t){g+=u*c;continue}if((0,n.isNum)(t)){g+=-t*a*.001;continue}const e=t.fontChar,r=t.width*f+((t.isSpace?c:0)+h)*u;t.isInFont||s.missingFile?(i.xcoords.push(i.x+g),i.tspan.textContent+=e,g+=r):g+=r}p?i.y-=g*d:i.x+=g*d,i.tspan.setAttributeNS(null,"x",i.xcoords.map(o).join(" ")),i.tspan.setAttributeNS(null,"y",o(-i.y)),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",o(i.fontSize)+"px"),i.fontStyle!==t.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==t.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const m=i.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;m===n.TextRenderingMode.FILL||m===n.TextRenderingMode.FILL_STROKE?(i.fillColor!==t.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(m===n.TextRenderingMode.STROKE||m===n.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let _=i.textMatrix;0!==i.textRise&&(_=_.slice(),_[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${l(_)} scale(${o(d)}, -1)`),i.txtElement.setAttributeNS(r,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const e=(0,n.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${e}); }\n`}setFont(t){const e=this.current,r=this.commonObjs.get(t[0]);let i=t[1];e.font=r,this.embedFonts&&r.data&&!this.embeddedFonts[r.loadedName]&&(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),e.fontMatrix=r.fontMatrix?r.fontMatrix:n.FONT_IDENTITY_MATRIX;let s="normal";r.black?s="900":r.bold&&(s="bold");const a=r.italic?"italic":"normal";i<0?(i=-i,e.fontDirection=-1):e.fontDirection=1,e.fontSize=i,e.fontFamily=r.loadedName,e.fontWeight=s,e.fontStyle=a,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",o(-e.y)),e.xcoords=[]}endText(){const t=this.current;t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=c[t]}setLineJoin(t){this.current.lineJoin=u[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,r){this.current.strokeColor=n.Util.makeCssRgb(t,e,r)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,r){this.current.fillColor=n.Util.makeCssRgb(t,e,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,r=this.viewport.height,i=n.Util.inverseTransform(this.transformMatrix),s=n.Util.applyTransform([0,0],i),a=n.Util.applyTransform([0,r],i),o=n.Util.applyTransform([e,0],i),l=n.Util.applyTransform([e,r],i),h=Math.min(s[0],a[0],o[0],l[0]),c=Math.min(s[1],a[1],o[1],l[1]),u=Math.max(s[0],a[0],o[0],l[0]),d=Math.max(s[1],a[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",h),p.setAttributeNS(null,"y",c),p.setAttributeNS(null,"width",u-h),p.setAttributeNS(null,"height",d-c),p.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this._ensureTransformGroup().appendChild(p)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],r=t[2],i=t[3]||n.IDENTITY_MATRIX,[s,a,o,l]=t[4],h=t[5],c=t[6],u=t[7],d="shading"+m++,[p,f]=n.Util.applyTransform([s,a],i),[g,_]=n.Util.applyTransform([o,l],i),[v,y]=n.Util.singularValueDecompose2dScale(i),b=h*v,x=c*y,A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",d),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",b),A.setAttributeNS(null,"height",x),A.setAttributeNS(null,"x",""+p),A.setAttributeNS(null,"y",""+f);const w=this.svg,S=this.transformMatrix,C=this.current.fillColor,k=this.current.strokeColor,P=this.svgFactory.create(g-p,_-f);if(this.svg=P,this.transformMatrix=i,2===u){const t=n.Util.makeCssRgb(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(r)),this.svg=w,this.transformMatrix=S,this.current.fillColor=C,this.current.strokeColor=k,A.appendChild(P.childNodes[0]),this.defs.appendChild(A),`url(#${d})`}_makeShadingPattern(t){switch(t[0]){case"RadialAxial":const e="shading"+m++,r=t[3];let i;switch(t[1]){case"axial":const r=t[4],n=t[5];i=this.svgFactory.createElement("svg:linearGradient"),i.setAttributeNS(null,"id",e),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"x1",r[0]),i.setAttributeNS(null,"y1",r[1]),i.setAttributeNS(null,"x2",n[0]),i.setAttributeNS(null,"y2",n[1]);break;case"radial":const s=t[4],a=t[5],o=t[6],l=t[7];i=this.svgFactory.createElement("svg:radialGradient"),i.setAttributeNS(null,"id",e),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"cx",a[0]),i.setAttributeNS(null,"cy",a[1]),i.setAttributeNS(null,"r",l),i.setAttributeNS(null,"fx",s[0]),i.setAttributeNS(null,"fy",s[1]),i.setAttributeNS(null,"fr",o);break;default:throw new Error("Unknown RadialAxial type: "+t[1])}for(const t of r){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),i.appendChild(e)}return this.defs.appendChild(i),`url(#${e})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: "+t[0])}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const r=this.current;let i=r.x,s=r.y,a=[],l=0;for(const h of t)switch(0|h){case n.OPS.rectangle:i=e[l++],s=e[l++];const t=i+e[l++],r=s+e[l++];a.push("M",o(i),o(s),"L",o(t),o(s),"L",o(t),o(r),"L",o(i),o(r),"Z");break;case n.OPS.moveTo:i=e[l++],s=e[l++],a.push("M",o(i),o(s));break;case n.OPS.lineTo:i=e[l++],s=e[l++],a.push("L",o(i),o(s));break;case n.OPS.curveTo:i=e[l+4],s=e[l+5],a.push("C",o(e[l]),o(e[l+1]),o(e[l+2]),o(e[l+3]),o(i),o(s)),l+=6;break;case n.OPS.curveTo2:a.push("C",o(i),o(s),o(e[l]),o(e[l+1]),o(e[l+2]),o(e[l+3])),i=e[l+2],s=e[l+3],l+=4;break;case n.OPS.curveTo3:i=e[l+2],s=e[l+3],a.push("C",o(e[l]),o(e[l+1]),o(i),o(s),o(i),o(s)),l+=4;break;case n.OPS.closePath:a.push("Z")}a=a.join(" "),r.path&&t.length>0&&t[0]!==n.OPS.rectangle&&t[0]!==n.OPS.moveTo?a=r.path.getAttributeNS(null,"d")+a:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",a),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(i,s)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath"+f++,r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",e),r.setAttributeNS(null,"transform",l(this.transformMatrix));const n=t.element.cloneNode(!0);n.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),t.activeClipUrl&&(t.clipGroup=null,this.extraStack.forEach((function(t){t.clipGroup=null})),r.setAttributeNS(null,"clip-path",t.activeClipUrl)),t.activeClipUrl=`url(#${e})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e=t.path.getAttributeNS(null,"d")+"Z";t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,r]of t)switch(e){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r);break;case"CA":this.setStrokeAlpha(r);break;case"ca":this.setFillAlpha(r);break;default:(0,n.warn)("Unimplemented graphic state operator "+e)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,e=1){const r=this.current;let n=r.dashArray;1!==e&&n.length>0&&(n=n.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",r.strokeColor),t.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",o(r.miterLimit)),t.setAttributeNS(null,"stroke-linecap",r.lineCap),t.setAttributeNS(null,"stroke-linejoin",r.lineJoin),t.setAttributeNS(null,"stroke-width",o(e*r.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",n.map(o).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",o(e*r.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintJpegXObject(t,e,r){const n=this.objs.get(t),i=this.svgFactory.createElement("svg:image");i.setAttributeNS(h,"xlink:href",n.src),i.setAttributeNS(null,"width",o(e)),i.setAttributeNS(null,"height",o(r)),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",o(-r)),i.setAttributeNS(null,"transform",`scale(${o(1/e)} ${o(-1/r)})`),this._ensureTransformGroup().appendChild(i)}paintImageXObject(t){const e=this.objs.get(t);e?this.paintInlineImageXObject(e):(0,n.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,e){const r=t.width,n=t.height,i=d(t,this.forceDataSchema,!!e),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",o(r)),s.setAttributeNS(null,"height",o(n)),this.current.element=s,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(h,"xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",o(-n)),a.setAttributeNS(null,"width",o(r)+"px"),a.setAttributeNS(null,"height",o(n)+"px"),a.setAttributeNS(null,"transform",`scale(${o(1/r)} ${o(-1/n)})`),e?e.appendChild(a):this._ensureTransformGroup().appendChild(a)}paintImageMaskXObject(t){const e=this.current,r=t.width,n=t.height,i=e.fillColor;e.maskId="mask"+g++;const s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",e.maskId);const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",o(r)),a.setAttributeNS(null,"height",o(n)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask",`url(#${e.maskId})`),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(t,s)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],r=e[3]-e[1],n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x",e[0]),n.setAttributeNS(null,"y",e[1]),n.setAttributeNS(null,"width",o(t)),n.setAttributeNS(null,"height",o(r)),this.current.element=n,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),r=this.svgFactory.createElement("svg:defs");e.appendChild(r),this.defs=r;const n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",l(t.transform)),e.appendChild(n),this.svg=n,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=r(1),i=r(20);const s=require("fs"),a=require("http"),o=require("https"),l=require("url"),h=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=l.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?l.parse("file:///"+t):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=this.isFsUrl?new m(this,t,e):new f(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}};class c{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class p extends c{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new n.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const r=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r)};this._request=null,this._request="http:"===this._url.protocol?a.request(d(this._url,t.httpHeaders),e):o.request(d(this._url,t.httpHeaders),e),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class f extends u{constructor(t,e,r){super(t),this._httpHeaders={};for(const n in t.httpHeaders){const e=t.httpHeaders[n];void 0!==e&&(this._httpHeaders[n]=e)}this._httpHeaders.Range=`bytes=${e}-${r-1}`;const i=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=t}};this._request=null,this._request="http:"===this._url.protocol?a.request(d(this._url,this._httpHeaders),i):o.request(d(this._url,this._httpHeaders),i),this._request.on("error",t=>{this._storedError=t}),this._request.end()}}class g extends c{constructor(t){super(t);let e=decodeURIComponent(this._url.path);h.test(this._url.href)&&(e=e.replace(/^\//,"")),s.lstat(e,(t,r)=>{if(t)return"ENOENT"===t.code&&(t=new n.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=r.size,this._setReadableStream(s.createReadStream(e)),this._headersCapability.resolve()})}}class m extends u{constructor(t,e,r){super(t);let n=decodeURIComponent(this._url.path);h.test(this._url.href)&&(n=n.replace(/^\//,"")),this._setReadableStream(s.createReadStream(n,{start:e,end:r-1}))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+e+'".'):new n.UnexpectedResponseException("Unexpected server response ("+t+') while retrieving PDF "'+e+'".',t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,i.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(r){}if(/\.pdf$/i.test(t))return t}return null},e.validateRangeRequestCapabilities=function({getResponseHeader:t,isHttp:e,rangeChunkSize:r,disableRange:i}){(0,n.assert)(r>0,"Range chunk size must be larger than zero");const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*r||i||!e||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},e.validateResponseStatus=function(t){return 200===t||206===t};var n=r(1),i=r(21)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let t=a(r);return t=unescape(t),t=o(t),t=l(t),s(t)}if(r=function(t){const e=[];let r;const i=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(r=i.exec(t));){let[,t,n,i]=r;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[n,i]}const s=[];for(let n=0;n<e.length&&n in e;++n){let[t,r]=e[n];r=a(r),t&&(r=unescape(r),0===n&&(r=o(r))),s.push(r)}return s.join("")}(t),r)return s(l(r));if(r=n("filename","i").exec(t),r){r=r[1];let t=a(r);return t=l(t),s(t)}function n(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function i(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const n=new TextDecoder(t,{fatal:!0}),i=Array.from(r,(function(t){return 255&t.charCodeAt(0)}));r=n.decode(new Uint8Array(i)),e=!1}catch(n){if(/^utf-?8$/i.test(t))try{r=decodeURIComponent(escape(r)),e=!1}catch(i){}}}return r}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=i("utf-8",t),e&&(t=i("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const r=e[t].indexOf('"');-1!==r&&(e[t]=e[t].slice(0,r),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:i(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,r,n){if("q"===r||"Q"===r)return i(e,n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{n=atob(n)}catch(s){}return i(e,n)}))}return""}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=r(1),i=r(20);class s{constructor(t,e){this.url=t,e=e||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,r){const n={begin:t,end:e};for(const i in r)n[i]=r[i];return this.request(n)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const t=this.httpHeaders[i];void 0!==t&&e.setRequestHeader(i,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),n.expectedStatus=206):n.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,e.send(null),r}onProgress(t,e){const r=this.pendingRequests[t];r&&r.onProgress&&r.onProgress(e)}onStateChange(t,e){const r=this.pendingRequests[t];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void(r.onError&&r.onError(i.status));const s=i.status||200;if((200!==s||206!==r.expectedStatus)&&s!==r.expectedStatus)return void(r.onError&&r.onError(i.status));const a=function(t){const e=t.response;return"string"!=typeof e?e:(0,n.stringToBytes)(e).buffer}(i);if(206===s){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);r.onDone({begin:parseInt(e[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):r.onError&&r.onError(i.status)}hasPendingRequests(){for(const t in this.pendingRequests)return!0;return!1}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortAllRequests(){for(const t in this.pendingRequests)this.abortRequest(0|t)}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new s(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const r=new o(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}};class a{constructor(t,e){this._manager=t;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),r=t=>e.getResponseHeader(t),{allowRangeRequests:n,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[])}_onError(t){const e=(0,i.createResponseStatusError)(t,this._url);this._storedError=e,this._headersReceivedCapability.reject(e),this._requests.forEach((function(t){t.reject(e)})),this._requests=[],this._cachedChunks=[]}_onProgress(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(t,e,r){this._manager=t;const n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(e,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}_onProgress(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=r(1),i=r(20);function s(t,e,r){return{method:"GET",headers:t,signal:r&&r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function a(t){const e=new Headers;for(const r in t){const n=t[r];void 0!==n&&e.append(r,n)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new l(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}};class o{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=a(this._stream.httpHeaders);const r=e.url;fetch(r,s(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,r);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}class l{constructor(t,e,r){this._stream=t,this._reader=null,this._loaded=0;const o=t.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${r-1}`);const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,l);this._readCapability.resolve(),this._reader=t.body.getReader()}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}}])})),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],e):"object"==typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=e():t["pdfjs-dist/web/pdf_viewer"]=t.pdfjsViewer=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return n.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return n.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return i.DefaultTextLayerFactory}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return i.TextLayerBuilder}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return s.NullL10n}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return h.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return c.PDFHistory}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return u.PDFPageView}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return p.PDFViewer}});var n=r(1),i=r(5),s=r(3),a=r(4),o=r(6),l=r(7),h=r(9),c=r(11),u=r(12),d=r(15),p=r(17)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultAnnotationLayerFactory=e.AnnotationLayerBuilder=void 0;var n=r(2),i=r(3),s=r(4);class a{constructor({pageDiv:t,pdfPage:e,linkService:r,downloadManager:n,imageResourcesPath:s="",renderInteractiveForms:a=!1,l10n:o=i.NullL10n}){this.pageDiv=t,this.pdfPage=e,this.linkService=r,this.downloadManager=n,this.imageResourcesPath=s,this.renderInteractiveForms=a,this.l10n=o,this.div=null,this._cancelled=!1}render(t,e="display"){this.pdfPage.getAnnotations({intent:e}).then(e=>{if(this._cancelled)return;const r={viewport:t.clone({dontFlip:!0}),div:this.div,annotations:e,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,linkService:this.linkService,downloadManager:this.downloadManager};if(this.div)n.AnnotationLayer.update(r);else{if(0===e.length)return;this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),r.div=this.div,n.AnnotationLayer.render(r),this.l10n.translate(this.div)}})}cancel(){this._cancelled=!0}hide(){this.div&&this.div.setAttribute("hidden","true")}}e.AnnotationLayerBuilder=a,e.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(t,e,r="",n=!1,o=i.NullL10n){return new a({pageDiv:t,pdfPage:e,imageResourcesPath:r,renderInteractiveForms:n,linkService:new s.SimpleLinkService,l10n:o})}}},function(t,e,r){"use strict";let n;n="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js"),t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidRotation=function(t){return Number.isInteger(t)&&t%90==0},e.isValidScrollMode=function(t){return Number.isInteger(t)&&Object.values(n).includes(t)&&t!==n.UNKNOWN},e.isValidSpreadMode=function(t){return Number.isInteger(t)&&Object.values(i).includes(t)&&t!==i.UNKNOWN},e.isPortraitOrientation=function(t){return t.width<=t.height},e.getGlobalEventBus=function(t=!1){return console.error("getGlobalEventBus is deprecated, use a manually created EventBus instance instead."),u||(u=new c({dispatchToDOM:t})),u},e.clamp=d,e.getPDFFileNameFromURL=function(t,e="document.pdf"){if("string"!=typeof t)return e;if(function(t){let e=0;const r=t.length;for(;e<r&&""===t[e].trim();)e++;return"data:"===t.substring(e,e+5).toLowerCase()}(t))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),e;const r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let i=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(i&&(i=i[0],i.includes("%")))try{i=r.exec(decodeURIComponent(i))[0]}catch(s){}return i||e},e.noContextMenuHandler=function(t){t.preventDefault()},e.parseQueryString=function(t){const e=t.split("&"),r=Object.create(null);for(let n=0,i=e.length;n<i;++n){const t=e[n].split("="),i=t[0].toLowerCase(),s=t.length>1?t[1]:null;r[decodeURIComponent(i)]=decodeURIComponent(s)}return r},e.backtrackBeforeAllVisibleElements=a,e.getVisibleElements=function(t,e,r=!1,n=!1){const i=t.scrollTop,o=i+t.clientHeight,l=t.scrollLeft,h=l+t.clientWidth,c=[],u=e.length;let d=0===u?0:s(e,n?function(t){const e=t.div;return e.offsetLeft+e.clientLeft+e.clientWidth>l}:function(t){const e=t.div;return e.offsetTop+e.clientTop+e.clientHeight>i});d>0&&d<u&&!n&&(d=a(d,e,i));let p=n?h:-1;for(let s=d;s<u;s++){const t=e[s],r=t.div,a=r.offsetLeft+r.clientLeft,u=r.offsetTop+r.clientTop,d=r.clientWidth,f=r.clientHeight,g=a+d,m=u+f;if(-1===p)m>=o&&(p=m);else if((n?a:u)>p)break;if(m<=i||u>=o||g<=l||a>=h)continue;const _=Math.max(0,i-u)+Math.max(0,m-o),v=Math.max(0,l-a)+Math.max(0,g-h);c.push({id:t.id,x:a,y:u,view:t,percent:(f-_)*(d-v)*100/f/d|0})}const f=c[0],g=c[c.length-1];return r&&c.sort((function(t,e){const r=t.percent-e.percent;return Math.abs(r)>.001?-r:t.id-e.id})),{first:f,last:g,views:c}},e.roundToDivide=function(t,e){const r=t%e;return 0===r?t:Math.round(t-r+e)},e.getPageSizeInches=function({view:t,userUnit:e,rotate:r}){const[n,i,s,a]=t,o=r%180!=0,l=(s-n)/72*e,h=(a-i)/72*e;return{width:o?h:l,height:o?l:h}},e.approximateFraction=function(t){if(Math.floor(t)===t)return[t,1];const e=1/t;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];const r=t>1?e:t;let n,i=0,s=1,a=1,o=1;for(;;){const t=i+a,e=s+o;if(e>8)break;r<=t/e?(a=t,o=e):(i=t,s=e)}return n=r-i/s<a/o-r?r===t?[i,s]:[s,i]:r===t?[a,o]:[o,a],n},e.getOutputScale=function(t){const e=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1);return{sx:e,sy:e,scaled:1!==e}},e.scrollIntoView=function(t,e,r=!1){let n=t.offsetParent;if(!n)return void console.error("offsetParent is not set -- cannot scroll");let i=t.offsetTop+t.clientTop,s=t.offsetLeft+t.clientLeft;for(;n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||r&&"hidden"===getComputedStyle(n).overflow;)if(n.dataset._scaleY&&(i/=n.dataset._scaleY,s/=n.dataset._scaleX),i+=n.offsetTop,s+=n.offsetLeft,n=n.offsetParent,!n)return;e&&(void 0!==e.top&&(i+=e.top),void 0!==e.left&&(s+=e.left,n.scrollLeft=s)),n.scrollTop=i},e.watchScroll=function(t,e){const r=function(r){i||(i=window.requestAnimationFrame((function(){i=null;const r=t.scrollLeft,s=n.lastX;r!==s&&(n.right=r>s),n.lastX=r;const a=t.scrollTop,o=n.lastY;a!==o&&(n.down=a>o),n.lastY=a,e(n)})))},n={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:r};let i=null;return t.addEventListener("scroll",r,!0),n},e.binarySearchFirstItem=s,e.normalizeWheelEventDelta=function(t){let e=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY);const r=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<r&&r<.75*Math.PI&&(e=-e),0===t.deltaMode?e/=900:1===t.deltaMode&&(e/=30),e},e.waitOnEventOrTimeout=function({target:t,name:e,delay:r=0}){return new Promise((function(n,i){if("object"!=typeof t||!e||"string"!=typeof e||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function s(r){t instanceof c?t._off(e,a):t.removeEventListener(e,a),h&&clearTimeout(h),n(r)}const a=s.bind(null,o.EVENT);t instanceof c?t._on(e,a):t.addEventListener(e,a);const l=s.bind(null,o.TIMEOUT),h=setTimeout(l,r)}))},e.moveToEndOfArray=function(t,e){const r=[],n=t.length;let i=0;for(let s=0;s<n;++s)e(t[s])?r.push(t[s]):(t[i]=t[s],++i);for(let s=0;i<n;++s,++i)t[i]=r[s]},e.WaitOnType=e.animationStarted=e.ProgressBar=e.EventBus=e.NullL10n=e.SpreadMode=e.ScrollMode=e.TextLayerMode=e.RendererType=e.PresentationModeState=e.VERTICAL_PADDING=e.SCROLLBAR_PADDING=e.MAX_AUTO_SCALE=e.UNKNOWN_SCALE=e.MAX_SCALE=e.MIN_SCALE=e.DEFAULT_SCALE=e.DEFAULT_SCALE_VALUE=e.CSS_UNITS=e.AutoPrintRegExp=void 0,e.CSS_UNITS=96/72,e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5,e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const n={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};e.ScrollMode=n;const i={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function s(t,e){let r=0,n=t.length-1;if(0===t.length||!e(t[n]))return t.length;if(e(t[r]))return r;for(;r<n;){const i=r+n>>1;e(t[i])?n=i:r=i+1}return r}function a(t,e,r){if(t<2)return t;let n=e[t].div,i=n.offsetTop+n.clientTop;i>=r&&(n=e[t-1].div,i=n.offsetTop+n.clientTop);for(let s=t-2;s>=0&&(n=e[s].div,!(n.offsetTop+n.clientTop+n.clientHeight<=i));--s)t=s;return t}e.SpreadMode=i,e.AutoPrintRegExp=/\bprint\s*\(/,e.NullL10n={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(t,e,r)=>function(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(t,r)=>r in e?e[r]:"{{"+r+"}}"):t}(r,e),async translate(t){}};const o={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=o;const l=new Promise((function(t){window.requestAnimationFrame(t)}));function h(t,e=null){const r=Object.create(null);if(e&&e.length>0){const t=e[0];for(const e in t){const n=t[e];if("source"!==e)r[e]=n;else if(n===window||n===document)return}}const n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,r),document.dispatchEvent(n)}e.animationStarted=l;class c{constructor({dispatchToDOM:t=!1}={}){this._listeners=Object.create(null),this._dispatchToDOM=!0===t,t&&console.error("The `eventBusDispatchToDOM` option/preference is deprecated, add event listeners to the EventBus instance rather than the DOM.")}on(t,e){this._on(t,e,{external:!0})}off(t,e){this._off(t,e,{external:!0})}dispatch(t){const e=this._listeners[t];if(!e||0===e.length)return void(this._dispatchToDOM&&h(t,Array.prototype.slice.call(arguments,1)));const r=Array.prototype.slice.call(arguments,1);let n;e.slice(0).forEach((function({listener:t,external:e}){if(e)return n||(n=[]),void n.push(t);t.apply(null,r)})),n&&(n.forEach((function(t){t.apply(null,r)})),n=null),this._dispatchToDOM&&h(t,r)}_on(t,e,r=null){let n=this._listeners[t];n||(this._listeners[t]=n=[]),n.push({listener:e,external:!0===(r&&r.external)})}_off(t,e,r=null){const n=this._listeners[t];if(n)for(let i=0,s=n.length;i<s;i++)if(n[i].listener===e)return void n.splice(i,1)}}e.EventBus=c;let u=null;function d(t,e,r){return Math.min(Math.max(t,e),r)}e.ProgressBar=class{constructor(t,{height:e,width:r,units:n}={}){this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=e||100,this.width=r||100,this.units=n||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(t){this._indeterminate=isNaN(t),this._percent=d(t,0,100),this._updateBar()}setWidth(t){if(!t)return;const e=t.parentNode.offsetWidth-t.offsetWidth;e>0&&(this.bar.style.width=`calc(100% - ${e}px)`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}show(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=void 0;var n=r(3);e.PDFLinkService=class{constructor({eventBus:t,externalLinkTarget:e=null,externalLinkRel:r=null,externalLinkEnabled:i=!0,ignoreDestinationZoom:s=!1}={}){this.eventBus=t||(0,n.getGlobalEventBus)(),this.externalLinkTarget=e,this.externalLinkRel=r,this.externalLinkEnabled=i,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}setDocument(t,e=null){this.baseUrl=e,this.pdfDocument=t,this._pagesRefCache=Object.create(null)}setViewer(t){this.pdfViewer=t}setHistory(t){this.pdfHistory=t}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(t){this.pdfViewer.currentPageNumber=t}get rotation(){return this.pdfViewer.pagesRotation}set rotation(t){this.pdfViewer.pagesRotation=t}navigateTo(t){const e=({namedDest:r,explicitDest:n})=>{const i=n[0];let s;if(i instanceof Object){if(s=this._cachedPageNumber(i),null===s)return void this.pdfDocument.getPageIndex(i).then(t=>{this.cachePageRef(t+1,i),e({namedDest:r,explicitDest:n})}).catch(()=>{console.error(`PDFLinkService.navigateTo: "${i}" is not a valid page reference, for dest="${t}".`)})}else{if(!Number.isInteger(i))return void console.error(`PDFLinkService.navigateTo: "${i}" is not a valid destination reference, for dest="${t}".`);s=i+1}!s||s<1||s>this.pagesCount?console.error(`PDFLinkService.navigateTo: "${s}" is not a valid page number, for dest="${t}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:n,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:n,ignoreDestinationZoom:this._ignoreDestinationZoom}))};new Promise((e,r)=>{"string"!=typeof t?e({namedDest:"",explicitDest:t}):this.pdfDocument.getDestination(t).then(r=>{e({namedDest:t,explicitDest:r})})}).then(r=>{Array.isArray(r.explicitDest)?e(r):console.error(`PDFLinkService.navigateTo: "${r.explicitDest}" is not a valid destination array, for dest="${t}".`)})}getDestinationHash(t){if("string"==typeof t)return this.getAnchorUrl("#"+escape(t));if(Array.isArray(t)){const e=JSON.stringify(t);return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}getAnchorUrl(t){return(this.baseUrl||"")+t}setHash(t){let e,r;if(t.includes("=")){const i=(0,n.parseQueryString)(t);if("search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase}),"nameddest"in i)return void this.navigateTo(i.nameddest);if("page"in i&&(e=0|i.page||1),"zoom"in i){const t=i.zoom.split(","),e=t[0],n=parseFloat(e);e.includes("Fit")?"Fit"===e||"FitB"===e?r=[null,{name:e}]:"FitH"===e||"FitBH"===e||"FitV"===e||"FitBV"===e?r=[null,{name:e},t.length>1?0|t[1]:null]:"FitR"===e?5!==t.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:e},0|t[1],0|t[2],0|t[3],0|t[4]]:console.error(`PDFLinkService.setHash: "${e}" is not a valid zoom value.`):r=[null,{name:"XYZ"},t.length>1?0|t[1]:null,t.length>2?0|t[2]:null,n?n/100:e]}r?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:r,allowNegativeOffset:!0}):e&&(this.page=e),"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode})}else{r=unescape(t);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch(i){}if("string"==typeof r||function(t){if(!Array.isArray(t))return!1;const e=t.length;if(e<2)return!1;const r=t[0];if(!("object"==typeof r&&Number.isInteger(r.num)&&Number.isInteger(r.gen)||Number.isInteger(r)&&r>=0))return!1;const n=t[1];if("object"!=typeof n||"string"!=typeof n.name)return!1;let i=!0;switch(n.name){case"XYZ":if(5!==e)return!1;break;case"Fit":case"FitB":return 2===e;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==e)return!1;break;case"FitR":if(6!==e)return!1;i=!1;break;default:return!1}for(let s=2;s<e;s++){const e=t[s];if(!("number"==typeof e||i&&null===e))return!1}return!0}(r))return void this.navigateTo(r);console.error(`PDFLinkService.setHash: "${unescape(t)}" is not a valid destination.`)}}executeNamedAction(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}cachePageRef(t,e){e&&(this._pagesRefCache[0===e.gen?e.num+"R":`${e.num}R${e.gen}`]=t)}_cachedPageNumber(t){return this._pagesRefCache&&this._pagesRefCache[0===t.gen?t.num+"R":`${t.num}R${t.gen}`]||null}isPageVisible(t){return this.pdfViewer.isPageVisible(t)}},e.SimpleLinkService=class{constructor(){this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}get pagesCount(){return 0}get page(){return 0}set page(t){}get rotation(){return 0}set rotation(t){}navigateTo(t){}getDestinationHash(t){return"#"}getAnchorUrl(t){return"#"}setHash(t){}executeNamedAction(t){}cachePageRef(t,e){}isPageVisible(t){return!0}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultTextLayerFactory=e.TextLayerBuilder=void 0;var n=r(3),i=r(2);class s{constructor({textLayerDiv:t,eventBus:e,pageIndex:r,viewport:i,findController:s=null,enhanceTextSelection:a=!1}){this.textLayerDiv=t,this.eventBus=e||(0,n.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=r,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=i,this.textDivs=[],this.findController=s,this.textLayerRenderTask=null,this.enhanceTextSelection=a,this._onUpdateTextLayerMatches=null,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs=[];const e=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:e,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(e),this._finishRendering(),this._updateMatches()},(function(t){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=t=>{t.pageIndex!==this.pageIdx&&-1!==t.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_convertMatches(t,e){if(!t)return[];const{findController:r,textContentItemsStr:n}=this;let i=0,s=0;const a=n.length-1,o=r.state.query.length,l=[];for(let h=0,c=t.length;h<c;h++){let r=t[h];for(;i!==a&&r>=s+n[i].length;)s+=n[i].length,i++;i===n.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:i,offset:r-s}};for(r+=e?e[h]:o;i!==a&&r>s+n[i].length;)s+=n[i].length,i++;c.end={divIdx:i,offset:r-s},l.push(c)}return l}_renderMatches(t){if(0===t.length)return;const{findController:e,pageIdx:r,textContentItemsStr:n,textDivs:i}=this,s=r===e.selected.pageIdx,a=e.selected.matchIdx;let o=null;function l(t,e){const r=t.divIdx;i[r].textContent="",h(r,0,t.offset,e)}function h(t,e,r,s){const a=i[t],o=n[t].substring(e,r),l=document.createTextNode(o);if(s){const t=document.createElement("span");return t.className=s,t.appendChild(l),void a.appendChild(t)}a.appendChild(l)}let c=a,u=c+1;if(e.state.highlightAll)c=0,u=t.length;else if(!s)return;for(let d=c;d<u;d++){const n=t[d],c=n.begin,u=n.end,p=s&&d===a,f=p?" selected":"";if(p&&e.scrollMatchIntoView({element:i[c.divIdx],pageIndex:r,matchIndex:a}),o&&c.divIdx===o.divIdx?h(o.divIdx,o.offset,c.offset):(null!==o&&h(o.divIdx,o.offset,void 0),l(c)),c.divIdx===u.divIdx)h(c.divIdx,c.offset,u.offset,"highlight"+f);else{h(c.divIdx,c.offset,void 0,"highlight begin"+f);for(let t=c.divIdx+1,e=u.divIdx;t<e;t++)i[t].className="highlight middle"+f;l(u,"highlight end"+f)}o=u}o&&h(o.divIdx,o.offset,void 0)}_updateMatches(){if(!this.renderingDone)return;const{findController:t,matches:e,pageIdx:r,textContentItemsStr:n,textDivs:i}=this;let s=-1;for(let a=0,o=e.length;a<o;a++){const t=e[a];for(let e=Math.max(s,t.begin.divIdx),r=t.end.divIdx;e<=r;e++){const t=i[e];t.textContent=n[e],t.className=""}s=t.end.divIdx+1}t&&t.highlightMatches&&(this.matches=this._convertMatches(t.pageMatches[r]||null,t.pageMatchesLength[r]||null),this._renderMatches(this.matches))}_bindMouse(){const t=this.textLayerDiv;let e=null;t.addEventListener("mousedown",r=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(e&&(clearTimeout(e),e=null));const n=t.querySelector(".endOfContent");if(!n)return;let i=r.target!==t;if(i=i&&"none"!==window.getComputedStyle(n).getPropertyValue("-moz-user-select"),i){const e=t.getBoundingClientRect(),i=Math.max(0,(r.pageY-e.top)/e.height);n.style.top=(100*i).toFixed(2)+"%"}n.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(e=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),e=null},300));const r=t.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))})}}e.TextLayerBuilder=s,e.DefaultTextLayerFactory=class{createTextLayerBuilder(t,e,r,n=!1,i){return new s({textLayerDiv:t,pageIndex:e,viewport:r,enhanceTextSelection:n,eventBus:i})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var n=r(2);const i=n.apiCompatibilityParams.disableCreateObjectURL||!1;function s(t,e){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=t,r.target="_parent","download"in r&&(r.download=e),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}e.DownloadManager=class{constructor({disableCreateObjectURL:t=i}){this.disableCreateObjectURL=t}downloadUrl(t,e){(0,n.createValidAbsoluteUrl)(t,"http://example.com")&&s(t+"#pdfjs.action=download",e)}downloadData(t,e,r){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([t],{type:r}),e):s((0,n.createObjectURL)(t,r,this.disableCreateObjectURL),e)}download(t,e,r){navigator.msSaveBlob?navigator.msSaveBlob(t,r)||this.downloadUrl(e,r):this.disableCreateObjectURL?this.downloadUrl(e,r):s(URL.createObjectURL(t),r)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0,r(8);const n=document.webL10n;e.GenericL10n=class{constructor(t){this._lang=t,this._ready=new Promise((e,r)=>{n.setLanguage(t,()=>{e(n)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(t,e,r){return(await this._ready).get(t,e,r)}async translate(t){return(await this._ready).translate(t)}}},function(t,e,r){"use strict";document.webL10n=function(t,e,r){var n={},i="",s="textContent",a="",o={},l="loading";function h(t,e,r){e=e||function(t){},r=r||function(){};var n=new XMLHttpRequest;n.open("GET",t,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=utf-8"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status||0===n.status?e(n.responseText):r())},n.onerror=r,n.ontimeout=r;try{n.send(null)}catch(i){r()}}function c(t,e,r){var i=n[t];if(!i){if(console.warn("#"+t+" is undefined."),!r)return null;i=r}var s={};for(var a in i){var o=i[a];o=d(o=u(o,e,t,a),e,t),s[a]=o}return s}function u(t,e,r,i){var s=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(t);if(!s||!s.length)return t;var a,l=s[1],h=s[2];return e&&h in e?a=e[h]:h in n&&(a=n[h]),l in o&&(t=(0,o[l])(t,a,r,i)),t}function d(t,e,r){return t.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(t,i){return e&&i in e?e[i]:i in n?n[i]:(console.log("argument {{"+i+"}} for #"+r+" is undefined."),t)}))}function p(t){var r=function(t){if(!t)return{};var e=t.getAttribute("data-l10n-id"),r=t.getAttribute("data-l10n-args"),n={};if(r)try{n=JSON.parse(r)}catch(i){console.warn("could not parse arguments for #"+e)}return{id:e,args:n}}(t);if(r.id){var n=c(r.id,r.args);if(n){if(n[s]){if(0===function(t){if(t.children)return t.children.length;if(void 0!==t.childElementCount)return t.childElementCount;for(var e=0,r=0;r<t.childNodes.length;r++)e+=1===t.nodeType?1:0;return e}(t))t[s]=n[s];else{for(var i=t.childNodes,a=!1,o=0,l=i.length;o<l;o++)3===i[o].nodeType&&/\S/.test(i[o].nodeValue)&&(a?i[o].nodeValue="":(i[o].nodeValue=n[s],a=!0));if(!a){var h=e.createTextNode(n[s]);t.insertBefore(h,t.firstChild)}}delete n[s]}for(var u in n)t[u]=n[u]}else console.warn("#"+r.id+" is undefined.")}}return o.plural=function(t,e,r,i){var l=parseFloat(e);if(isNaN(l))return t;if(i!=s)return t;o._pluralRules||(o._pluralRules=function(t){function e(t,e){return-1!==e.indexOf(t)}function r(t,e,r){return e<=t&&t<=r}var n={0:function(t){return"other"},1:function(t){return r(t%100,3,10)?"few":0===t?"zero":r(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function(t){return 1==t?"one":"other"},4:function(t){return r(t,0,1)?"one":"other"},5:function(t){return r(t,0,2)&&2!=t?"one":"other"},6:function(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function(t){return 2==t?"two":1==t?"one":"other"},8:function(t){return r(t,3,6)?"few":r(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function(t){return 0===t||1!=t&&r(t%100,1,19)?"few":1==t?"one":"other"},10:function(t){return r(t%10,2,9)&&!r(t%100,11,19)?"few":t%10!=1||r(t%100,11,19)?"other":"one"},11:function(t){return r(t%10,2,4)&&!r(t%100,12,14)?"few":t%10==0||r(t%10,5,9)||r(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function(t){return r(t,2,4)?"few":1==t?"one":"other"},13:function(t){return r(t%10,2,4)&&!r(t%100,12,14)?"few":1!=t&&r(t%10,0,1)||r(t%10,5,9)||r(t%100,12,14)?"many":1==t?"one":"other"},14:function(t){return r(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function(t){return 0===t||r(t%100,2,10)?"few":r(t%100,11,19)?"many":1==t?"one":"other"},16:function(t){return t%10==1&&11!=t?"one":"other"},17:function(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function(t){return 0===t?"zero":r(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function(t){return r(t,2,10)?"few":r(t,0,1)?"one":"other"},20:function(t){return!r(t%10,3,4)&&t%10!=9||r(t%100,10,19)||r(t%100,70,79)||r(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||e(t%100,[12,72,92])?t%10!=1||e(t%100,[11,71,91])?"other":"one":"two":"few"},21:function(t){return 0===t?"zero":1==t?"one":"other"},22:function(t){return r(t,0,1)||r(t,11,99)?"one":"other"},23:function(t){return r(t%10,1,2)||t%20==0?"one":"other"},24:function(t){return r(t,3,10)||r(t,13,19)?"few":e(t,[2,12])?"two":e(t,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[t.replace(/-.*$/,"")];return i in n?n[i]:(console.warn("plural form unknown for ["+t+"]"),function(){return"other"})}(a));var h="["+o._pluralRules(l)+"]";return 0===l&&r+"[zero]"in n?t=n[r+"[zero]"][i]:1==l&&r+"[one]"in n?t=n[r+"[one]"][i]:2==l&&r+"[two]"in n?t=n[r+"[two]"][i]:r+h in n?t=n[r+h][i]:r+"[other]"in n&&(t=n[r+"[other]"][i]),t},{get:function(t,e,r){var n,i=t.lastIndexOf("."),a=s;i>0&&(a=t.substring(i+1),t=t.substring(0,i)),r&&((n={})[a]=r);var o=c(t,e,n);return o&&a in o?o[a]:"{{"+t+"}}"},getData:function(){return n},getText:function(){return i},getLanguage:function(){return a},setLanguage:function(t,r){!function(t,r){t&&(t=t.toLowerCase()),r=r||function(){},n={},i="",a="",a=t;var o=e.querySelectorAll('link[type="application/l10n"]'),c=o.length;if(0!==c){var u,d,p=0;d=function(){++p>=c&&(r(),l="complete")};for(var f=0;f<c;f++)new v(o[f]).load(t,d)}else{var g=(u=e.querySelector('script[type="application/l10n"]'))?JSON.parse(u.innerHTML):null;if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(n=g.locales[t])){var m=g.default_locale.toLowerCase();for(var _ in g.locales){if((_=_.toLowerCase())===t){n=g.locales[t];break}_===m&&(n=g.locales[m])}}r()}else console.log("no resource to load, early way out");l="complete"}function v(t){var e=t.href;this.load=function(t,r){!function(t,e,r,a){var o=t.replace(/[^\/]*$/,"")||"./";function l(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(t,(function(t){i+=t,function(t,i){var a={},c=/^\s*|\s*$/,u=/^\s*#|^\s*$/,d=/^\s*\[(.*)\]\s*$/,p=/^\s*@import\s+url\((.*)\)\s*$/i,f=/^([^=\s]*)\s*=\s*(.+)$/;function g(t,r,n){var i=t.replace(c,"").split(/[\r\n]+/),s="*",h=e.split("-",1)[0],g=!1,_="";!function t(){for(;;){if(!i.length)return void n();var c=i.shift();if(!u.test(c)){if(r){if(_=d.exec(c)){s=_[1].toLowerCase(),g="*"!==s&&s!==e&&s!==h;continue}if(g)continue;if(_=p.exec(c))return void m(o+_[1],t)}var v=c.match(f);v&&3==v.length&&(a[v[1]]=l(v[2]))}}}()}function m(t,e){h(t,(function(t){g(t,!1,e)}),(function(){console.warn(t+" not found."),e()}))}g(t,!0,(function(){!function(t){for(var e in t){var i,a,o=e.lastIndexOf(".");o>0?(i=e.substring(0,o),a=e.substring(o+1)):(i=e,a=s),n[i]||(n[i]={}),n[i][a]=t[e]}r&&r()}(a)}))}(t)}),a)}(e,t,r,(function(){console.warn(e+" not found."),console.warn('"'+t+'" resource not found'),a="",r()}))}}}(t,(function(){r&&r()}))},getDirection:function(){var t=a.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function(t){for(var r=function(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}(t=t||e.documentElement),n=r.length,i=0;i<n;i++)p(r[i]);p(t)},getReadyState:function(){return l},ready:function(r){r&&("complete"==l||"interactive"==l?t.setTimeout((function(){r()})):e.addEventListener&&e.addEventListener("localized",(function t(){e.removeEventListener("localized",t),r()})))}}}(window,document)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var n=r(3),i=r(2),s=r(10);const a={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=a;const o={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"};let l=null;function h(t){if(!l){const t=Object.keys(o).join("");l=new RegExp(`[${t}]`,"g")}return t.replace(l,(function(t){return o[t]}))}e.PDFFindController=class{constructor({linkService:t,eventBus:e}){this._linkService=t,this._eventBus=e||(0,n.getGlobalEventBus)(),this._reset(),e._on("findbarclose",this._onFindBarClose.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(t){this._pdfDocument&&this._reset(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}executeCommand(t,e){if(!e)return;const r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,e))&&(this._dirtyMatch=!0),this._state=e,"findhighlightallchange"!==t&&this._updateUIState(a.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||r&&this._pdfDocument!==r)return;this._extractText();const e=!this._highlightMatches,n=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),"find"===t?this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250):this._dirtyMatch?this._nextMatch():"findagain"===t?(this._nextMatch(),e&&this._state.highlightAll&&this._updateAllPages()):"findhighlightallchange"===t?(n?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch()})}scrollMatchIntoView({element:t=null,pageIndex:e=-1,matchIndex:r=-1}){this._scrollMatches&&t&&-1!==r&&r===this._selected.matchIdx&&-1!==e&&e===this._selected.pageIdx&&(this._scrollMatches=!1,(0,n.scrollIntoView)(t,{top:-50,left:-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=h(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(t,e){if(e.query!==this._state.query)return!0;switch(t){case"findagain":const t=this._selected.pageIdx+1,e=this._linkService;return t>=1&&t<=e.pagesCount&&t!==e.page&&!e.isPageVisible(t);case"findhighlightallchange":return!1}return!0}_prepareMatches(t,e,r){function n(e){const r=t[e];if(e<t.length-1&&r.match===t[e+1].match)return r.skipped=!0,!0;for(let n=e-1;n>=0;n--){const e=t[n];if(!e.skipped){if(e.match+e.matchLength<r.match)break;if(e.match+e.matchLength>=r.match+r.matchLength)return r.skipped=!0,!0}}return!1}t.sort((function(t,e){return t.match===e.match?t.matchLength-e.matchLength:t.match-e.match}));for(let i=0,s=t.length;i<s;i++)n(i)||(e.push(t[i].match),r.push(t[i].matchLength))}_isEntireWord(t,e,r){if(e>0){const r=t.charCodeAt(e),n=t.charCodeAt(e-1);if((0,s.getCharacterType)(r)===(0,s.getCharacterType)(n))return!1}const n=e+r-1;if(n<t.length-1){const e=t.charCodeAt(n),r=t.charCodeAt(n+1);if((0,s.getCharacterType)(e)===(0,s.getCharacterType)(r))return!1}return!0}_calculatePhraseMatch(t,e,r,n){const i=[],s=t.length;let a=-s;for(;a=r.indexOf(t,a+s),-1!==a;)n&&!this._isEntireWord(r,a,s)||i.push(a);this._pageMatches[e]=i}_calculateWordMatch(t,e,r,n){const i=[],s=t.match(/\S+/g);for(let a=0,o=s.length;a<o;a++){const t=s[a],e=t.length;let o=-e;for(;o=r.indexOf(t,o+e),-1!==o;)n&&!this._isEntireWord(r,o,e)||i.push({match:o,matchLength:e,skipped:!1})}this._pageMatchesLength[e]=[],this._pageMatches[e]=[],this._prepareMatches(i,this._pageMatches[e],this._pageMatchesLength[e])}_calculateMatch(t){let e=this._pageContents[t],r=this._query;const{caseSensitive:n,entireWord:i,phraseSearch:s}=this._state;if(0===r.length)return;n||(e=e.toLowerCase(),r=r.toLowerCase()),s?this._calculatePhraseMatch(r,t,e,i):this._calculateWordMatch(r,t,e,i),this._state.highlightAll&&this._updatePage(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this._nextPageMatch());const a=this._pageMatches[t].length;a>0&&(this._matchesCountTotal+=a,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let t=Promise.resolve();for(let e=0,r=this._linkService.pagesCount;e<r;e++){const r=(0,i.createPromiseCapability)();this._extractTextPromises[e]=r.promise,t=t.then(()=>this._pdfDocument.getPage(e+1).then(t=>t.getTextContent({normalizeWhitespace:!0})).then(t=>{const n=t.items,i=[];for(let e=0,r=n.length;e<r;e++)i.push(n[e].str);this._pageContents[e]=h(i.join("")),r.resolve(e)},t=>{console.error("Unable to get text content for page "+(e+1),t),this._pageContents[e]="",r.resolve(e)}))}}_updatePage(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const t=this._state.findPrevious,e=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let t=0;t<r;t++)!0!==this._pendingFindMatches[t]&&(this._pendingFindMatches[t]=!0,this._extractTextPromises[t].then(t=>{delete this._pendingFindMatches[t],this._calculateMatch(t)}))}if(""===this._query)return void this._updateUIState(a.FOUND);if(this._resumePageIdx)return;const n=this._offset;if(this._pagesToSearch=r,null!==n.matchIdx){const e=this._pageMatches[n.pageIdx].length;if(!t&&n.matchIdx+1<e||t&&n.matchIdx>0)return n.matchIdx=t?n.matchIdx-1:n.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}_matchesReady(t){const e=this._offset,r=t.length,n=this._state.findPrevious;return r?(e.matchIdx=n?r-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(n),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let t=null;do{const e=this._offset.pageIdx;if(t=this._pageMatches[e],!t){this._resumePageIdx=e;break}}while(!this._matchesReady(t))}_advanceOffsetPage(t){const e=this._offset,r=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=r||e.pageIdx<0)&&(e.pageIdx=t?r-1:0,e.wrapped=!0)}_updateMatch(t=!1){let e=a.NOT_FOUND;const r=this._offset.wrapped;if(this._offset.wrapped=!1,t){const t=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=r?a.WRAPPED:a.FOUND,-1!==t&&t!==this._selected.pageIdx&&this._updatePage(t)}this._updateUIState(e,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(t){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(a.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:t,matchIdx:e}=this._selected;let r=0,n=this._matchesCountTotal;if(-1!==e){for(let e=0;e<t;e++)r+=this._pageMatches[e]&&this._pageMatches[e].length||0;r+=e+1}return(r<1||r>n)&&(r=n=0),{current:r,total:n}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(t,e){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:e,matchesCount:this._requestMatchesCount()})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharacterType=function(t){return function(t){return t<11904}(t)?function(t){return 0==(65408&t)}(t)?function(t){return 32===t||9===t||13===t||10===t}(t)?n.SPACE:function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function(t){return t>=48&&t<=57}(t)||95===t?n.ALPHA_LETTER:n.PUNCT:function(t){return 3584==(65408&t)}(t)?n.THAI_LETTER:160===t?n.SPACE:n.ALPHA_LETTER:function(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?n.HAN_LETTER:function(t){return t>=12448&&t<=12543}(t)?n.KATAKANA_LETTER:function(t){return t>=12352&&t<=12447}(t)?n.HIRAGANA_LETTER:function(t){return t>=65376&&t<=65439}(t)?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER},e.CharacterType=void 0;const n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDestHashesEqual=s,e.isDestArraysEqual=a,e.PDFHistory=void 0;var n=r(3);function i(){return document.location.hash}function s(t,e){if("string"!=typeof t||"string"!=typeof e)return!1;if(t===e)return!0;const{nameddest:r}=(0,n.parseQueryString)(t);return r===e}function a(t,e){function r(t,e){if(typeof t!=typeof e)return!1;if(Array.isArray(t)||Array.isArray(e))return!1;if(null!==t&&"object"==typeof t&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!r(t[n],e[n]))return!1;return!0}return t===e||Number.isNaN(t)&&Number.isNaN(e)}if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(!r(t[n],e[n]))return!1;return!0}e.PDFHistory=class{constructor({linkService:t,eventBus:e}){this.linkService=t,this.eventBus=e||(0,n.getGlobalEventBus)(),this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",t=>{this._isViewerInPresentationMode=t.active||t.switchInProgress}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1;const t=e=>{this.eventBus._off("pagesloaded",t),this._isPagesLoaded=!!e.pagesCount};this.eventBus._on("pagesloaded",t)})}initialize({fingerprint:t,resetHistory:e=!1,updateUrl:r=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const n=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===r,this._initialized=!0,this._bindEvents();const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||e){const{hash:t,page:r,rotation:i}=this._parseCurrentHash();return!t||n||e?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:t,page:r,rotation:i},!0)}const a=s.destination;this._updateInternalState(a,s.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==a.rotation&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark="page="+a.page)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:e,pageNumber:r}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(e))return void console.error(`PDFHistory.push: "${e}" is not a valid explicitDest parameter.`);if(!(Number.isInteger(r)&&r>0&&r<=this.linkService.pagesCount)&&(null!==r||this._destination))return void console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);const n=t||JSON.stringify(e);if(!n)return;let i=!1;if(this._destination&&(s(this._destination.hash,n)||a(this._destination.dest,e))){if(this._destination.page)return;i=!0}this._popStateInProgress&&!i||(this._pushOrReplaceState({dest:e,hash:n,page:r,rotation:this.linkService.rotation},i),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,e=!1){const r=e||!this._destination,n={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:t};let i;if(this._updateInternalState(t,n.uid),this._updateUrl&&t&&t.hash){const e=document.location.href.split("#")[0];e.startsWith("file://")||(i=`${e}#${t.hash}`)}r?window.history.replaceState(n,"",i):(this._maxUid=this._uid,window.history.pushState(n,"",i))}_tryPushCurrentPosition(t=!1){if(!this._position)return;let e=this._position;if(t&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination)return void this._pushOrReplaceState(e);if(this._destination.temporary)return void this._pushOrReplaceState(e,!0);if(this._destination.hash===e.hash)return;if(!this._destination.page&&this._numPositionUpdates<=50)return;let r=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest||!this._destination.first)return;r=!0}this._pushOrReplaceState(e,r)}_isValidState(t,e=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!e)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[e]=performance.getEntriesByType("navigation");if(!e||"reload"!==e.type)return!1}}return!(!Number.isInteger(t.uid)||t.uid<0)&&null!==t.destination&&"object"==typeof t.destination}_updateInternalState(t,e,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._numPositionUpdates=0}_parseCurrentHash(){const t=unescape(i()).substring(1);let e=0|(0,n.parseQueryString)(t).page;return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount||(e=null),{hash:t,page:e,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page="+t.pageNumber:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const e=i(),r=this._currentHash!==e;if(this._currentHash=e,!t){this._uid++;const{hash:t,page:e,rotation:r}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:t,page:e,rotation:r},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,(0,n.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const s=t.destination;this._updateInternalState(s,t.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,n.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.navigateTo(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var n=r(3),i=r(2),s=r(13);const a=r(14).viewerCompatibilityParams.maxCanvasPixels||16777216;e.PDFPageView=class{constructor(t){const e=t.container,r=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||n.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:n.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||a,this.eventBus=t.eventBus||(0,n.getGlobalEventBus)(),this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||n.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||n.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=s.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),this.div=i,e.appendChild(i)}setPdfPage(t){this.pdfPage=t,this.pdfPageRotate=t.rotate,this.viewport=t.getViewport({scale:this.scale*n.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=t.stats,this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_resetZoomLayer(t=!1){if(!this.zoomLayer)return;const e=this.zoomLayer.firstChild;this.paintedViewportMap.delete(e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}reset(t=!1,e=!1){this.cancelRendering(e),this.renderingState=s.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const n=r.childNodes,i=t&&this.zoomLayer||null,a=e&&this.annotationLayer&&this.annotationLayer.div||null;for(let s=n.length-1;s>=0;s--){const t=n[s];i!==t&&a!==t&&r.removeChild(t)}r.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",r.appendChild(this.loadingIconDiv)}update(t,e){if(this.scale=t||this.scale,void 0!==e&&(this.rotation=e),this.viewport=this.viewport.clone({scale:this.scale*n.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});let r=!1;if(this.canvas&&this.maxCanvasPixels>0){const t=this.outputScale;(Math.floor(this.viewport.width)*t.sx|0)*(Math.floor(this.viewport.height)*t.sy|0)>this.maxCanvasPixels&&(r=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}cancelRendering(t=!1){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!t&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}cssTransform(t,e=!1){const r=this.viewport.width,n=this.viewport.height,i=this.div;t.style.width=t.parentNode.style.width=i.style.width=Math.floor(r)+"px",t.style.height=t.parentNode.style.height=i.style.height=Math.floor(n)+"px";const s=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,a=Math.abs(s);let o=1,l=1;if(90!==a&&270!==a||(o=n/r,l=r/n),t.style.transform="rotate("+s+"deg) scale("+o+","+l+")",this.textLayer){const t=this.textLayer.viewport,e=Math.abs(this.viewport.rotation-t.rotation);let n=r/t.width;90!==e&&270!==e||(n=r/t.height);const i=this.textLayer.textLayerDiv;let s,a;switch(e){case 0:s=a=0;break;case 90:s=0,a="-"+i.style.height;break;case 180:s="-"+i.style.width,a="-"+i.style.height;break;case 270:s="-"+i.style.width,a=0;break;default:console.error("Bad rotation value.")}i.style.transform="rotate("+e+"deg) scale("+n+", "+n+") translate("+s+", "+a+")",i.style.transformOrigin="0% 0%"}e&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,e){return this.viewport.convertToPdfPoint(t,e)}draw(){this.renderingState!==s.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,pdfPage:e}=this;if(!e)return this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=s.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=t.style.width,r.style.height=t.style.height,r.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?t.insertBefore(r,this.annotationLayer.div):t.appendChild(r);let a=null;if(this.textLayerMode!==n.TextLayerMode.DISABLE&&this.textLayerFactory){const e=document.createElement("div");e.className="textLayer",e.style.width=r.style.width,e.style.height=r.style.height,this.annotationLayer&&this.annotationLayer.div?t.insertBefore(e,this.annotationLayer.div):t.appendChild(e),a=this.textLayerFactory.createTextLayerBuilder(e,this.id-1,this.viewport,this.textLayerMode===n.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=a;let o=null;this.renderingQueue&&(o=t=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=s.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=s.RenderingStates.RUNNING,t()});t()});const l=async r=>{if(h===this.paintTask&&(this.paintTask=null),r instanceof i.RenderingCancelledException)this.error=null;else if(this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.error=r,this.stats=e.stats,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now()}),r)throw r},h=this.renderer===n.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);h.onRenderContinue=o,this.paintTask=h;const c=h.promise.then((function(){return l(null).then((function(){if(a){const t=e.streamTextContent({normalizeWhitespace:!0});a.setTextContentStream(t),a.render()}}))}),(function(t){return l(t)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(t,e,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),c}paintOnCanvas(t){const e=(0,i.createPromiseCapability)(),r={promise:e.promise,onRenderContinue(t){t()},cancel(){p.cancel()}},s=this.viewport,a=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(t=>{a.setAttribute("aria-label",t)}),a.setAttribute("hidden","hidden");let o=!0;const l=function(){o&&(a.removeAttribute("hidden"),o=!1)};t.appendChild(a),this.canvas=a,a.mozOpaque=!0;const h=a.getContext("2d",{alpha:!1}),c=(0,n.getOutputScale)(h);if(this.outputScale=c,this.useOnlyCssZoom){const t=s.clone({scale:n.CSS_UNITS});c.sx*=t.width/s.width,c.sy*=t.height/s.height,c.scaled=!0}if(this.maxCanvasPixels>0){const t=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));c.sx>t||c.sy>t?(c.sx=t,c.sy=t,c.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const u=(0,n.approximateFraction)(c.sx),d=(0,n.approximateFraction)(c.sy);a.width=(0,n.roundToDivide)(s.width*c.sx,u[0]),a.height=(0,n.roundToDivide)(s.height*c.sy,d[0]),a.style.width=(0,n.roundToDivide)(s.width,u[1])+"px",a.style.height=(0,n.roundToDivide)(s.height,d[1])+"px",this.paintedViewportMap.set(a,s);const p=this.pdfPage.render({canvasContext:h,transform:c.scaled?[c.sx,0,0,c.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return p.onContinue=function(t){l(),r.onRenderContinue?r.onRenderContinue(t):t()},p.promise.then((function(){l(),e.resolve(void 0)}),(function(t){l(),e.reject(t)})),r}paintOnSvg(t){let e=!1;const r=()=>{if(e)throw new i.RenderingCancelledException("Rendering cancelled, page "+this.id,"svg")},a=this.pdfPage,o=this.viewport.clone({scale:n.CSS_UNITS});return{promise:a.getOperatorList().then(e=>(r(),new i.SVGGraphics(a.commonObjs,a.objs).getSVG(e,o).then(e=>{r(),this.svg=e,this.paintedViewportMap.set(e,o),e.style.width=t.style.width,e.style.height=t.style.height,this.renderingState=s.RenderingStates.FINISHED,t.appendChild(e)}))),onRenderContinue(t){t()},cancel(){e=!0}}}setPageLabel(t){this.pageLabel="string"==typeof t?t:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=e.RenderingStates=void 0;const n={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};e.RenderingStates=n,e.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(t,e,r){const n=t.views,i=n.length;if(0===i)return null;for(let s=0;s<i;++s){const t=n[s].view;if(!this.isViewFinished(t))return t}if(r){const r=t.last.id;if(e[r]&&!this.isViewFinished(e[r]))return e[r]}else{const r=t.first.id-2;if(e[r]&&!this.isViewFinished(e[r]))return e[r]}return null}isViewFinished(t){return t.renderingState===n.FINISHED}renderView(t){switch(t.renderingState){case n.FINISHED:return!1;case n.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case n.RUNNING:this.highestPriorityPage=t.renderingId;break;case n.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{console.error(`renderView: "${t}"`)})}return!0}}},function(t,e,r){"use strict";const n=Object.create(null);{const t="undefined"!=typeof navigator&&navigator.userAgent||"",e="undefined"!=typeof navigator&&navigator.platform||"",r="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,i=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===e&&r>1||i)&&(n.maxCanvasPixels=5242880)}e.viewerCompatibilityParams=Object.freeze(n)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFSinglePageViewer=void 0;var n=r(16),i=r(2);e.PDFSinglePageViewer=class extends n.BaseViewer{constructor(t){super(t),this.eventBus._on("pagesinit",t=>{this._ensurePageViewVisible()})}get _setDocumentViewerElement(){return(0,i.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}_resetView(){super._resetView(),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}_ensurePageViewVisible(){const t=this._pages[this._currentPageNumber-1],e=this._pages[this._previousPageNumber-1],r=this.viewer.childNodes;switch(r.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(r[0]!==e.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===e)break;this._shadowViewer.appendChild(e.div),this.viewer.appendChild(t.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}_scrollUpdate(){this._updateScrollDown&&this._updateScrollDown(),super._scrollUpdate()}_scrollIntoView({pageDiv:t,pageSpot:e=null,pageNumber:r=null}){r&&this._setCurrentPageNumber(r);const n=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),super._scrollIntoView({pageDiv:t,pageSpot:e,pageNumber:r}),this._updateScrollDown=()=>{this.scroll.down=n,this._updateScrollDown=null}}_getVisiblePages(){return this._getCurrentVisiblePage()}_updateHelper(t){}get _isScrollModeHorizontal(){return(0,i.shadow)(this,"_isScrollModeHorizontal",!1)}_updateScrollMode(){}_updateSpreadMode(){}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewer=void 0;var n=r(3),i=r(13),s=r(1),a=r(2),o=r(12),l=r(4),h=r(5);function c(t){const e=[];this.push=function(r){const n=e.indexOf(r);n>=0&&e.splice(n,1),e.push(r),e.length>t&&e.shift().destroy()},this.resize=function(r,i){if(t=r,i){const t=new Set;for(let e=0,r=i.length;e<r;++e)t.add(i[e].id);(0,n.moveToEndOfArray)(e,(function(e){return t.has(e.id)}))}for(;e.length>t;)e.shift().destroy()}}class u{constructor(t){if(this.constructor===u)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus||(0,n.getGlobalEventBus)(),this.linkService=t.linkService||new l.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:n.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||n.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||n.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new i.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,n.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=n.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(t){return this._pages[t]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every((function(t){return t&&t.pdfPage}))}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error(`${this._name}.currentPageNumber: "${t}" is not a valid page.`))}_setCurrentPageNumber(t,e=!1){return this._currentPageNumber===t?(e&&this._resetCurrentPageView(),!0):0<t&&t<=this.pagesCount&&(this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1]}),e&&this._resetCurrentPageView(),!0)}get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]}set currentPageLabel(t){if(!this.pdfDocument)return;let e=0|t;if(this._pageLabels){const r=this._pageLabels.indexOf(t);r>=0&&(e=r+1)}this._setCurrentPageNumber(e,!0)||console.error(`${this._name}.currentPageLabel: "${t}" is not a valid page.`)}get currentScale(){return this._currentScale!==n.UNKNOWN_SCALE?this._currentScale:n.DEFAULT_SCALE}set currentScale(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(t){this.pdfDocument&&this._setScale(t,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(t){if(!(0,n.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;if(this._pagesRotation===t)return;this._pagesRotation=t;const e=this._currentPageNumber;for(let r=0,n=this._pages.length;r<n;r++){const e=this._pages[r];e.update(e.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:e}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _setDocumentViewerElement(){throw new Error("Not implemented: _setDocumentViewerElement")}setDocument(t){if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=t,!t)return;const e=t.numPages,r=t.getPage(1);this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:e})}),this._onBeforeDraw=t=>{const e=this._pages[t.pageNumber-1];e&&this._buffer.push(e)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=t=>{t.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve(),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),r.then(r=>{this._firstPageCapability.resolve(r);const i=this.currentScale,s=r.getViewport({scale:i*n.CSS_UNITS}),a=this.textLayerMode!==n.TextLayerMode.DISABLE?this:null;for(let t=1;t<=e;++t){const e=new o.PDFPageView({container:this._setDocumentViewerElement,eventBus:this.eventBus,id:t,scale:i,defaultViewport:s.clone(),renderingQueue:this.renderingQueue,textLayerFactory:a,textLayerMode:this.textLayerMode,annotationLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer,enableWebGL:this.enableWebGL,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(e)}const l=this._pages[0];l&&(l.setPdfPage(r),this.linkService.cachePageRef(1,r.ref)),this._spreadMode!==n.SpreadMode.NONE&&this._updateSpreadMode(),this._onePageRenderedCapability.promise.then(()=>{if(this.findController&&this.findController.setDocument(t),t.loadingParams.disableAutoFetch||e>7500)return void this._pagesCapability.resolve();let r=e-1;if(r<=0)this._pagesCapability.resolve();else for(let n=2;n<=e;++n)t.getPage(n).then(t=>{const e=this._pages[n-1];e.pdfPage||e.setPdfPage(t),this.linkService.cachePageRef(n,t.ref),0==--r&&this._pagesCapability.resolve()},t=>{console.error(`Unable to get page ${n} to initialize viewer`,t),0==--r&&this._pagesCapability.resolve()})}),this.eventBus.dispatch("pagesinit",{source:this}),this.defaultRenderingQueue&&this.update()}).catch(t=>{console.error("Unable to initialize viewer",t)})}setPageLabels(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,e=this._pages.length;t<e;t++)this._pages[t].setPageLabel(this._pageLabels&&this._pageLabels[t])}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=n.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new c(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=n.ScrollMode.VERTICAL,this._spreadMode=n.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:t,pageSpot:e=null,pageNumber:r=null}){(0,n.scrollIntoView)(t,e)}_setScaleUpdatePages(t,e,r=!1,n=!1){if(this._currentScaleValue=e.toString(),function(t,e){return e===t||Math.abs(e-t)<1e-15}(this._currentScale,t))n&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});else{for(let e=0,r=this._pages.length;e<r;e++)this._pages[e].update(t);if(this._currentScale=t,!r){let t,e=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(e=this._location.pageNumber,t=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:e,destArray:t,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:n?e:void 0}),this.defaultRenderingQueue&&this.update()}}_setScale(t,e=!1){let r=parseFloat(t);if(r>0)this._setScaleUpdatePages(r,t,e,!1);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;const s=this.isInPresentationMode||this.removePageBorders;let a=s?0:n.SCROLLBAR_PADDING,o=s?0:n.VERTICAL_PADDING;!s&&this._isScrollModeHorizontal&&([a,o]=[o,a]);const l=(this.container.clientWidth-a)/i.width*i.scale,h=(this.container.clientHeight-o)/i.height*i.scale;switch(t){case"page-actual":r=1;break;case"page-width":r=l;break;case"page-height":r=h;break;case"page-fit":r=Math.min(l,h);break;case"auto":const e=(0,n.isPortraitOrientation)(i)?l:Math.min(h,l);r=Math.min(n.MAX_AUTO_SCALE,e);break;default:return void console.error(`${this._name}._setScale: "${t}" is an unknown zoom value.`)}this._setScaleUpdatePages(r,t,e,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}scrollPageIntoView({pageNumber:t,destArray:e=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(t)&&this._pages[t-1];if(!s)return void console.error(this._name+".scrollPageIntoView: "+`"${t}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!e)return void this._setCurrentPageNumber(t,!0);let a,o,l=0,h=0,c=0,u=0;const d=s.rotation%180!=0,p=(d?s.height:s.width)/s.scale/n.CSS_UNITS,f=(d?s.width:s.height)/s.scale/n.CSS_UNITS;let g=0;switch(e[1].name){case"XYZ":l=e[2],h=e[3],g=e[4],l=null!==l?l:0,h=null!==h?h:f;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":h=e[2],g="page-width",null===h&&this._location&&(l=this._location.left,h=this._location.top);break;case"FitV":case"FitBV":l=e[2],c=p,u=f,g="page-height";break;case"FitR":l=e[2],h=e[3],c=e[4]-l,u=e[5]-h,a=(this.container.clientWidth-(this.removePageBorders?0:n.SCROLLBAR_PADDING))/c/n.CSS_UNITS,o=(this.container.clientHeight-(this.removePageBorders?0:n.VERTICAL_PADDING))/u/n.CSS_UNITS,g=Math.min(Math.abs(a),Math.abs(o));break;default:return void console.error(this._name+".scrollPageIntoView: "+`"${e[1].name}" is not a valid destination type.`)}if(i||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===n.UNKNOWN_SCALE&&(this.currentScaleValue=n.DEFAULT_SCALE_VALUE)),"page-fit"===g&&!e[4])return void this._scrollIntoView({pageDiv:s.div,pageNumber:t});const m=[s.viewport.convertToViewportPoint(l,h),s.viewport.convertToViewportPoint(l+c,h+u)];let _=Math.min(m[0][0],m[1][0]),v=Math.min(m[0][1],m[1][1]);r||(_=Math.max(_,0),v=Math.max(v,0)),this._scrollIntoView({pageDiv:s.div,pageSpot:{left:_,top:v},pageNumber:t})}_updateLocation(t){const e=this._currentScale,r=this._currentScaleValue,n=parseFloat(r)===e?Math.round(1e4*e)/100:r,i=t.id;let s="#page="+i;s+="&zoom="+n;const a=this.container,o=this._pages[i-1].getPagePoint(a.scrollLeft-t.x,a.scrollTop-t.y),l=Math.round(o[0]),h=Math.round(o[1]);s+=","+l+","+h,this._location={pageNumber:i,scale:n,top:h,left:l,rotation:this._pagesRotation,pdfOpenParams:s}}_updateHelper(t){throw new Error("Not implemented: _updateHelper")}update(){const t=this._getVisiblePages(),e=t.views,r=e.length;if(0===r)return;const n=Math.max(10,2*r+1);this._buffer.resize(n,e),this.renderingQueue.renderHighestPriority(t),this._updateHelper(e),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(t){return this.container.contains(t)}focus(){this.container.focus()}get _isScrollModeHorizontal(){return!this.isInPresentationMode&&this._scrollMode===n.ScrollMode.HORIZONTAL}get isInPresentationMode(){return this.presentationModeState===n.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===n.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const t=this._pages[this._currentPageNumber-1],e=t.div,r={id:t.id,x:e.offsetLeft+e.clientLeft,y:e.offsetTop+e.clientTop,view:t};return{first:r,last:r,views:[r]}}_getVisiblePages(){return(0,n.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}isPageVisible(t){return!!this.pdfDocument&&(t<1||t>this.pagesCount?(console.error(`${this._name}.isPageVisible: "${t}" is out of bounds.`),!1):this._getVisiblePages().views.some((function(e){return e.id===t})))}cleanup(){for(let t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].renderingState!==i.RenderingStates.FINISHED&&this._pages[t].reset()}_cancelRendering(){for(let t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].cancelRendering()}_ensurePdfPageLoaded(t){if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);const e=this.pdfDocument.getPage(t.id).then(e=>(t.pdfPage||t.setPdfPage(e),this._pagesRequests.delete(t),e)).catch(e=>{console.error("Unable to get page for page view",e),this._pagesRequests.delete(t)});return this._pagesRequests.set(t,e),e}forceRendering(t){const e=t||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(e,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!r&&(this._ensurePdfPageLoaded(r).then(()=>{this.renderingQueue.renderView(r)}),!0)}createTextLayerBuilder(t,e,r,n=!1,i){return new h.TextLayerBuilder({textLayerDiv:t,eventBus:i,pageIndex:e,viewport:r,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&n})}createAnnotationLayerBuilder(t,e,r="",i=!1,a=n.NullL10n){return new s.AnnotationLayerBuilder({pageDiv:t,pdfPage:e,imageResourcesPath:r,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager,l10n:a})}get hasEqualPageSizes(){const t=this._pages[0];for(let e=1,r=this._pages.length;e<r;++e){const r=this._pages[e];if(r.width!==t.width||r.height!==t.height)return!1}return!0}getPagesOverview(){const t=this._pages.map((function(t){const e=t.pdfPage.getViewport({scale:1});return{width:e.width,height:e.height,rotation:e.rotation}}));if(!this.enablePrintAutoRotate)return t;const e=(0,n.isPortraitOrientation)(t[0]);return t.map((function(t){return e===(0,n.isPortraitOrientation)(t)?t:{width:t.height,height:t.width,rotation:(t.rotation+90)%360}}))}get scrollMode(){return this._scrollMode}set scrollMode(t){if(this._scrollMode!==t){if(!(0,n.isValidScrollMode)(t))throw new Error("Invalid scroll mode: "+t);this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber)}}_updateScrollMode(t=null){const e=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",e===n.ScrollMode.HORIZONTAL),r.classList.toggle("scrollWrapped",e===n.ScrollMode.WRAPPED),this.pdfDocument&&t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(t,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(t){if(this._spreadMode!==t){if(!(0,n.isValidSpreadMode)(t))throw new Error("Invalid spread mode: "+t);this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(t=null){if(!this.pdfDocument)return;const e=this.viewer,r=this._pages;if(e.textContent="",this._spreadMode===n.SpreadMode.NONE)for(let n=0,i=r.length;n<i;++n)e.appendChild(r[n].div);else{const t=this._spreadMode-1;let n=null;for(let i=0,s=r.length;i<s;++i)null===n?(n=document.createElement("div"),n.className="spread",e.appendChild(n)):i%2===t&&(n=n.cloneNode(!1),e.appendChild(n)),n.appendChild(r[i].div)}t&&(this._setCurrentPageNumber(t,!0),this.update())}}e.BaseViewer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=void 0;var n=r(16),i=r(2);e.PDFViewer=class extends n.BaseViewer{get _setDocumentViewerElement(){return(0,i.shadow)(this,"_setDocumentViewerElement",this.viewer)}_scrollIntoView({pageDiv:t,pageSpot:e=null,pageNumber:r=null}){if(!e&&!this.isInPresentationMode){const r=t.offsetLeft+t.clientLeft,n=r+t.clientWidth,{scrollLeft:i,clientWidth:s}=this.container;(this._isScrollModeHorizontal||r<i||n>i+s)&&(e={left:0,top:0})}super._scrollIntoView({pageDiv:t,pageSpot:e,pageNumber:r})}_getVisiblePages(){return this.isInPresentationMode?this._getCurrentVisiblePage():super._getVisiblePages()}_updateHelper(t){if(this.isInPresentationMode)return;let e=this._currentPageNumber,r=!1;for(const n of t){if(n.percent<100)break;if(n.id===e){r=!0;break}}r||(e=t[0].id),this._setCurrentPageNumber(e)}}}])})),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,(function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var n,i;n=[r(1),r(3),r(4)],void 0===(i=(function(t){return t}).apply(e,n))||(t.exports=i)},function(t,e,r){var n,i;n=[r(2)],void 0===(i=(function(t){function e(r){if(e.is(r,"function"))return _?r():t.on("raphael.DOMload",r);if(e.is(r,V))return e._engine.create[k](e,r.splice(0,3+e.is(r[0],H))).add(r);var n=Array.prototype.slice.call(arguments,0);if(e.is(n[n.length-1],"function")){var i=n.pop();return _?i.call(e._engine.create[k](e,n)):t.on("raphael.DOMload",(function(){i.call(e._engine.create[k](e,n))}))}return e._engine.create[k](e,arguments)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[A](n)&&(e[n]=r(t[n]));return e}function n(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}function i(t,e,r){return function i(){var s=Array.prototype.slice.call(arguments,0),a=s.join("\u2400"),o=i.cache=i.cache||{},l=i.count=i.count||[];return o[A](a)?(n(l,a),r?r(o[a]):o[a]):(l.length>=1e3&&delete o[l.shift()],l.push(a),o[a]=t[k](e,s),r?r(o[a]):o[a])}}function s(){return this.hex}function a(t,e){for(var r=[],n=0,i=t.length;i-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?i-4==n?s[3]={x:+t[0],y:+t[1]}:i-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[i-2],y:+t[i-1]}:i-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),r.push(["C",(6*s[1].x-s[0].x+s[2].x)/6,(6*s[1].y-s[0].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return r}function o(t,e,r,n,i){return t*(t*(-3*e+9*r-9*n+3*i)+6*e-12*r+6*n)-3*e+3*r}function l(t,e,r,n,i,s,a,l,h){null==h&&(h=1);for(var c=(h=h>1?1:h<0?0:h)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var g=c*u[f]+c,m=o(g,t,r,i,a),_=o(g,e,n,s,l);p+=d[f]*N.sqrt(m*m+_*_)}return c*p}function h(t,e,r,n,i,s,a,o){if(!(O(t,r)<B(i,a)||B(t,r)>O(i,a)||O(e,n)<B(s,o)||B(e,n)>O(s,o))){var l=(t-r)*(s-o)-(e-n)*(i-a);if(l){var h=((t*n-e*r)*(i-a)-(t-r)*(i*o-s*a))/l,c=((t*n-e*r)*(s-o)-(e-n)*(i*o-s*a))/l,u=+h.toFixed(2),d=+c.toFixed(2);if(!(u<+B(t,r).toFixed(2)||u>+O(t,r).toFixed(2)||u<+B(i,a).toFixed(2)||u>+O(i,a).toFixed(2)||d<+B(e,n).toFixed(2)||d>+O(e,n).toFixed(2)||d<+B(s,o).toFixed(2)||d>+O(s,o).toFixed(2)))return{x:h,y:c}}}}function c(t,r,n){var i=e.bezierBBox(t),s=e.bezierBBox(r);if(!e.isBBoxIntersect(i,s))return n?0:[];for(var a=l.apply(0,t),o=l.apply(0,r),c=O(~~(a/5),1),u=O(~~(o/5),1),d=[],p=[],f={},g=n?0:[],m=0;m<c+1;m++){var _=e.findDotsAtSegment.apply(e,t.concat(m/c));d.push({x:_.x,y:_.y,t:m/c})}for(m=0;m<u+1;m++)_=e.findDotsAtSegment.apply(e,r.concat(m/u)),p.push({x:_.x,y:_.y,t:m/u});for(m=0;m<c;m++)for(var v=0;v<u;v++){var y=d[m],b=d[m+1],x=p[v],A=p[v+1],w=U(b.x-y.x)<.001?"y":"x",S=U(A.x-x.x)<.001?"y":"x",C=h(y.x,y.y,b.x,b.y,x.x,x.y,A.x,A.y);if(C){if(f[C.x.toFixed(4)]==C.y.toFixed(4))continue;f[C.x.toFixed(4)]=C.y.toFixed(4);var k=y.t+U((C[w]-y[w])/(b[w]-y[w]))*(b.t-y.t),P=x.t+U((C[S]-x[S])/(A[S]-x[S]))*(A.t-x.t);k>=0&&k<=1.001&&P>=0&&P<=1.001&&(n?g++:g.push({x:C.x,y:C.y,t1:B(k,1),t2:B(P,1)}))}}return g}function u(t,r,n){t=e._path2curve(t),r=e._path2curve(r);for(var i,s,a,o,l,h,u,d,p,f,g=n?0:[],m=0,_=t.length;m<_;m++){var v=t[m];if("M"==v[0])i=l=v[1],s=h=v[2];else{"C"==v[0]?(p=[i,s].concat(v.slice(1)),i=p[6],s=p[7]):(p=[i,s,i,s,l,h,l,h],i=l,s=h);for(var y=0,b=r.length;y<b;y++){var x=r[y];if("M"==x[0])a=u=x[1],o=d=x[2];else{"C"==x[0]?(f=[a,o].concat(x.slice(1)),a=f[6],o=f[7]):(f=[a,o,a,o,u,d,u,d],a=u,o=d);var A=c(p,f,n);if(n)g+=A;else{for(var w=0,S=A.length;w<S;w++)A[w].segment1=m,A[w].segment2=y,A[w].bez1=p,A[w].bez2=f;g=g.concat(A)}}}}}return g}function d(t,e,r,n,i,s){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+n,this.e=+i,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+M+this.y+M+this.width+" \xd7 "+this.height}function f(t,e){var r=[],n={};if(this.ms=e,this.times=1,t){for(var i in t)t[A](i)&&(n[Q(i)]=t[i],r.push(Q(i)));r.sort(lt)}this.anim=n,this.top=r[r.length-1],this.percents=r}function g(r,n,i,s,a,o){i=Q(i);var l,h,c,u,p,f,g=r.ms,m={},_={},v={};if(s)for(x=0,w=re.length;x<w;x++){var b=re[x];if(b.el.id==n.id&&b.anim==r){b.percent!=i?(re.splice(x,1),c=1):h=b,n.attr(b.totalOrigin);break}}else s=+_;for(var x=0,w=r.percents.length;x<w;x++){if(r.percents[x]==i||r.percents[x]>s*r.top){g=g/r.top*((i=r.percents[x])-(p=r.percents[x-1]||0)),u=r.percents[x+1],l=r.anim[i];break}s&&n.attr(r.anim[r.percents[x]])}if(l){if(h)h.initstatus=s,h.start=new Date-h.ms*s;else{for(var S in l)if(l[A](S)&&(tt[A](S)||n.paper.customAttributes[A](S)))switch(m[S]=n.attr(S),null==m[S]&&(m[S]=J[S]),_[S]=l[S],tt[S]){case H:v[S]=(_[S]-m[S])/g;break;case"colour":m[S]=e.getRGB(m[S]);var C=e.getRGB(_[S]);v[S]={r:(C.r-m[S].r)/g,g:(C.g-m[S].g)/g,b:(C.b-m[S].b)/g};break;case"path":var k=Et(m[S],_[S]),T=k[1];for(m[S]=k[0],v[S]=[],x=0,w=m[S].length;x<w;x++){v[S][x]=[0];for(var R=1,M=m[S][x].length;R<M;R++)v[S][x][R]=(T[x][R]-m[S][x][R])/g}break;case"transform":var D=n._,I=Ot(D[S],_[S]);if(I)for(m[S]=I.from,_[S]=I.to,v[S]=[],v[S].real=!0,x=0,w=m[S].length;x<w;x++)for(v[S][x]=[m[S][x][0]],R=1,M=m[S][x].length;R<M;R++)v[S][x][R]=(_[S][x][R]-m[S][x][R])/g;else{var F=n.matrix||new d,N={_:{transform:D.transform},getBBox:function(){return n.getBBox(1)}};m[S]=[F.a,F.b,F.c,F.d,F.e,F.f],Ft(N,_[S]),_[S]=N._.transform,v[S]=[(N.matrix.a-F.a)/g,(N.matrix.b-F.b)/g,(N.matrix.c-F.c)/g,(N.matrix.d-F.d)/g,(N.matrix.e-F.e)/g,(N.matrix.f-F.f)/g]}break;case"csv":var O=L(l[S])[E](y),B=L(m[S])[E](y);if("clip-rect"==S)for(m[S]=B,v[S]=[],x=B.length;x--;)v[S][x]=(O[x]-m[S][x])/g;_[S]=O;break;default:for(O=[][P](l[S]),B=[][P](m[S]),v[S]=[],x=n.paper.customAttributes[S].length;x--;)v[S][x]=((O[x]||0)-(B[x]||0))/g}var j=l.easing,W=e.easing_formulas[j];if(!W)if((W=L(j).match(X))&&5==W.length){var Y=W;W=function(t){return function(t,e,r,n,i,s){function a(t){return((h*t+l)*t+o)*t}var o=3*e,l=3*(n-e)-o,h=1-o-l,c=3*r,u=3*(i-r)-c,d=1-c-u;return function(t,e){var r=function(t,e){var r,n,i,s,c,u;for(i=t,u=0;u<8;u++){if(s=a(i)-t,U(s)<e)return i;if(U(c=(3*h*i+2*l)*i+o)<1e-6)break;i-=s/c}if((i=t)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(s=a(i),U(s-t)<e)return i;t>s?r=i:n=i,i=(n-r)/2+r}return i}(t,e);return((d*r+u)*r+c)*r}(t,1/(200*s))}(t,+Y[1],+Y[2],+Y[3],+Y[4],g)}}else W=ht;if(b={anim:r,percent:i,timestamp:f=l.start||r.start||+new Date,start:f+(r.del||0),status:0,initstatus:s||0,stop:!1,ms:g,easing:W,from:m,diff:v,to:_,el:n,callback:l.callback,prev:p,next:u,repeat:o||r.times,origin:n.attr(),totalOrigin:a},re.push(b),s&&!h&&!c&&(b.stop=!0,b.start=new Date-g*s,1==re.length))return ie();c&&(b.start=new Date-b.ms*s),1==re.length&&ne(ie)}t("raphael.anim.start."+n.id,n,r)}}function m(t){for(var e=0;e<re.length;e++)re[e].el.paper==t&&re.splice(e--,1)}e.version="2.2.0",e.eve=t;var _,v,y=/[, ]+/,b={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},x=/\{(\d+)\}/g,A="hasOwnProperty",w={doc:document,win:window},S={was:Object.prototype[A].call(w.win,"Raphael"),is:w.win.Raphael},C=function(){this.ca=this.customAttributes={}},k="apply",P="concat",T="ontouchstart"in w.win||w.win.DocumentTouch&&w.doc instanceof DocumentTouch,R="",M=" ",L=String,E="split",D="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[E](M),I={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},F=L.prototype.toLowerCase,N=Math,O=N.max,B=N.min,U=N.abs,j=N.pow,W=N.PI,H="number",Y="string",V="array",G=Object.prototype.toString,q=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),z={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,$=N.round,Q=parseFloat,K=parseInt,Z=L.prototype.toUpperCase,J=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},tt=e._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},et=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,rt={hs:1,rg:1},nt=/,?([achlmqrstvxz]),?/gi,it=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ot=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),lt=function(t,e){return Q(t)-Q(e)},ht=function(t){return t},ct=e._rectPath=function(t,e,r,n,i){return i?[["M",t+i,e],["l",r-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-r,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",r,0],["l",0,n],["l",-r,0],["z"]]},ut=function(t,e,r,n){return null==n&&(n=r),[["M",t,e],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]]},dt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ut(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ut(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ct(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ct(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ct(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ct(e.x,e.y,e.width,e.height)}},pt=e.mapPath=function(t,e){if(!e)return t;var r,n,i,s,a,o,l;for(i=0,a=(t=Et(t)).length;i<a;i++)for(s=1,o=(l=t[i]).length;s<o;s+=2)r=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=r,l[s+1]=n;return t};if(e._g=w,"VML"==(e.type=w.win.SVGAngle||w.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var ft,gt=w.doc.createElement("div");if(gt.innerHTML='<v:shape adj="1"/>',(ft=gt.firstChild).style.behavior="url(#default#VML)",!ft||"object"!=typeof ft.adj)return e.type=R;gt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=C,e.fn=v=C.prototype=e.prototype,e._id=0,e.is=function(t,e){return"finite"==(e=F.call(e))?!z[A](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||G.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,r,n,i,s,a){if(null==s){var o=t-n,l=r-i;return o||l?(180+180*N.atan2(-l,-o)/W+360)%360:0}return e.angle(t,r,s,a)-e.angle(n,i,s,a)},e.rad=function(t){return t%360*W/180},e.deg=function(t){return Math.round(180*t/W%360*1e3)/1e3},e.snapTo=function(t,r,n){if(n=e.is(n,"finite")?n:10,e.is(t,V)){for(var i=t.length;i--;)if(U(t[i]-r)<=n)return t[i]}else{var s=r%(t=+t);if(s<n)return r-s;if(s>t-n)return r-s+t}return r},e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,(function(t){var e=16*N.random()|0;return("x"==t?e:3&e|8).toString(16)})),e.setWindow=function(r){t("raphael.setWindow",e,w.win,r),w.win=r,w.doc=w.win.document,e._engine.initWin&&e._engine.initWin(w.win)};var mt=function(t){if(e.vml){var r,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),r=s.body}catch(a){r=createPopup().document.body}var o=r.createTextRange();mt=i((function(t){try{r.style.color=L(t).replace(n,R);var e=o.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(i){return"none"}}))}else{var l=w.doc.createElement("i");l.title="Rapha\xebl Colour Picker",l.style.display="none",w.doc.body.appendChild(l),mt=i((function(t){return l.style.color=t,w.doc.defaultView.getComputedStyle(l,R).getPropertyValue("color")}))}return mt(t)},_t=function(){return"hsb("+[this.h,this.s,this.b]+")"},vt=function(){return"hsl("+[this.h,this.s,this.l]+")"},yt=function(){return this.hex},bt=function(t,r,n){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,r=t.g,t=t.r),null==r&&e.is(t,Y)){var i=e.getRGB(t);t=i.r,r=i.g,n=i.b}return(t>1||r>1||n>1)&&(t/=255,r/=255,n/=255),[t,r,n]},xt=function(t,r,n,i){var s={r:t*=255,g:r*=255,b:n*=255,hex:e.rgb(t,r,n),toString:yt};return e.is(i,"finite")&&(s.opacity=i),s};e.color=function(t){var r;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(r=e.hsb2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(r=e.hsl2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(r=e.rgb2hsl(t),t.h=r.h,t.s=r.s,t.l=r.l,r=e.rgb2hsb(t),t.v=r.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=yt,t},e.hsb2rgb=function(t,e,r,n){var i,s,a,o,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,n=t.o,t=t.h),o=(l=r*e)*(1-U((t=(t*=360)%360/60)%2-1)),i=s=a=r-l,xt(i+=[l,o,0,0,o,l][t=~~t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],n)},e.hsl2rgb=function(t,e,r,n){var i,s,a,o,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100),o=(l=2*e*(r<.5?r:1-r))*(1-U((t=(t*=360)%360/60)%2-1)),i=s=a=r-l/2,xt(i+=[l,o,0,0,o,l][t=~~t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],n)},e.rgb2hsb=function(t,e,r){var n,i;return r=bt(t,e,r),{h:((0==(i=(n=O(t=r[0],e=r[1],r=r[2]))-B(t,e,r))?null:n==t?(e-r)/i:n==e?(r-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/n,b:n,toString:_t}},e.rgb2hsl=function(t,e,r){var n,i,s,a;return r=bt(t,e,r),n=((i=O(t=r[0],e=r[1],r=r[2]))+(s=B(t,e,r)))/2,{h:((0==(a=i-s)?null:i==t?(e-r)/a:i==e?(r-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:n<.5?a/(2*n):a/(2-2*n),l:n,toString:vt}},e._path2string=function(){return this.join(",").replace(nt,"$1")},e._preload=function(t,e){var r=w.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,w.doc.body.removeChild(this)},r.onerror=function(){w.doc.body.removeChild(this)},w.doc.body.appendChild(r),r.src=t},e.getRGB=i((function(t){if(!t||(t=L(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:s};!rt[A](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=mt(t));var r,n,i,a,o,l,h=t.match(q);return h?(h[2]&&(i=K(h[2].substring(5),16),n=K(h[2].substring(3,5),16),r=K(h[2].substring(1,3),16)),h[3]&&(i=K((o=h[3].charAt(3))+o,16),n=K((o=h[3].charAt(2))+o,16),r=K((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][E](et),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=Q(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),h[5]?(l=h[5][E](et),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=Q(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(r/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),e.hsb2rgb(r,n,i,a)):h[6]?(l=h[6][E](et),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),n=Q(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),i=Q(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(r/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(a=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),e.hsl2rgb(r,n,i,a)):((h={r:r,g:n,b:i,toString:s}).hex="#"+(16777216|i|n<<8|r<<16).toString(16).slice(1),e.is(a,"finite")&&(h.opacity=a),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}}),e),e.hsb=i((function(t,r,n){return e.hsb2rgb(t,r,n).hex})),e.hsl=i((function(t,r,n){return e.hsl2rgb(t,r,n).hex})),e.rgb=i((function(t,e,r){function n(t){return t+.5|0}return"#"+(16777216|n(r)|n(e)<<8|n(t)<<16).toString(16).slice(1)})),(e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex}).reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var r=At(t);if(r.arr)return St(r.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return e.is(t,V)&&e.is(t[0],V)&&(i=St(t)),i.length||L(t).replace(it,(function(t,e,r){var s=[],a=e.toLowerCase();if(r.replace(at,(function(t,e){e&&s.push(+e)})),"m"==a&&s.length>2&&(i.push([e][P](s.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)i.push([e][P](s));else for(;s.length>=n[a]&&(i.push([e][P](s.splice(0,n[a]))),n[a]););})),i.toString=e._path2string,r.arr=St(i),i},e.parseTransformString=i((function(t){if(!t)return null;var r=[];return e.is(t,V)&&e.is(t[0],V)&&(r=St(t)),r.length||L(t).replace(st,(function(t,e,n){var i=[];F.call(e),n.replace(at,(function(t,e){e&&i.push(+e)})),r.push([e][P](i))})),r.toString=e._path2string,r}));var At=function(t){var e=At.ps=At.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var r in e)e[A](r)&&r!=t&&(e[r].sleep--,!e[r].sleep&&delete e[r])})),e[t]};e.findDotsAtSegment=function(t,e,r,n,i,s,a,o,l){var h=1-l,c=j(h,3),u=j(h,2),d=l*l,p=d*l,f=c*t+3*u*l*r+3*h*l*l*i+p*a,g=c*e+3*u*l*n+3*h*l*l*s+p*o,m=t+2*l*(r-t)+d*(i-2*r+t),_=e+2*l*(n-e)+d*(s-2*n+e),v=r+2*l*(i-r)+d*(a-2*i+r),y=n+2*l*(s-n)+d*(o-2*s+n),b=h*t+l*r,x=h*e+l*n,A=h*i+l*a,w=h*s+l*o,S=90-180*N.atan2(m-v,_-y)/W;return(m>v||_<y)&&(S+=180),{x:f,y:g,m:{x:m,y:_},n:{x:v,y:y},start:{x:b,y:x},end:{x:A,y:w},alpha:S}},e.bezierBBox=function(t,r,n,i,s,a,o,l){e.is(t,"array")||(t=[t,r,n,i,s,a,o,l]);var h=Lt.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,r){return e>=t.x&&e<=t.x2&&r>=t.y&&r<=t.y2},e.isBBoxIntersect=function(t,r){var n=e.isPointInsideBBox;return n(r,t.x,t.y)||n(r,t.x2,t.y)||n(r,t.x,t.y2)||n(r,t.x2,t.y2)||n(t,r.x,r.y)||n(t,r.x2,r.y)||n(t,r.x,r.y2)||n(t,r.x2,r.y2)||(t.x<r.x2&&t.x>r.x||r.x<t.x2&&r.x>t.x)&&(t.y<r.y2&&t.y>r.y||r.y<t.y2&&r.y>t.y)},e.pathIntersection=function(t,e){return u(t,e)},e.pathIntersectionNumber=function(t,e){return u(t,e,1)},e.isPointInsidePath=function(t,r,n){var i=e.pathBBox(t);return e.isPointInsideBBox(i,r,n)&&u(t,[["M",r,n],["H",i.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+e+"\u201d of removed object",e)}};var wt=e.pathBBox=function(t){var e=At(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,s=0,a=[],o=[],l=0,h=(t=Et(t)).length;l<h;l++)if("M"==(n=t[l])[0])s=n[2],a.push(i=n[1]),o.push(s);else{var c=Lt(i,s,n[1],n[2],n[3],n[4],n[5],n[6]);a=a[P](c.min.x,c.max.x),o=o[P](c.min.y,c.max.y),i=n[5],s=n[6]}var u=B[k](0,a),d=B[k](0,o),p=O[k](0,a),f=O[k](0,o),g=p-u,m=f-d,_={x:u,y:d,x2:p,y2:f,width:g,height:m,cx:u+g/2,cy:d+m/2};return e.bbox=r(_),_},St=function(t){var n=r(t);return n.toString=e._path2string,n},Ct=e._pathToRelative=function(t){var r=At(t);if(r.rel)return St(r.rel);e.is(t,V)&&e.is(t&&t[0],V)||(t=e.parsePathString(t));var n=[],i=0,s=0,a=0,o=0,l=0;"M"==t[0][0]&&(a=i=t[0][1],o=s=t[0][2],l++,n.push(["M",i,s]));for(var h=l,c=t.length;h<c;h++){var u=n[h]=[],d=t[h];if(d[0]!=F.call(d[0]))switch(u[0]=F.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-i).toFixed(3),u[7]=+(d[7]-s).toFixed(3);break;case"v":u[1]=+(d[1]-s).toFixed(3);break;case"m":a=d[1],o=d[2];default:for(var p=1,f=d.length;p<f;p++)u[p]=+(d[p]-(p%2?i:s)).toFixed(3)}else{u=n[h]=[],"m"==d[0]&&(a=d[1]+i,o=d[2]+s);for(var g=0,m=d.length;g<m;g++)n[h][g]=d[g]}var _=n[h].length;switch(n[h][0]){case"z":i=a,s=o;break;case"h":i+=+n[h][_-1];break;case"v":s+=+n[h][_-1];break;default:i+=+n[h][_-2],s+=+n[h][_-1]}}return n.toString=e._path2string,r.rel=St(n),n},kt=e._pathToAbsolute=function(t){var r=At(t);if(r.abs)return St(r.abs);if(e.is(t,V)&&e.is(t&&t[0],V)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],i=0,s=0,o=0,l=0,h=0;"M"==t[0][0]&&(o=i=+t[0][1],l=s=+t[0][2],h++,n[0]=["M",i,s]);for(var c,u,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,f=t.length;p<f;p++){if(n.push(c=[]),(u=t[p])[0]!=Z.call(u[0]))switch(c[0]=Z.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+i),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+i;break;case"R":for(var g=[i,s][P](u.slice(1)),m=2,_=g.length;m<_;m++)g[m]=+g[m]+i,g[++m]=+g[m]+s;n.pop(),n=n[P](a(g,d));break;case"M":o=+u[1]+i,l=+u[2]+s;default:for(m=1,_=u.length;m<_;m++)c[m]=+u[m]+(m%2?i:s)}else if("R"==u[0])g=[i,s][P](u.slice(1)),n.pop(),n=n[P](a(g,d)),c=["R"][P](u.slice(-2));else for(var v=0,y=u.length;v<y;v++)c[v]=u[v];switch(c[0]){case"Z":i=o,s=l;break;case"H":i=c[1];break;case"V":s=c[1];break;case"M":o=c[c.length-2],l=c[c.length-1];default:i=c[c.length-2],s=c[c.length-1]}}return n.toString=e._path2string,r.abs=St(n),n},Pt=function(t,e,r,n){return[t,e,r,n,r,n]},Tt=function(t,e,r,n,i,s){var a=1/3,o=2/3;return[a*t+o*r,a*e+o*n,a*i+o*r,a*s+o*n,i,s]},Rt=function(t,e,r,n,s,a,o,l,h,c){var u,d=120*W/180,p=W/180*(+s||0),f=[],g=i((function(t,e,r){return{x:t*N.cos(r)-e*N.sin(r),y:t*N.sin(r)+e*N.cos(r)}}));if(c)S=c[0],C=c[1],A=c[2],w=c[3];else{t=(u=g(t,e,-p)).x,e=u.y,l=(u=g(l,h,-p)).x,h=u.y,N.cos(W/180*s),N.sin(W/180*s);var m=(t-l)/2,_=(e-h)/2,v=m*m/(r*r)+_*_/(n*n);v>1&&(r*=v=N.sqrt(v),n*=v);var y=r*r,b=n*n,x=(a==o?-1:1)*N.sqrt(U((y*b-y*_*_-b*m*m)/(y*_*_+b*m*m))),A=x*r*_/n+(t+l)/2,w=x*-n*m/r+(e+h)/2,S=N.asin(((e-w)/n).toFixed(9)),C=N.asin(((h-w)/n).toFixed(9));(S=t<A?W-S:S)<0&&(S=2*W+S),(C=l<A?W-C:C)<0&&(C=2*W+C),o&&S>C&&(S-=2*W),!o&&C>S&&(C-=2*W)}var k=C-S;if(U(k)>d){var T=C,R=l,M=h;l=A+r*N.cos(C=S+d*(o&&C>S?1:-1)),h=w+n*N.sin(C),f=Rt(l,h,r,n,s,0,o,R,M,[C,T,A,w])}k=C-S;var L=N.cos(S),D=N.sin(S),I=N.cos(C),F=N.sin(C),O=N.tan(k/4),B=4/3*r*O,j=4/3*n*O,H=[t,e],Y=[t+B*D,e-j*L],V=[l+B*F,h-j*I],G=[l,h];if(Y[0]=2*H[0]-Y[0],Y[1]=2*H[1]-Y[1],c)return[Y,V,G][P](f);for(var q=[],z=0,X=(f=[Y,V,G][P](f).join()[E](",")).length;z<X;z++)q[z]=z%2?g(f[z-1],f[z],p).y:g(f[z],f[z+1],p).x;return q},Mt=function(t,e,r,n,i,s,a,o,l){var h=1-l;return{x:j(h,3)*t+3*j(h,2)*l*r+3*h*l*l*i+j(l,3)*a,y:j(h,3)*e+3*j(h,2)*l*n+3*h*l*l*s+j(l,3)*o}},Lt=i((function(t,e,r,n,i,s,a,o){var l,h=i-2*r+t-(a-2*i+r),c=2*(r-t)-2*(i-r),u=t-r,d=(-c+N.sqrt(c*c-4*h*u))/2/h,p=(-c-N.sqrt(c*c-4*h*u))/2/h,f=[e,o],g=[t,a];return U(d)>"1e12"&&(d=.5),U(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=Mt(t,e,r,n,i,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&p<1&&(l=Mt(t,e,r,n,i,s,a,o,p),g.push(l.x),f.push(l.y)),d=(-(c=2*(n-e)-2*(s-n))+N.sqrt(c*c-4*(h=s-2*n+e-(o-2*s+n))*(u=e-n)))/2/h,p=(-c-N.sqrt(c*c-4*h*u))/2/h,U(d)>"1e12"&&(d=.5),U(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=Mt(t,e,r,n,i,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&p<1&&(l=Mt(t,e,r,n,i,s,a,o,p),g.push(l.x),f.push(l.y)),{min:{x:B[k](0,g),y:B[k](0,f)},max:{x:O[k](0,g),y:O[k](0,f)}}})),Et=e._path2curve=i((function(t,e){var r=!e&&At(t);if(!e&&r.curve)return St(r.curve);for(var n=kt(t),i=e&&kt(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(t,e,r){var n,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][P](Rt[k](0,[e.x,e.y][P](t.slice(1))));break;case"S":"C"==r||"S"==r?(n=2*e.x-e.bx,i=2*e.y-e.by):(n=e.x,i=e.y),t=["C",n,i][P](t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][P](Tt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][P](Tt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][P](Pt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][P](Pt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][P](Pt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][P](Pt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)c[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"][P](r.splice(0,6)));t.splice(e,1),g=O(n.length,i&&i.length||0)}},h=function(t,e,r,s,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),r.bx=0,r.by=0,r.x=t[a][1],r.y=t[a][2],g=O(n.length,i&&i.length||0))},c=[],u=[],d="",p="",f=0,g=O(n.length,i&&i.length||0);f<g;f++){n[f]&&(d=n[f][0]),"C"!=d&&(c[f]=d,f&&(p=c[f-1])),n[f]=o(n[f],s,p),"A"!=c[f]&&"C"==d&&(c[f]="C"),l(n,f),i&&(i[f]&&(d=i[f][0]),"C"!=d&&(u[f]=d,f&&(p=u[f-1])),i[f]=o(i[f],a,p),"A"!=u[f]&&"C"==d&&(u[f]="C"),l(i,f)),h(n,i,s,a,f),h(i,n,a,s,f);var m=n[f],_=i&&i[f],v=m.length,y=i&&_.length;s.x=m[v-2],s.y=m[v-1],s.bx=Q(m[v-4])||s.x,s.by=Q(m[v-3])||s.y,a.bx=i&&(Q(_[y-4])||a.x),a.by=i&&(Q(_[y-3])||a.y),a.x=i&&_[y-2],a.y=i&&_[y-1]}return i||(r.curve=St(n)),i?[n,i]:n}),null,St),Dt=(e._parseDots=i((function(t){for(var r=[],n=0,i=t.length;n<i;n++){var s={},a=t[n].match(/^([^:]*):?([\d\.]*)/);if(s.color=e.getRGB(a[1]),s.color.error)return null;s.opacity=s.color.opacity,s.color=s.color.hex,a[2]&&(s.offset=a[2]+"%"),r.push(s)}for(n=1,i=r.length-1;n<i;n++)if(!r[n].offset){for(var o=Q(r[n-1].offset||0),l=0,h=n+1;h<i;h++)if(r[h].offset){l=r[h].offset;break}l||(l=100,h=i);for(var c=((l=Q(l))-o)/(h-n+1);n<h;n++)r[n].offset=(o+=c)+"%"}return r})),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),It=(e._tofront=function(t,e){e.top!==t&&(Dt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Dt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,r){Dt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,r){Dt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var r=wt(t),n={_:{transform:R},getBBox:function(){return r}};return Ft(n,e),n.matrix}),Ft=(e.transformPath=function(t,e){return pt(t,It(t,e))},e._extractTransform=function(t,r){if(null==r)return t._.transform;r=L(r).replace(/\.{3}|\u2026/g,t._.transform||R);var n,i,s=e.parseTransformString(r),a=0,o=1,l=1,h=t._,c=new d;if(h.transform=s||[],s)for(var u=0,p=s.length;u<p;u++){var f,g,m,_,v,y=s[u],b=y.length,x=L(y[0]).toLowerCase(),A=y[0]!=x,w=A?c.invert():0;"t"==x&&3==b?A?(f=w.x(0,0),g=w.y(0,0),m=w.x(y[1],y[2]),_=w.y(y[1],y[2]),c.translate(m-f,_-g)):c.translate(y[1],y[2]):"r"==x?2==b?(v=v||t.getBBox(1),c.rotate(y[1],v.x+v.width/2,v.y+v.height/2),a+=y[1]):4==b&&(A?(m=w.x(y[2],y[3]),_=w.y(y[2],y[3]),c.rotate(y[1],m,_)):c.rotate(y[1],y[2],y[3]),a+=y[1]):"s"==x?2==b||3==b?(v=v||t.getBBox(1),c.scale(y[1],y[b-1],v.x+v.width/2,v.y+v.height/2),o*=y[1],l*=y[b-1]):5==b&&(A?(m=w.x(y[3],y[4]),_=w.y(y[3],y[4]),c.scale(y[1],y[2],m,_)):c.scale(y[1],y[2],y[3],y[4]),o*=y[1],l*=y[2]):"m"==x&&7==b&&c.add(y[1],y[2],y[3],y[4],y[5],y[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=o,h.sy=l,h.deg=a,h.dx=n=c.e,h.dy=i=c.f,1==o&&1==l&&!a&&h.bbox?(h.bbox.x+=+n,h.bbox.y+=+i):h.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ot=e._equaliseTransform=function(t,r){r=L(r).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],r=e.parseTransformString(r)||[];for(var n,i,s,a,o=O(t.length,r.length),l=[],h=[],c=0;c<o;c++){if(s=t[c]||Nt(r[c]),a=r[c]||Nt(s),s[0]!=a[0]||"r"==s[0].toLowerCase()&&(s[2]!=a[2]||s[3]!=a[3])||"s"==s[0].toLowerCase()&&(s[3]!=a[3]||s[4]!=a[4]))return;for(l[c]=[],h[c]=[],n=0,i=O(s.length,a.length);n<i;n++)n in s&&(l[c][n]=s[n]),n in a&&(h[c][n]=a[n])}return{from:l,to:h}};e._getContainer=function(t,r,n,i){var s;if(null!=(s=null!=i||e.is(t,"object")?t:w.doc.getElementById(t)))return s.tagName?null==r?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:r,height:n}:{container:1,x:t,y:r,width:n,height:i}},e.pathToRelative=Ct,e._engine={},e.path2curve=Et,e.matrix=function(t,e,r,n,i,s){return new d(t,e,r,n,i,s)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var e=N.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,r,n,i,s){var a,o,l,h,c=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,r,i],[e,n,s],[0,0,1]];for(t&&t instanceof d&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(o=0;o<3;o++){for(h=0,l=0;l<3;l++)h+=u[a][l]*p[l][o];c[a][o]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,r,n){null==e&&(e=t),(r||n)&&this.add(1,0,0,1,r,n),this.add(t,0,0,e,0,0),(r||n)&&this.add(1,0,0,1,-r,-n)},t.rotate=function(t,r,n){t=e.rad(t),r=r||0,n=n||0;var i=+N.cos(t).toFixed(9),s=+N.sin(t).toFixed(9);this.add(i,s,-s,i,r,n),this.add(1,0,0,1,-r,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[L.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=N.sqrt(r(i[0])),n(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=N.sqrt(r(i[1])),n(i[1]),t.shear/=t.scaley;var s=-i[0][1],a=i[1][1];return a<0?(t.rotate=e.deg(N.acos(a)),s<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(N.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[E]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:R)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:R)+(e.rotate?"r"+[e.rotate,0,0]:R)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);for(var Bt=function(){this.returnValue=!1},Ut=function(){return this.originalEvent.preventDefault()},jt=function(){this.cancelBubble=!0},Wt=function(){return this.originalEvent.stopPropagation()},Ht=function(t){return{x:t.clientX+(w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft),y:t.clientY+(w.doc.documentElement.scrollTop||w.doc.body.scrollTop)}},Yt=w.doc.addEventListener?function(t,e,r,n){var i=function(t){var e=Ht(t);return r.call(n,t,e.x,e.y)};if(t.addEventListener(e,i,!1),T&&I[e]){var s=function(e){for(var i=Ht(e),s=e,a=0,o=e.targetTouches&&e.targetTouches.length;a<o;a++)if(e.targetTouches[a].target==t){(e=e.targetTouches[a]).originalEvent=s,e.preventDefault=Ut,e.stopPropagation=Wt;break}return r.call(n,e,i.x,i.y)};t.addEventListener(I[e],s,!1)}return function(){return t.removeEventListener(e,i,!1),T&&I[e]&&t.removeEventListener(I[e],s,!1),!0}}:w.doc.attachEvent?function(t,e,r,n){var i=function(t){var e=(t=t||w.win.event).clientX+(w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft),i=t.clientY+(w.doc.documentElement.scrollTop||w.doc.body.scrollTop);return t.preventDefault=t.preventDefault||Bt,t.stopPropagation=t.stopPropagation||jt,r.call(n,t,e,i)};return t.attachEvent("on"+e,i),function(){return t.detachEvent("on"+e,i),!0}}:void 0,Vt=[],Gt=function(e){for(var r,n=e.clientX,i=e.clientY,s=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,a=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft,o=Vt.length;o--;){if(r=Vt[o],T&&e.touches){for(var l,h=e.touches.length;h--;)if((l=e.touches[h]).identifier==r.el._drag.id){n=l.clientX,i=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,u=r.el.node,d=u.nextSibling,p=u.parentNode,f=u.style.display;w.win.opera&&p.removeChild(u),u.style.display="none",c=r.el.paper.getElementByPoint(n,i),u.style.display=f,w.win.opera&&(d?p.insertBefore(u,d):p.appendChild(u)),c&&t("raphael.drag.over."+r.el.id,r.el,c),t("raphael.drag.move."+r.el.id,r.move_scope||r.el,(n+=a)-r.el._drag.x,(i+=s)-r.el._drag.y,n,i,e)}},qt=function(r){e.unmousemove(Gt).unmouseup(qt);for(var n,i=Vt.length;i--;)(n=Vt[i]).el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,r);Vt=[]},zt=e.el={},Xt=D.length;Xt--;)!function(t){e[t]=zt[t]=function(r,n){return e.is(r,"function")&&(this.events=this.events||[],this.events.push({name:t,f:r,unbind:Yt(this.shape||this.node||w.doc,t,r,n||this)})),this},e["un"+t]=zt["un"+t]=function(r){for(var n=this.events||[],i=n.length;i--;)n[i].name!=t||!e.is(r,"undefined")&&n[i].f!=r||(n[i].unbind(),n.splice(i,1),!n.length&&delete this.events);return this}}(D[Xt]);zt.data=function(r,n){var i=ot[this.id]=ot[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(e.is(r,"object")){for(var s in r)r[A](s)&&this.data(s,r[s]);return this}return t("raphael.data.get."+this.id,this,i[r],r),i[r]}return i[r]=n,t("raphael.data.set."+this.id,this,n,r),this},zt.removeData=function(t){return null==t?ot[this.id]={}:ot[this.id]&&delete ot[this.id][t],this},zt.getData=function(){return r(ot[this.id]||{})},zt.hover=function(t,e,r,n){return this.mouseover(t,r).mouseout(e,n||r)},zt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var $t=[];zt.drag=function(r,n,i,s,a,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,u=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,d=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft;if(this._drag.id=l.identifier,T&&l.touches)for(var p,f=l.touches.length;f--;)if(this._drag.id=(p=l.touches[f]).identifier,p.identifier==this._drag.id){h=p.clientX,c=p.clientY;break}this._drag.x=h+d,this._drag.y=c+u,!Vt.length&&e.mousemove(Gt).mouseup(qt),Vt.push({el:this,move_scope:s,start_scope:a,end_scope:o}),n&&t.on("raphael.drag.start."+this.id,n),r&&t.on("raphael.drag.move."+this.id,r),i&&t.on("raphael.drag.end."+this.id,i),t("raphael.drag.start."+this.id,a||s||this,l.clientX+d,l.clientY+u,l)}return this._drag={},$t.push({el:this,start:l}),this.mousedown(l),this},zt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},zt.undrag=function(){for(var r=$t.length;r--;)$t[r].el==this&&(this.unmousedown($t[r].start),$t.splice(r,1),t.unbind("raphael.drag.*."+this.id));!$t.length&&e.unmousemove(Gt).unmouseup(qt),Vt=[]},v.circle=function(t,r,n){var i=e._engine.circle(this,t||0,r||0,n||0);return this.__set__&&this.__set__.push(i),i},v.rect=function(t,r,n,i,s){var a=e._engine.rect(this,t||0,r||0,n||0,i||0,s||0);return this.__set__&&this.__set__.push(a),a},v.ellipse=function(t,r,n,i){var s=e._engine.ellipse(this,t||0,r||0,n||0,i||0);return this.__set__&&this.__set__.push(s),s},v.path=function(t){t&&!e.is(t,Y)&&!e.is(t[0],V)&&(t+=R);var r=e._engine.path(e.format[k](e,arguments),this);return this.__set__&&this.__set__.push(r),r},v.image=function(t,r,n,i,s){var a=e._engine.image(this,t||"about:blank",r||0,n||0,i||0,s||0);return this.__set__&&this.__set__.push(a),a},v.text=function(t,r,n){var i=e._engine.text(this,t||0,r||0,L(n));return this.__set__&&this.__set__.push(i),i},v.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var r=new ae(t);return this.__set__&&this.__set__.push(r),r.paper=this,r.type="set",r},v.setStart=function(t){this.__set__=t||this.set()},v.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},v.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},v.setSize=function(t,r){return e._engine.setSize.call(this,t,r)},v.setViewBox=function(t,r,n,i,s){return e._engine.setViewBox.call(this,t,r,n,i,s)},v.top=v.bottom=null,v.raphael=e,v.getElementByPoint=function(t,e){var r=this,n=r.canvas,i=w.doc.elementFromPoint(t,e);if(w.win.opera&&"svg"==i.tagName){var s=function(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,n=r.body,i=r.documentElement;return{y:e.top+(w.win.pageYOffset||i.scrollTop||n.scrollTop)-(i.clientTop||n.clientTop||0),x:e.left+(w.win.pageXOffset||i.scrollLeft||n.scrollLeft)-(i.clientLeft||n.clientLeft||0)}}(n),a=n.createSVGRect();a.x=t-s.x,a.y=e-s.y,a.width=a.height=1;var o=n.getIntersectionList(a,null);o.length&&(i=o[o.length-1])}if(!i)return null;for(;i.parentNode&&i!=n.parentNode&&!i.raphael;)i=i.parentNode;return i==r.canvas.parentNode&&(i=n),i&&i.raphael?r.getById(i.raphaelid):null},v.getElementsByBBox=function(t){var r=this.set();return this.forEach((function(n){e.isBBoxIntersect(n.getBBox(),t)&&r.push(n)})),r},v.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},v.forEach=function(t,e){for(var r=this.bottom;r;){if(!1===t.call(e,r))return this;r=r.next}return this},v.getElementsByPoint=function(t,e){var r=this.set();return this.forEach((function(n){n.isPointInside(t,e)&&r.push(n)})),r},zt.isPointInside=function(t,r){var n=this.realPath=dt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=e.transformPath(n,this.attr("transform"))),e.isPointInsidePath(n,t,r)},zt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=dt[this.type](this),e.bboxwt=wt(this.realPath),e.bboxwt.toString=p,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=dt[this.type](this)),e.bbox=wt(pt(this.realPath,this.matrix)),e.bbox.toString=p,e.dirty=e.dirtyT=0),e.bbox)},zt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},zt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},r=e.width/2,n=this.paper,i=n.set(),s=this.realPath||dt[this.type](this);s=this.matrix?pt(s,this.matrix):s;for(var a=1;a<r+1;a++)i.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*a).toFixed(3),opacity:+(e.opacity/r).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Qt=function(t,r,n,i,s,a,o,h,c){return null==c?l(t,r,n,i,s,a,o,h):e.findDotsAtSegment(t,r,n,i,s,a,o,h,function(t,e,r,n,i,s,a,o,h){if(!(h<0||l(t,e,r,n,i,s,a,o)<h)){var c,u=.5,d=1-u;for(c=l(t,e,r,n,i,s,a,o,d);U(c-h)>.01;)c=l(t,e,r,n,i,s,a,o,d+=(c<h?1:-1)*(u/=2));return d}}(t,r,n,i,s,a,o,h,c))},Kt=function(t,r){return function(n,i,s){for(var a,o,l,h,c,u="",d={},p=0,f=0,g=(n=Et(n)).length;f<g;f++){if("M"==(l=n[f])[0])a=+l[1],o=+l[2];else{if(p+(h=Qt(a,o,l[1],l[2],l[3],l[4],l[5],l[6]))>i){if(r&&!d.start){if(u+=["C"+(c=Qt(a,o,l[1],l[2],l[3],l[4],l[5],l[6],i-p)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],s)return u;d.start=u,u=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=h,a=+l[5],o=+l[6];continue}if(!t&&!r)return{x:(c=Qt(a,o,l[1],l[2],l[3],l[4],l[5],l[6],i-p)).x,y:c.y,alpha:c.alpha}}p+=h,a=+l[5],o=+l[6]}u+=l.shift()+l}return d.end=u,(c=t?p:r?d:e.findDotsAtSegment(a,o,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Zt=Kt(1),Jt=Kt(),te=Kt(0,1);e.getTotalLength=Zt,e.getPointAtLength=Jt,e.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return te(t,e).end;var n=te(t,r,1);return e?te(n,e).end:n},zt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Zt(t)},zt.getPointAtLength=function(t){var e=this.getPath();if(e)return Jt(e,t)},zt.getPath=function(){var t,r=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return r&&(t=r(this)),t},zt.getSubpath=function(t,r){var n=this.getPath();if(n)return e.getSubpath(n,t,r)};var ee=e.easing_formulas={linear:function(t){return t},"<":function(t){return j(t,1.7)},">":function(t){return j(t,.48)},"<>":function(t){var e=.48-t/1.04,r=N.sqrt(.1734+e*e),n=r-e,i=-r-e,s=j(U(n),1/3)*(n<0?-1:1)+j(U(i),1/3)*(i<0?-1:1)+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:j(2,-10*t)*N.sin(2*W*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,r=2.75;return t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375}};ee.easeIn=ee["ease-in"]=ee["<"],ee.easeOut=ee["ease-out"]=ee[">"],ee.easeInOut=ee["ease-in-out"]=ee["<>"],ee["back-in"]=ee.backIn,ee["back-out"]=ee.backOut;var re=[],ne=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ie=function(){for(var r=+new Date,n=0;n<re.length;n++){var i=re[n];if(!i.el.removed&&!i.paused){var s,a,o=r-i.start,l=i.ms,h=i.easing,c=i.from,u=i.diff,d=i.to,p=i.el,f={},m={};if(i.initstatus?(o=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*l,i.status=i.initstatus,delete i.initstatus,i.stop&&re.splice(n--,1)):i.status=(i.prev+o/l*(i.percent-i.prev))/i.anim.top,!(o<0))if(o<l){var _=h(o/l);for(var v in c)if(c[A](v)){switch(tt[v]){case H:s=+c[v]+_*l*u[v];break;case"colour":s="rgb("+[se($(c[v].r+_*l*u[v].r)),se($(c[v].g+_*l*u[v].g)),se($(c[v].b+_*l*u[v].b))].join(",")+")";break;case"path":s=[];for(var y=0,b=c[v].length;y<b;y++){s[y]=[c[v][y][0]];for(var x=1,w=c[v][y].length;x<w;x++)s[y][x]=+c[v][y][x]+_*l*u[v][y][x];s[y]=s[y].join(M)}s=s.join(M);break;case"transform":if(u[v].real)for(s=[],y=0,b=c[v].length;y<b;y++)for(s[y]=[c[v][y][0]],x=1,w=c[v][y].length;x<w;x++)s[y][x]=c[v][y][x]+_*l*u[v][y][x];else{var S=function(t){return+c[v][t]+_*l*u[v][t]};s=[["m",S(0),S(1),S(2),S(3),S(4),S(5)]]}break;case"csv":if("clip-rect"==v)for(s=[],y=4;y--;)s[y]=+c[v][y]+_*l*u[v][y];break;default:var C=[][P](c[v]);for(s=[],y=p.paper.customAttributes[v].length;y--;)s[y]=+C[y]+_*l*u[v][y]}f[v]=s}p.attr(f),function(e,r,n){setTimeout((function(){t("raphael.anim.frame."+e,r,n)}))}(p.id,p,i.anim)}else{if(function(r,n,i){setTimeout((function(){t("raphael.anim.frame."+n.id,n,i),t("raphael.anim.finish."+n.id,n,i),e.is(r,"function")&&r.call(n)}))}(i.callback,p,i.anim),p.attr(d),re.splice(n--,1),i.repeat>1&&!i.next){for(a in d)d[A](a)&&(m[a]=i.totalOrigin[a]);i.el.attr(m),g(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&g(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}re.length&&ne(ie)},se=function(t){return t>255?255:t<0?0:t};zt.animateWith=function(t,r,n,i,s,a){var o=this;if(o.removed)return a&&a.call(o),o;var l=n instanceof f?n:e.animation(n,i,s,a);g(l,o,l.percents[0],null,o.attr());for(var h=0,c=re.length;h<c;h++)if(re[h].anim==r&&re[h].el==t){re[c-1].start=re[h].start;break}return o},zt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},f.prototype.delay=function(t){var e=new f(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},f.prototype.repeat=function(t){var e=new f(this.anim,this.ms);return e.del=this.del,e.times=N.floor(O(t,0))||1,e},e.animation=function(t,r,n,i){if(t instanceof f)return t;!e.is(n,"function")&&n||(i=i||n||null,n=null),t=Object(t),r=+r||0;var s,a,o={};for(a in t)t[A](a)&&Q(a)!=a&&Q(a)+"%"!=a&&(s=!0,o[a]=t[a]);if(s)return n&&(o.easing=n),i&&(o.callback=i),new f({100:o},r);if(i){var l=0;for(var h in t){var c=K(h);t[A](h)&&c>l&&(l=c)}!t[l+="%"].callback&&(t[l].callback=i)}return new f(t,r)},zt.animate=function(t,r,n,i){var s=this;if(s.removed)return i&&i.call(s),s;var a=t instanceof f?t:e.animation(t,r,n,i);return g(a,s,a.percents[0],null,s.attr()),s},zt.setTime=function(t,e){return t&&null!=e&&this.status(t,B(e,t.ms)/t.ms),this},zt.status=function(t,e){var r,n,i=[],s=0;if(null!=e)return g(t,this,-1,B(e,1)),this;for(r=re.length;s<r;s++)if((n=re[s]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;i.push({anim:n.anim,status:n.status})}return t?0:i},zt.pause=function(e){for(var r=0;r<re.length;r++)re[r].el.id!=this.id||e&&re[r].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,re[r].anim)&&(re[r].paused=!0);return this},zt.resume=function(e){for(var r=0;r<re.length;r++)if(re[r].el.id==this.id&&(!e||re[r].anim==e)){var n=re[r];!1!==t("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},zt.stop=function(e){for(var r=0;r<re.length;r++)re[r].el.id!=this.id||e&&re[r].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,re[r].anim)&&re.splice(r--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),zt.toString=function(){return"Rapha\xebl\u2019s object"};var ae=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;e<r;e++)!t[e]||t[e].constructor!=zt.constructor&&t[e].constructor!=ae||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},oe=ae.prototype;for(var le in oe.push=function(){for(var t,e,r=0,n=arguments.length;r<n;r++)!(t=arguments[r])||t.constructor!=zt.constructor&&t.constructor!=ae||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},oe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},oe.forEach=function(t,e){for(var r=0,n=this.items.length;r<n;r++)if(!1===t.call(e,this.items[r],r))return this;return this},zt)zt[A](le)&&(oe[le]=function(t){return function(){var e=arguments;return this.forEach((function(r){r[t][k](r,e)}))}}(le));return oe.attr=function(t,r){if(t&&e.is(t,V)&&e.is(t[0],"object"))for(var n=0,i=t.length;n<i;n++)this.items[n].attr(t[n]);else for(var s=0,a=this.items.length;s<a;s++)this.items[s].attr(t,r);return this},oe.clear=function(){for(;this.length;)this.pop()},oe.splice=function(t,e,r){t=t<0?O(this.length+t,0):t,e=O(0,B(this.length-t,e));var n,i=[],s=[],a=[];for(n=2;n<arguments.length;n++)a.push(arguments[n]);for(n=0;n<e;n++)s.push(this[t+n]);for(;n<this.length-t;n++)i.push(this[t+n]);var o=a.length;for(n=0;n<o+i.length;n++)this.items[t+n]=this[t+n]=n<o?a[n]:i[n-o];for(n=this.items.length=this.length-=e-o;this[n];)delete this[n++];return new ae(s)},oe.exclude=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return this.splice(e,1),!0},oe.animate=function(t,r,n,i){(e.is(n,"function")||!n)&&(i=n||null);var s,a,o=this.items.length,l=o,h=this;if(!o)return this;i&&(a=function(){!--o&&i.call(h)}),n=e.is(n,Y)?n:a;var c=e.animation(t,r,n,a);for(s=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,c,c),this.items[l]&&!this.items[l].removed||o--;return this},oe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},oe.getBBox=function(){for(var t=[],e=[],r=[],n=[],i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();t.push(s.x),e.push(s.y),r.push(s.x+s.width),n.push(s.y+s.height)}return{x:t=B[k](0,t),y:e=B[k](0,e),x2:r=O[k](0,r),y2:n=O[k](0,n),width:r-t,height:n-e}},oe.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;e<r;e++)t.push(this.items[e].clone());return t},oe.toString=function(){return"Rapha\xebl\u2018s set"},oe.glow=function(t){var e=this.paper.set();return this.forEach((function(r,n){var i=r.glow(t);null!=i&&i.forEach((function(t,r){e.push(t)}))})),e},oe.isPointInside=function(t,e){var r=!1;return this.forEach((function(n){if(n.isPointInside(t,e))return r=!0,!1})),r},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var n in t.face)t.face[A](n)&&(e.face[n]=t.face[n]);if(this.fonts[r]?this.fonts[r].push(e):this.fonts[r]=[e],!t.svg)for(var i in e.face["units-per-em"]=K(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[A](i)){var s=t.glyphs[i];if(e.glyphs[i]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},s.k)for(var a in s.k)s[A](a)&&(e.glyphs[i].k[a]=s.k[a])}return t},v.getFont=function(t,r,n,i){if(i=i||"normal",n=n||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,e.fonts){var s,a=e.fonts[t];if(!a){var o=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,R)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[A](l)&&o.test(l)){a=e.fonts[l];break}}if(a)for(var h=0,c=a.length;h<c&&((s=a[h]).face["font-weight"]!=r||s.face["font-style"]!=n&&s.face["font-style"]||s.face["font-stretch"]!=i);h++);return s}},v.print=function(t,r,n,i,s,a,o,l){a=a||"middle",o=O(B(o||0,1),-1),l=O(B(l||1,3),1);var h,c=L(n)[E](R),u=0,d=0,p=R;if(e.is(i,"string")&&(i=this.getFont(i)),i){h=(s||16)/i.face["units-per-em"];for(var f=i.face.bbox[E](y),g=+f[0],m=f[3]-f[1],_=0,v=+f[1]+("baseline"==a?m+ +i.face.descent:m/2),b=0,x=c.length;b<x;b++){if("\n"==c[b])u=0,w=0,d=0,_+=m*l;else{var A=d&&i.glyphs[c[b-1]]||{},w=i.glyphs[c[b]];u+=d?(A.w||i.w)+(A.k&&A.k[c[b]]||0)+i.w*o:0,d=1}w&&w.d&&(p+=e.transformPath(w.d,["t",u*h,_*h,"s",h,h,g,v,"t",(t-g)/h,(r-v)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},v.add=function(t){if(e.is(t,"array"))for(var r,n=this.set(),i=0,s=t.length;i<s;i++)b[A]((r=t[i]||{}).type)&&n.push(this[r.type]().attr(r));return n},e.format=function(t,r){var n=e.is(r,V)?[0][P](r):arguments;return t&&e.is(t,Y)&&n.length-1&&(t=t.replace(x,(function(t,e){return null==n[++e]?R:n[e]}))),t||R},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,r,n){var i=n;return r.replace(e,(function(t,e,r,n,s){e=e||n,i&&(e in i&&(i=i[e]),"function"==typeof i&&s&&(i=i()))})),i=(null==i||i==n?t:i)+""};return function(e,n){return String(e).replace(t,(function(t,e){return r(t,e,n)}))}}(),e.ninja=function(){if(S.was)w.win.Raphael=S.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=oe,t.on("raphael.DOMload",(function(){_=!0})),function(t,r,n){null==t.readyState&&t.addEventListener&&(t.addEventListener(r,n=function(){t.removeEventListener(r,n,!1),t.readyState="complete"},!1),t.readyState="loading"),function r(){/in/.test(t.readyState)?setTimeout(r,9):e.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),e}).apply(e,n))||(t.exports=i)},function(t,e,r){var n,i,s,a,o,l,h,c,u,d,p,f,g,m;a="0.5.0",o="hasOwnProperty",l=/[\.\/]/,h=/\s*,\s*/,c=function(t,e){return t-e},u={n:{}},d=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},p=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},f=Object.prototype.toString,g=String,m=Array.isArray||function(t){return t instanceof Array||"[object Array]"==f.call(t)},eve=function(t,e){var r,n=s,a=Array.prototype.slice.call(arguments,2),o=eve.listeners(t),l=0,h=[],u={},f=[],g=i;f.firstDefined=d,f.lastDefined=p,i=t,s=0;for(var m=0,_=o.length;m<_;m++)"zIndex"in o[m]&&(h.push(o[m].zIndex),o[m].zIndex<0&&(u[o[m].zIndex]=o[m]));for(h.sort(c);h[l]<0;)if(r=u[h[l++]],f.push(r.apply(e,a)),s)return s=n,f;for(m=0;m<_;m++)if("zIndex"in(r=o[m]))if(r.zIndex==h[l]){if(f.push(r.apply(e,a)),s)break;do{if((r=u[h[++l]])&&f.push(r.apply(e,a)),s)break}while(r)}else u[r.zIndex]=r;else if(f.push(r.apply(e,a)),s)break;return s=n,i=g,f},eve._events=u,eve.listeners=function(t){var e,r,n,i,s,a,o,h,c=m(t)?t:t.split(l),d=u,p=[d],f=[];for(i=0,s=c.length;i<s;i++){for(h=[],a=0,o=p.length;a<o;a++)for(r=[(d=p[a].n)[c[i]],d["*"]],n=2;n--;)(e=r[n])&&(h.push(e),f=f.concat(e.f||[]));p=h}return f},eve.separator=function(t){t?(t="["+(t=g(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",l=new RegExp(t)):l=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var r=m(t)?m(t[0])?t:[t]:g(t).split(h),n=0,i=r.length;n<i;n++)!function(t){for(var r,n=m(t)?t:g(t).split(l),i=u,s=0,a=n.length;s<a;s++)i=(i=i.n).hasOwnProperty(n[s])&&i[n[s]]||(i[n[s]]={n:{}});for(i.f=i.f||[],s=0,a=i.f.length;s<a;s++)if(i.f[s]==e){r=!0;break}!r&&i.f.push(e)}(r[n]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){s=1},eve.nt=function(t){var e=m(i)?i.join("."):i;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return m(i)?i:i.split(l)},eve.off=eve.unbind=function(t,e){if(t){var r=m(t)?m(t[0])?t:[t]:g(t).split(h);if(r.length>1)for(var n=0,i=r.length;n<i;n++)eve.off(r[n],e);else{r=m(t)?t:g(t).split(l);var s,a,c,d,p,f=[u];for(n=0,i=r.length;n<i;n++)for(d=0;d<f.length;d+=c.length-2){if(c=[d,1],s=f[d].n,"*"!=r[n])s[r[n]]&&c.push(s[r[n]]);else for(a in s)s[o](a)&&c.push(s[a]);f.splice.apply(f,c)}for(n=0,i=f.length;n<i;n++)for(s=f[n];s.n;){if(e){if(s.f){for(d=0,p=s.f.length;d<p;d++)if(s.f[d]==e){s.f.splice(d,1);break}!s.f.length&&delete s.f}for(a in s.n)if(s.n[o](a)&&s.n[a].f){var _=s.n[a].f;for(d=0,p=_.length;d<p;d++)if(_[d]==e){_.splice(d,1);break}!_.length&&delete s.n[a].f}}else for(a in delete s.f,s.n)s.n[o](a)&&s.n[a].f&&delete s.n[a].f;s=s.n}}}else eve._events=u={n:{}}},eve.once=function(t,e){var r=function(){return eve.off(t,r),e.apply(this,arguments)};return eve.on(t,r)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},void 0!==t&&t.exports?t.exports=eve:void 0===(n=(function(){return eve}).apply(e,[]))||(t.exports=n)},function(t,e,r){var n,i;n=[r(1)],void 0===(i=(function(t){if(!t||t.svg){var e="hasOwnProperty",r=String,n=parseFloat,i=parseInt,s=Math,a=s.max,o=s.abs,l=s.pow,h=/[, ]+/,c=t.eve,u="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var m=function(n,i){if(i)for(var s in"string"==typeof n&&(n=m(n)),i)i[e](s)&&("xlink:"==s.substring(0,6)?n.setAttributeNS(p,s.substring(6),r(i[s])):n.setAttribute(s,r(i[s])));else(n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n)).style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},_=function(e,i){var h="linear",c=e.id+i,d=.5,p=.5,f=e.node,g=e.paper,_=f.style,y=t._g.doc.getElementById(c);if(!y){if(i=(i=r(i).replace(t._radial_gradient,(function(t,e,r){if(h="radial",e&&r){d=n(e);var i=2*((p=n(r))>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=s.sqrt(.25-l(d-.5,2))*i+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*i)}return u}))).split(/\s*\-\s*/),"linear"==h){var b=i.shift();if(b=-n(b),isNaN(b))return null;var x=[0,0,s.cos(t.rad(b)),s.sin(t.rad(b))],A=1/(a(o(x[2]),o(x[3]))||1);x[2]*=A,x[3]*=A,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var w=t._parseDots(i);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=m(h+"Gradient",{id:c}),e.gradient=y,m(y,"radial"==h?{fx:d,fy:p}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var S=0,C=w.length;S<C;S++)y.appendChild(m("stop",{offset:w[S].offset?w[S].offset:S?"100%":"0%","stop-color":w[S].color||"#fff","stop-opacity":isFinite(w[S].opacity)?w[S].opacity:1}))}}return m(f,{fill:v(c),opacity:1,"fill-opacity":1}),_.fill=u,_.opacity=1,_.fillOpacity=1,1},v=function(t){if(function(){var t=document.documentMode;return t&&(9===t||10===t)}())return"url('#"+t+"')";var e=document.location;return"url('"+e.protocol+"//"+e.host+e.pathname+e.search+"#"+t+"')"},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,i,s){if("path"==n.type){for(var a,o,l,h,c,d=r(i).toLowerCase().split("-"),p=n.paper,_=s?"end":"start",v=n.node,y=n.attrs,b=y["stroke-width"],x=d.length,A="classic",w=3,S=3,C=5;x--;)switch(d[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":A=d[x];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":w=5;break;case"short":w=2}if("open"==A?(w+=2,S+=2,C+=2,l=1,h=s?4:1,c={fill:"none",stroke:y.stroke}):(h=l=w/2,c={fill:y.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=A){var k="raphael-marker-"+A,P="raphael-marker-"+_+A+w+S+"-obj"+n.id;t._g.doc.getElementById(k)?g[k]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[A],id:k})),g[k]=1);var T,R=t._g.doc.getElementById(P);R?(g[P]++,T=R.getElementsByTagName("use")[0]):(R=m(m("marker"),{id:P,markerHeight:S,markerWidth:w,orient:"auto",refX:h,refY:S/2}),T=m(m("use"),{"xlink:href":"#"+k,transform:(s?"rotate(180 "+w/2+" "+S/2+") ":u)+"scale("+w/C+","+S/C+")","stroke-width":(1/((w/C+S/C)/2)).toFixed(4)}),R.appendChild(T),p.defs.appendChild(R),g[P]=1),m(T,c);var M=l*("diamond"!=A&&"oval"!=A);s?(a=n._.arrows.startdx*b||0,o=t.getTotalLength(y.path)-M*b):(a=M*b,o=t.getTotalLength(y.path)-(n._.arrows.enddx*b||0)),(c={})["marker-"+_]="url(#"+P+")",(o||a)&&(c.d=t.getSubpath(y.path,a,o)),m(v,c),n._.arrows[_+"Path"]=k,n._.arrows[_+"Marker"]=P,n._.arrows[_+"dx"]=M,n._.arrows[_+"Type"]=A,n._.arrows[_+"String"]=i}else s?(a=n._.arrows.startdx*b||0,o=t.getTotalLength(y.path)-a):(a=0,o=t.getTotalLength(y.path)-(n._.arrows.enddx*b||0)),n._.arrows[_+"Path"]&&m(v,{d:t.getSubpath(y.path,a,o)}),delete n._.arrows[_+"Path"],delete n._.arrows[_+"Marker"],delete n._.arrows[_+"dx"],delete n._.arrows[_+"Type"],delete n._.arrows[_+"String"];for(c in g)if(g[e](c)&&!g[c]){var L=t._g.doc.getElementById(c);L&&L.parentNode.removeChild(L)}}},x={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},A=function(t,e,n){if(e=x[r(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",s={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],o=e.length;o--;)a[o]=e[o]*i+(o%2?1:-1)*s;m(t.node,{"stroke-dasharray":a.join(",")})}else m(t.node,{"stroke-dasharray":"none"})},w=function(n,s){var l=n.node,c=n.attrs,d=l.style.visibility;for(var f in l.style.visibility="hidden",s)if(s[e](f)){if(!t._availableAttrs[e](f))continue;var g=s[f];switch(c[f]=g,f){case"blur":n.blur(g);break;case"title":var v=l.getElementsByTagName("title");if(v.length&&(v=v[0]))v.firstChild.nodeValue=g;else{v=m("title");var x=t._g.doc.createTextNode(g);v.appendChild(x),l.appendChild(v)}break;case"href":case"target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var C=m("a");w.insertBefore(C,l),C.appendChild(l),w=C}"target"==f?w.setAttributeNS(p,"show","blank"==g?"new":g):w.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var k=r(g).split(h);if(4==k.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var P=m("clipPath"),T=m("rect");P.id=t.createUUID(),m(T,{x:k[0],y:k[1],width:k[2],height:k[3]}),P.appendChild(T),n.paper.defs.appendChild(P),m(l,{"clip-path":"url(#"+P.id+")"}),n.clip=T}if(!g){var R=l.getAttribute("clip-path");if(R){var M=t._g.doc.getElementById(R.replace(/(^url\(#|\)$)/g,u));M&&M.parentNode.removeChild(M),m(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!c.fx)break;f="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!c.fy)break;f="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==n._.sx&&1==n._.sy||(g/=a(o(n._.sx),o(n._.sy))||1),l.setAttribute(f,g),c["stroke-dasharray"]&&A(n,c["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":A(n,g,s);break;case"fill":var L=r(g).match(t._ISURL);if(L){P=m("pattern");var E=m("image");P.id=t.createUUID(),m(P,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(E,{x:0,y:0,"xlink:href":L[1]}),P.appendChild(E),function(e){t._preload(L[1],(function(){var t=this.offsetWidth,r=this.offsetHeight;m(e,{width:t,height:r}),m(E,{width:t,height:r})}))}(P),n.paper.defs.appendChild(P),m(l,{fill:"url(#"+P.id+")"}),n.pattern=P,n.pattern&&y(n);break}var D=t.getRGB(g);if(D.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=r(g).charAt())&&_(n,g)){if("opacity"in c||"fill-opacity"in c){var I=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(I){var F=I.getElementsByTagName("stop");m(F[F.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete s.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(s.opacity,"undefined")&&m(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(s["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});D[e]("opacity")&&m(l,{"fill-opacity":D.opacity>1?D.opacity/100:D.opacity});case"stroke":D=t.getRGB(g),l.setAttribute(f,D.hex),"stroke"==f&&D[e]("opacity")&&m(l,{"stroke-opacity":D.opacity>1?D.opacity/100:D.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=r(g).charAt())&&_(n,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(I=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)))&&(F=I.getElementsByTagName("stop"),m(F[F.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=i(g,10)+"px");var N=f.replace(/(\-.)/g,(function(t){return t.substring(1).toUpperCase()}));l.style[N]=g,n._.dirty=1,l.setAttribute(f,g)}}S(n,s),l.style.visibility=d},S=function(n,s){if("text"==n.type&&(s[e]("text")||s[e]("font")||s[e]("font-size")||s[e]("x")||s[e]("y"))){var a=n.attrs,o=n.node,l=o.firstChild?i(t._g.doc.defaultView.getComputedStyle(o.firstChild,u).getPropertyValue("font-size"),10):10;if(s[e]("text")){for(a.text=s.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,c=r(s.text).split("\n"),d=[],p=0,f=c.length;p<f;p++)h=m("tspan"),p&&m(h,{dy:1.2*l,x:a.x}),h.appendChild(t._g.doc.createTextNode(c[p])),o.appendChild(h),d[p]=h}else for(p=0,f=(d=o.getElementsByTagName("tspan")).length;p<f;p++)p?m(d[p],{dy:1.2*l,x:a.x}):m(d[0],{dy:0});m(o,{x:a.x,y:a.y}),n._.dirty=1;var g=n._getBBox(),_=a.y-(g.y+g.height/2);_&&t.is(_,"finite")&&m(d[0],{dy:_})}},C=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},k=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},P=t.el;k.prototype=P,P.constructor=k,t._engine.path=function(t,e){var r=m("path");e.canvas&&e.canvas.appendChild(r);var n=new k(r,e);return n.type="path",w(n,{fill:"none",stroke:"#000",path:t}),n},P.rotate=function(t,e,i){if(this.removed)return this;if((t=r(t).split(h)).length-1&&(e=n(t[1]),i=n(t[2])),t=n(t[0]),null==i&&(e=i),null==e||null==i){var s=this.getBBox(1);e=s.x+s.width/2,i=s.y+s.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},P.scale=function(t,e,i,s){if(this.removed)return this;if((t=r(t).split(h)).length-1&&(e=n(t[1]),i=n(t[2]),s=n(t[3])),t=n(t[0]),null==e&&(e=t),null==s&&(i=s),null==i||null==s)var a=this.getBBox(1);return this.transform(this._.transform.concat([["s",t,e,i=null==i?a.x+a.width/2:i,s=null==s?a.y+a.height/2:s]])),this},P.translate=function(t,e){return this.removed||((t=r(t).split(h)).length-1&&(e=n(t[1])),t=n(t[0])||0,this.transform(this._.transform.concat([["t",t,e=+e||0]]))),this},P.transform=function(r){var n=this._;if(null==r)return n.transform;if(t._extractTransform(this,r),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},P.hide=function(){return this.removed||(this.node.style.display="none"),this},P.show=function(){return this.removed||(this.node.style.display=""),this},P.remove=function(){var e=C(this.node);if(!this.removed&&e.parentNode){var r=this.paper;for(var n in r.__set__&&r.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),t._tear(this,r),e.parentNode.removeChild(e),this.removeData(),this)this[n]="function"==typeof this[n]?t._removedFactory(n):null;this.removed=!0}},P._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,r=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(r=!0,e.display="");var n={};try{n=this.node.getBBox()}catch(i){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},r&&(e.display="none")}return t&&this.hide(),n},P.attr=function(r,n){if(this.removed)return this;if(null==r){var i={};for(var s in this.attrs)this.attrs[e](s)&&(i[s]=this.attrs[s]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==n&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var a=r.split(h),o={},l=0,u=a.length;l<u;l++)o[r=a[l]]=r in this.attrs?this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:t._availableAttrs[r];return u-1?o:o[a[0]]}if(null==n&&t.is(r,"array")){for(o={},l=0,u=r.length;l<u;l++)o[r[l]]=this.attr(r[l]);return o}if(null!=n){var d={};d[r]=n}else null!=r&&t.is(r,"object")&&(d=r);for(var p in d)c("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&t.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));for(var g in this.attrs[p]=d[p],f)f[e](g)&&(d[g]=f[g])}return w(this,d),this},P.toFront=function(){if(this.removed)return this;var e=C(this.node);e.parentNode.appendChild(e);var r=this.paper;return r.top!=this&&t._tofront(this,r),this},P.toBack=function(){if(this.removed)return this;var e=C(this.node),r=e.parentNode;return r.insertBefore(e,r.firstChild),t._toback(this,this.paper),this},P.insertAfter=function(e){if(this.removed||!e)return this;var r=C(this.node),n=C(e.node||e[e.length-1].node);return n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r),t._insertafter(this,e,this.paper),this},P.insertBefore=function(e){if(this.removed||!e)return this;var r=C(this.node),n=C(e.node||e[0].node);return n.parentNode.insertBefore(r,n),t._insertbefore(this,e,this.paper),this},P.blur=function(e){var r=this;if(0!=+e){var n=m("filter"),i=m("feGaussianBlur");r.attrs.blur=e,n.id=t.createUUID(),m(i,{stdDeviation:+e||1.5}),n.appendChild(i),r.paper.defs.appendChild(n),r._blur=n,m(r.node,{filter:"url(#"+n.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},t._engine.circle=function(t,e,r,n){var i=m("circle");t.canvas&&t.canvas.appendChild(i);var s=new k(i,t);return s.attrs={cx:e,cy:r,r:n,fill:"none",stroke:"#000"},s.type="circle",m(i,s.attrs),s},t._engine.rect=function(t,e,r,n,i,s){var a=m("rect");t.canvas&&t.canvas.appendChild(a);var o=new k(a,t);return o.attrs={x:e,y:r,width:n,height:i,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",m(a,o.attrs),o},t._engine.ellipse=function(t,e,r,n,i){var s=m("ellipse");t.canvas&&t.canvas.appendChild(s);var a=new k(s,t);return a.attrs={cx:e,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",m(s,a.attrs),a},t._engine.image=function(t,e,r,n,i,s){var a=m("image");m(a,{x:r,y:n,width:i,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(a);var o=new k(a,t);return o.attrs={x:r,y:n,width:i,height:s,src:e},o.type="image",o},t._engine.text=function(e,r,n,i){var s=m("text");e.canvas&&e.canvas.appendChild(s);var a=new k(s,e);return a.attrs={x:r,y:n,"text-anchor":"middle",text:i,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e&&e.container,n=e.x,i=e.y,s=e.width,a=e.height;if(!r)throw new Error("SVG container not found.");var o,l=m("svg"),h="overflow:hidden;";return n=n||0,i=i||0,m(l,{height:a=a||342,version:1.1,width:s=s||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==r?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+i+"px",t._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l)),(r=new t._Paper).width=s,r.height=a,r.canvas=l,r.clear(),r._left=r._top=0,o&&(r.renderfix=function(){}),r.renderfix(),r},t._engine.setViewBox=function(t,e,r,n,i){c("raphael.setViewBox",this,this._viewBox,[t,e,r,n,i]);var s,o=this.getSize(),l=a(r/o.width,n/o.height),h=this.top,u=i?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=l,s=t+d+e+d+r+d+n),m(this.canvas,{viewBox:s,preserveAspectRatio:u});l&&h;)h.attr({"stroke-width":"stroke-width"in h.attrs?h.attrs["stroke-width"]:1}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,r,n,!!i],this},t.prototype.renderfix=function(){var t,e=this.canvas,r=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,s=-t.f%1;(i||s)&&(i&&(this._left=(this._left+i)%1,r.left=this._left+"px"),s&&(this._top=(this._top+s)%1,r.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Rapha\xebl "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var T=t.st;for(var R in P)P[e](R)&&!T[e](R)&&(T[R]=function(t){return function(){var e=arguments;return this.forEach((function(r){r[t].apply(r,e)}))}}(R))}}).apply(e,n))||(t.exports=i)},function(t,e,r){var n,i;n=[r(1)],void 0===(i=(function(t){if(!t||t.vml){var e="hasOwnProperty",r=String,n=parseFloat,i=Math,s=i.round,a=i.max,o=i.min,l=i.abs,h="fill",c=/[, ]+/,u=t.eve,d=" ",p="",f={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,_=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},x={circle:1,ellipse:1},A=function(e){var n=/[ahqstv]/gi,i=t._pathToAbsolute;if(r(e).match(n)&&(i=t._path2curve),n=/[clmz]/g,i==t._pathToAbsolute&&!r(e).match(n)){var a=r(e).replace(g,(function(t,e,r){var n=[],i="m"==e.toLowerCase(),a=f[e];return r.replace(_,(function(t){i&&2==n.length&&(a+=n+f["m"==e?"l":"L"],n=[]),n.push(s(t*y))})),a+n}));return a}var o,l,h=i(e);a=[];for(var c=0,u=h.length;c<u;c++){o=h[c],"z"==(l=h[c][0].toLowerCase())&&(l="x");for(var m=1,v=o.length;m<v;m++)l+=s(o[m]*y)+(m!=v-1?",":p);a.push(l)}return a.join(d)},w=function(e,r,n){var i=t.matrix();return i.rotate(-e,.5,.5),{dx:i.x(r,n),dy:i.y(r,n)}},S=function(t,e,r,n,i,s){var a=t._,o=t.matrix,c=a.fillpos,u=t.node,p=u.style,f=1,g="",m=y/e,_=y/r;if(p.visibility="hidden",e&&r){if(u.coordsize=l(m)+d+l(_),p.rotation=s*(e*r<0?-1:1),s){var v=w(s,n,i);n=v.dx,i=v.dy}if(e<0&&(g+="x"),r<0&&(g+=" y")&&(f=-1),p.flip=g,u.coordorigin=n*-m+d+i*-_,c||a.fillsize){var b=u.getElementsByTagName(h);u.removeChild(b=b&&b[0]),c&&(v=w(s,o.x(c[0],c[1]),o.y(c[0],c[1])),b.position=v.dx*f+d+v.dy*f),a.fillsize&&(b.size=a.fillsize[0]*l(e)+d+a.fillsize[1]*l(r)),u.appendChild(b)}p.visibility="visible"}};t.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var C,k=function(t,e,n){for(var i=r(e).toLowerCase().split("-"),s=n?"end":"start",a=i.length,o="classic",l="medium",h="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=i[a];break;case"wide":case"narrow":h=i[a];break;case"long":case"short":l=i[a]}var c=t.node.getElementsByTagName("stroke")[0];c[s+"arrow"]=o,c[s+"arrowlength"]=l,c[s+"arrowwidth"]=h},P=function(i,l){i.attrs=i.attrs||{};var u=i.node,f=i.attrs,g=u.style,m=b[i.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),_=x[i.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),v=i;for(var w in l)l[e](w)&&(f[w]=l[w]);if(m&&(f.path=t._getPath[i.type](i),i._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&i.blur(l.blur),(l.path&&"path"==i.type||m)&&(u.path=A(~r(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[f.x,f.y],i._.fillsize=[f.width,f.height],S(i,1,1,0,0,0))),"transform"in l&&i.transform(l.transform),_){var P=+f.cx,R=+f.cy,M=+f.rx||+f.r||0,L=+f.ry||+f.r||0;u.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((P-M)*y),s((R-L)*y),s((P+M)*y),s((R+L)*y),s(P*y)),i._.dirty=1}if("clip-rect"in l){var E=r(l["clip-rect"]).split(c);if(4==E.length){E[2]=+E[2]+ +E[0],E[3]=+E[3]+ +E[1];var D=u.clipRect||t._g.doc.createElement("div"),I=D.style;I.clip=t.format("rect({1}px {2}px {3}px {0}px)",E),u.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=i.paper.width+"px",I.height=i.paper.height+"px",u.parentNode.insertBefore(D,u),D.appendChild(u),u.clipRect=D)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(i.textpath){var F=i.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}if("arrow-start"in l&&k(v,l["arrow-start"]),"arrow-end"in l&&k(v,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var N=u.getElementsByTagName(h);if(!(N=N&&N[0])&&(N=C(h)),"image"==i.type&&l.src&&(N.src=l.src),l.fill&&(N.on=!0),null!=N.on&&"none"!=l.fill&&null!==l.fill||(N.on=!1),N.on&&l.fill){var O=r(l.fill).match(t._ISURL);if(O){N.parentNode==u&&u.removeChild(N),N.rotate=!0,N.src=O[1],N.type="tile";var B=i.getBBox(1);N.position=B.x+d+B.y,i._.fillpos=[B.x,B.y],t._preload(O[1],(function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else N.color=t.getRGB(l.fill).hex,N.src=p,N.type="solid",t.getRGB(l.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&T(v,l.fill,N)&&(f.fill="none",f.gradient=l.fill,N.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var U=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);U=o(a(U,0),1),N.opacity=U,N.src&&(N.color="none")}u.appendChild(N);var j=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],W=!1;!j&&(W=j=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(j.on=!0),("none"==l.stroke||null===l.stroke||null==j.on||0==l.stroke||0==l["stroke-width"])&&(j.on=!1);var H=t.getRGB(l.stroke);j.on&&l.stroke&&(j.color=H.hex),U=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+H.o+1||2)-1);var Y=.75*(n(l["stroke-width"])||1);if(U=o(a(U,0),1),null==l["stroke-width"]&&(Y=f["stroke-width"]),l["stroke-width"]&&(j.weight=Y),Y&&Y<1&&(U*=Y)&&(j.weight=1),j.opacity=U,l["stroke-linejoin"]&&(j.joinstyle=l["stroke-linejoin"]||"miter"),j.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(j.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};j.dashstyle=V[e](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:p}W&&u.appendChild(j)}if("text"==v.type){v.paper.canvas.style.display=p;var G=v.paper.span,q=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=G.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),q=n(f["font-size"]||q&&q[0])||10,g.fontSize=100*q+"px",v.textpath.string&&(G.innerHTML=r(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var z=G.getBoundingClientRect();v.W=f.w=(z.right-z.left)/100,v.H=f.h=(z.bottom-z.top)/100,v.X=f.x,v.Y=f.y+v.H/2,("x"in l||"y"in l)&&(v.path.v=t.format("m{0},{1}l{2},{1}",s(f.x*y),s(f.y*y),s(f.x*y)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],$=0,Q=X.length;$<Q;$++)if(X[$]in l){v._.dirty=1;break}switch(f["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},T=function(e,s,a){e.attrs=e.attrs||{};var o=Math.pow,l="linear",h=".5 .5";if(e.attrs.gradient=s,s=(s=r(s).replace(t._radial_gradient,(function(t,e,r){return l="radial",e&&r&&(e=n(e),r=n(r),o(e-.5,2)+o(r-.5,2)>.25&&(r=i.sqrt(.25-o(e-.5,2))*(2*(r>.5)-1)+.5),h=e+d+r),p}))).split(/\s*\-\s*/),"linear"==l){var c=s.shift();if(c=-n(c),isNaN(c))return null}var u=t._parseDots(s);if(!u)return null;if(e=e.shape||e.node,u.length){e.removeChild(a),a.on=!0,a.method="none",a.color=u[0].color,a.color2=u[u.length-1].color;for(var f=[],g=0,m=u.length;g<m;g++)u[g].offset&&f.push(u[g].offset+d+u[g].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=h,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),e.appendChild(a)}return 1},R=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},M=t.el;R.prototype=M,M.constructor=R,M.transform=function(e){if(null==e)return this._.transform;var n,i=this.paper._viewBoxShift,s=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:p;i&&(n=e=r(e).replace(/\.{3}|\u2026/g,this._.transform||p)),t._extractTransform(this,s+e);var a,o=this.matrix.clone(),l=this.skew,h=this.node,c=~r(this.attrs.fill).indexOf("-"),u=!r(this.attrs.fill).indexOf("url(");if(o.translate(1,1),u||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=o.split(),c&&a.noRotation||!a.isSimple){h.style.filter=o.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,_=f.y-g.y;h.coordorigin=m*-y+d+_*-y,S(this,1,1,m,_,0)}else h.style.filter=p,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else h.style.filter=p,l.matrix=r(o),l.offset=o.offset();return null!==n&&(this._.transform=n,t._extractTransform(this,n)),this},M.rotate=function(t,e,i){if(this.removed)return this;if(null!=t){if((t=r(t).split(c)).length-1&&(e=n(t[1]),i=n(t[2])),t=n(t[0]),null==i&&(e=i),null==e||null==i){var s=this.getBBox(1);e=s.x+s.width/2,i=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this}},M.translate=function(t,e){return this.removed||((t=r(t).split(c)).length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},M.scale=function(t,e,i,s){if(this.removed)return this;if((t=r(t).split(c)).length-1&&(e=n(t[1]),i=n(t[2]),s=n(t[3]),isNaN(i)&&(i=null),isNaN(s)&&(s=null)),t=n(t[0]),null==e&&(e=t),null==s&&(i=s),null==i||null==s)var a=this.getBBox(1);return this.transform(this._.transform.concat([["s",t,e,i=null==i?a.x+a.width/2:i,s=null==s?a.y+a.height/2:s]])),this._.dirtyT=1,this},M.hide=function(){return!this.removed&&(this.node.style.display="none"),this},M.show=function(){return!this.removed&&(this.node.style.display=p),this},M.auxGetBBox=t.el.getBBox,M.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},r=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=r,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=r,e.width=t.width*r,e.height=t.height*r,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},M._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},M.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},M.attr=function(r,n){if(this.removed)return this;if(null==r){var i={};for(var s in this.attrs)this.attrs[e](s)&&(i[s]=this.attrs[s]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==n&&t.is(r,"string")){if(r==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=r.split(c),o={},l=0,d=a.length;l<d;l++)o[r=a[l]]=r in this.attrs?this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:t._availableAttrs[r];return d-1?o:o[a[0]]}if(this.attrs&&null==n&&t.is(r,"array")){for(o={},l=0,d=r.length;l<d;l++)o[r[l]]=this.attr(r[l]);return o}var p;for(var f in null!=n&&((p={})[r]=n),null==n&&t.is(r,"object")&&(p=r),p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&p[e](f)&&t.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));for(var m in this.attrs[f]=p[f],g)g[e](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),P(this,p)}return this},M.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},M.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this},M.insertAfter=function(e){return this.removed||(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper)),this},M.insertBefore=function(e){return this.removed||(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper)),this},M.blur=function(e){var r=this.node.runtimeStyle,n=r.filter;return n=n.replace(m,p),0!=+e?(this.attrs.blur=e,r.filter=n+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",s(+e||1.5))):(r.filter=n,r.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var r=C("shape");r.style.cssText=v,r.coordsize=y+d+y,r.coordorigin=e.coordorigin;var n=new R(r,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),n.type="path",n.path=[],n.Path=p,P(n,i),e.canvas&&e.canvas.appendChild(r);var s=C("skew");return s.on=!0,r.appendChild(s),n.skew=s,n.transform(p),n},t._engine.rect=function(e,r,n,i,s,a){var o=t._rectPath(r,n,i,s,a),l=e.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=n,l.W=h.width=i,l.H=h.height=s,h.r=a,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,r,n,i){var s=t.path();return s.X=e-n,s.Y=r-i,s.W=2*n,s.H=2*i,s.type="ellipse",P(s,{cx:e,cy:r,rx:n,ry:i}),s},t._engine.circle=function(t,e,r,n){var i=t.path();return i.X=e-n,i.Y=r-n,i.W=i.H=2*n,i.type="circle",P(i,{cx:e,cy:r,r:n}),i},t._engine.image=function(e,r,n,i,s,a){var o=t._rectPath(n,i,s,a),l=e.path(o).attr({stroke:"none"}),c=l.attrs,u=l.node,d=u.getElementsByTagName(h)[0];return c.src=r,l.X=c.x=n,l.Y=c.y=i,l.W=c.width=s,l.H=c.height=a,c.path=o,l.type="image",d.parentNode==u&&u.removeChild(d),d.rotate=!0,d.src=r,d.type="tile",l._.fillpos=[n,i],l._.fillsize=[s,a],u.appendChild(d),S(l,1,1,0,0,0),l},t._engine.text=function(e,n,i,a){var o=C("shape"),l=C("path"),h=C("textpath");i=i||0,a=a||"",l.v=t.format("m{0},{1}l{2},{1}",s((n=n||0)*y),s(i*y),s(n*y)+1),l.textpathok=!0,h.string=r(a),h.on=!0,o.style.cssText=v,o.coordsize=y+d+y,o.coordorigin="0 0";var c=new R(o,e),u={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};c.shape=o,c.path=l,c.textpath=h,c.type="text",c.attrs.text=r(a),c.attrs.x=n,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,P(c,u),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var f=C("skew");return f.on=!0,o.appendChild(f),c.skew=f,c.transform(p),c},t._engine.setSize=function(e,r){var n=this.canvas.style;return this.width=e,this.height=r,e==+e&&(e+="px"),r==+r&&(r+="px"),n.width=e,n.height=r,n.clip="rect(0 "+e+" "+r+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,r,n,i,s){t.eve("raphael.setViewBox",this,this._viewBox,[e,r,n,i,s]);var a,o,l=this.getSize(),h=l.width,c=l.height;return s&&(n*(a=c/i)<h&&(e-=(h-n*a)/2/a),i*(o=h/n)<c&&(r-=(c-i*o)/2/o)),this._viewBox=[e,r,n,i,!!s],this._viewBoxShift={dx:-e,dy:-r,scale:l},this.forEach((function(t){t.transform("...")})),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(r){C=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e.container,n=e.height,i=e.width,s=e.x,a=e.y;if(!r)throw new Error("VML container not found.");var o=new t._Paper,l=o.canvas=t._g.doc.createElement("div"),h=l.style;return s=s||0,a=a||0,n=n||342,o.width=i=i||512,o.height=n,i==+i&&(i+="px"),n==+n&&(n+="px"),o.coordsize=1e3*y+d+1e3*y,o.coordorigin="0 0",o.span=t._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,n),1==r?(t._g.doc.body.appendChild(l),h.left=s+"px",h.top=a+"px",h.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),o.renderfix=function(){},o},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var L=t.st;for(var E in M)M[e](E)&&!L[e](E)&&(L[E]=function(t){return function(){var e=arguments;return this.forEach((function(r){r[t].apply(r,e)}))}}(E))}}).apply(e,n))||(t.exports=i)}])})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,(function(){"use strict";var t,e;function r(){return t.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var r in e)h(e,r)&&(t[r]=e[r]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,r,n){return me(t,e,r,n,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var r=d(t),n=e.call(r.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&r.overflow<0&&!r.empty&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&n);if(t._strict&&(i=i&&0===r.charsLeftOver&&0===r.unusedTokens.length&&void 0===r.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function f(t){var e=u(NaN);return null!=t?c(d(e),t):d(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),r=e.length>>>0,n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var g=r.momentProperties=[];function m(t,e){var r,n,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=d(e)),s(e._locale)||(t._locale=e._locale),0<g.length)for(r=0;r<g.length;r++)s(i=e[n=g[r]])||(t[n]=i);return t}var _=!1;function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=b(e)),r}function A(t,e,r){var n,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),a=0;for(n=0;n<i;n++)(r&&t[n]!==e[n]||!r&&x(t[n])!==x(e[n]))&&a++;return a+s}function w(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return c((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var i,s=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var o in i+="\n["+a+"] ",arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];s.push(i)}w(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var C,k={};function P(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),k[t]||(w(e),k[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function R(t,e){var r,n=c({},t);for(r in e)h(e,r)&&(i(t[r])&&i(e[r])?(n[r]={},c(n[r],t[r]),c(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)h(t,r)&&!h(e,r)&&i(t[r])&&(n[r]=c({},n[r]));return n}function M(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)h(t,e)&&r.push(e);return r};var L={};function E(t,e){var r=t.toLowerCase();L[r]=L[r+"s"]=L[e]=t}function D(t){return"string"==typeof t?L[t]||L[t.toLowerCase()]:void 0}function I(t){var e,r,n={};for(r in t)h(t,r)&&(e=D(r))&&(n[e]=t[r]);return n}var F={};function N(t,e){F[t]=e}function O(t,e,r){var n=""+Math.abs(t);return(0<=t?r?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},W={};function H(t,e,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),t&&(W[t]=i),e&&(W[e[0]]=function(){return O(i.apply(this,arguments),e[1],e[2])}),r&&(W[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Y(t,e){return t.isValid()?(e=V(e,t.localeData()),j[e]=j[e]||function(t){var e,r,n,i=t.match(B);for(e=0,r=i.length;e<r;e++)i[e]=W[i[e]]?W[i[e]]:(n=i[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<r;n++)s+=T(i[n])?i[n].call(e,t):i[n];return s}}(e),j[e](t)):t.localeData().invalidDate()}function V(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(U.lastIndex=0;0<=r&&U.test(t);)t=t.replace(U,n),U.lastIndex=0,r-=1;return t}var G=/\d/,q=/\d\d/,z=/\d{3}/,X=/\d{4}/,$=/[+-]?\d{6}/,Q=/\d\d?/,K=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,J=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,rt=/\d+/,nt=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ot={};function lt(t,e,r){ot[t]=T(e)?e:function(t,n){return t&&r?r:e}}function ht(t,e){return h(ot,t)?ot[t](e._strict,e._locale):new RegExp(ct(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,n,i){return e||r||n||i}))))}function ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ut={};function dt(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),a(e)&&(n=function(t,r){r[e]=x(t)}),r=0;r<t.length;r++)ut[t[r]]=n}function pt(t,e){dt(t,(function(t,r,n,i){n._w=n._w||{},e(t,n._w,n,i)}))}function ft(t){return gt(t)?366:365}function gt(t){return t%4==0&&t%100!=0||t%400==0}H("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),H(0,["YY",2],0,(function(){return this.year()%100})),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),E("year","y"),N("year",1),lt("Y",nt),lt("YY",Q,q),lt("YYYY",tt,X),lt("YYYYY",et,$),lt("YYYYYY",et,$),dt(["YYYYY","YYYYYY"],0),dt("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):x(t)})),dt("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),dt("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return x(t)+(68<x(t)?1900:2e3)};var mt,_t=vt("FullYear",!0);function vt(t,e){return function(n){return null!=n?(bt(this,t,n),r.updateOffset(this,e),this):yt(this,t)}}function yt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function bt(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&gt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),xt(r,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function xt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=(e%12+12)%12;return t+=(e-r)/12,1===r?gt(t)?29:28:31-r%7%2}mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",(function(){return this.month()+1})),H("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),H("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),E("month","M"),N("month",8),lt("M",Q),lt("MM",Q,q),lt("MMM",(function(t,e){return e.monthsShortRegex(t)})),lt("MMMM",(function(t,e){return e.monthsRegex(t)})),dt(["M","MM"],(function(t,e){e[1]=x(t)-1})),dt(["MMM","MMMM"],(function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);null!=i?e[1]=i:d(r).invalidMonth=t}));var At=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),St="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ct(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),xt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function kt(t){return null!=t?(Ct(this,t),r.updateOffset(this,!0),this):yt(this,"Month")}var Pt=at,Tt=at;function Rt(){function t(t,e){return e.length-t.length}var e,r,n=[],i=[],s=[];for(e=0;e<12;e++)r=u([2e3,e]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(t),i.sort(t),s.sort(t),e=0;e<12;e++)n[e]=ct(n[e]),i[e]=ct(i[e]);for(e=0;e<24;e++)s[e]=ct(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Mt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Lt(t,e,r){var n=7+e-r;return-(7+Mt(t,0,n).getUTCDay()-e)%7+n-1}function Et(t,e,r,n,i){var s,a,o=1+7*(e-1)+(7+r-n)%7+Lt(t,n,i);return o<=0?a=ft(s=t-1)+o:o>ft(t)?(s=t+1,a=o-ft(t)):(s=t,a=o),{year:s,dayOfYear:a}}function Dt(t,e,r){var n,i,s=Lt(t.year(),e,r),a=Math.floor((t.dayOfYear()-s-1)/7)+1;return a<1?n=a+It(i=t.year()-1,e,r):a>It(t.year(),e,r)?(n=a-It(t.year(),e,r),i=t.year()+1):(i=t.year(),n=a),{week:n,year:i}}function It(t,e,r){var n=Lt(t,e,r),i=Lt(t+1,e,r);return(ft(t)-n+i)/7}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),N("week",5),N("isoWeek",5),lt("w",Q),lt("ww",Q,q),lt("W",Q),lt("WW",Q,q),pt(["w","ww","W","WW"],(function(t,e,r,n){e[n.substr(0,1)]=x(t)})),H("d",0,"do","day"),H("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),H("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),H("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),lt("d",Q),lt("e",Q),lt("E",Q),lt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),lt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),lt("dddd",(function(t,e){return e.weekdaysRegex(t)})),pt(["dd","ddd","dddd"],(function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);null!=i?e.d=i:d(r).invalidWeekday=t})),pt(["d","e","E"],(function(t,e,r,n){e[n]=x(t)}));var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ot="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Bt=at,Ut=at,jt=at;function Wt(){function t(t,e){return e.length-t.length}var e,r,n,i,s,a=[],o=[],l=[],h=[];for(e=0;e<7;e++)r=u([2e3,1]).day(e),n=this.weekdaysMin(r,""),i=this.weekdaysShort(r,""),s=this.weekdays(r,""),a.push(n),o.push(i),l.push(s),h.push(n),h.push(i),h.push(s);for(a.sort(t),o.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)o[e]=ct(o[e]),l[e]=ct(l[e]),h[e]=ct(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ht(){return this.hours()%12||12}function Yt(t,e){H(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Vt(t,e){return e._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ht),H("k",["kk",2],0,(function(){return this.hours()||24})),H("hmm",0,0,(function(){return""+Ht.apply(this)+O(this.minutes(),2)})),H("hmmss",0,0,(function(){return""+Ht.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),H("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),H("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Yt("a",!0),Yt("A",!1),E("hour","h"),N("hour",13),lt("a",Vt),lt("A",Vt),lt("H",Q),lt("h",Q),lt("k",Q),lt("HH",Q,q),lt("hh",Q,q),lt("kk",Q,q),lt("hmm",K),lt("hmmss",Z),lt("Hmm",K),lt("Hmmss",Z),dt(["H","HH"],3),dt(["k","kk"],(function(t,e,r){var n=x(t);e[3]=24===n?0:n})),dt(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),dt(["h","hh"],(function(t,e,r){e[3]=x(t),d(r).bigHour=!0})),dt("hmm",(function(t,e,r){var n=t.length-2;e[3]=x(t.substr(0,n)),e[4]=x(t.substr(n)),d(r).bigHour=!0})),dt("hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[3]=x(t.substr(0,n)),e[4]=x(t.substr(n,2)),e[5]=x(t.substr(i)),d(r).bigHour=!0})),dt("Hmm",(function(t,e,r){var n=t.length-2;e[3]=x(t.substr(0,n)),e[4]=x(t.substr(n))})),dt("Hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[3]=x(t.substr(0,n)),e[4]=x(t.substr(n,2)),e[5]=x(t.substr(i))}));var Gt,qt=vt("Hours",!0),zt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:wt,monthsShort:St,week:{dow:0,doy:6},weekdays:Ft,weekdaysMin:Ot,weekdaysShort:Nt,meridiemParse:/[ap]\.?m?\.?/i},Xt={},$t={};function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){var e=null;if(!Xt[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Gt._abbr,require("./locale/"+t),Zt(e)}catch(t){}return Xt[t]}function Zt(t,e){var r;return t&&((r=s(e)?te(t):Jt(t,e))?Gt=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Gt._abbr}function Jt(t,e){if(null!==e){var r,n=zt;if(e.abbr=t,null!=Xt[t])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Xt[t]._config;else if(null!=e.parentLocale)if(null!=Xt[e.parentLocale])n=Xt[e.parentLocale]._config;else{if(null==(r=Kt(e.parentLocale)))return $t[e.parentLocale]||($t[e.parentLocale]=[]),$t[e.parentLocale].push({name:t,config:e}),null;n=r._config}return Xt[t]=new M(R(n,e)),$t[t]&&$t[t].forEach((function(t){Jt(t.name,t.config)})),Zt(t),Xt[t]}return delete Xt[t],null}function te(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Gt;if(!n(t)){if(e=Kt(t))return e;t=[t]}return function(t){for(var e,r,n,i,s=0;s<t.length;){for(e=(i=Qt(t[s]).split("-")).length,r=(r=Qt(t[s+1]))?r.split("-"):null;0<e;){if(n=Kt(i.slice(0,e).join("-")))return n;if(r&&r.length>=e&&A(i,r,!0)>=e-1)break;e--}s++}return Gt}(t)}function ee(t){var e,r=t._a;return r&&-2===d(t).overflow&&(e=r[1]<0||11<r[1]?1:r[2]<1||r[2]>xt(r[0],r[1])?2:r[3]<0||24<r[3]||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||59<r[4]?4:r[5]<0||59<r[5]?5:r[6]<0||999<r[6]?6:-1,d(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),d(t)._overflowWeeks&&-1===e&&(e=7),d(t)._overflowWeekday&&-1===e&&(e=8),d(t).overflow=e),t}function re(t,e,r){return null!=t?t:null!=e?e:r}function ne(t){var e,n,i,s,a,o=[];if(!t._d){var l,h;for(l=t,h=new Date(r.now()),i=l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,r,n,i,s,a,o,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,a=4,r=re(e.GG,t._a[0],Dt(_e(),1,4).year),n=re(e.W,1),((i=re(e.E,1))<1||7<i)&&(l=!0);else{s=t._locale._week.dow,a=t._locale._week.doy;var h=Dt(_e(),s,a);r=re(e.gg,t._a[0],h.year),n=re(e.w,h.week),null!=e.d?((i=e.d)<0||6<i)&&(l=!0):null!=e.e?(i=e.e+s,(e.e<0||6<e.e)&&(l=!0)):i=s}n<1||n>It(r,s,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(o=Et(r,n,i,s,a),t._a[0]=o.year,t._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(a=re(t._a[0],i[0]),(t._dayOfYear>ft(a)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=Mt(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Mt:function(t,e,r,n,i,s,a){var o=new Date(t,e,r,n,i,s,a);return t<100&&0<=t&&isFinite(o.getFullYear())&&o.setFullYear(t),o}).apply(null,o),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(d(t).weekdayMismatch=!0)}}var ie=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ae=/Z|[+-]\d\d(?::?\d\d)?/,oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],he=/^\/?Date\((\-?\d+)/i;function ce(t){var e,r,n,i,s,a,o=t._i,l=ie.exec(o)||se.exec(o);if(l){for(d(t).iso=!0,e=0,r=oe.length;e<r;e++)if(oe[e][1].exec(l[1])){i=oe[e][0],n=!1!==oe[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,r=le.length;e<r;e++)if(le[e][1].exec(l[3])){s=(l[2]||" ")+le[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!ae.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(s||"")+(a||""),fe(t)}else t._isValid=!1}var ue=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,de={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pe(t){var e,r,n,i=ue.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var s=function(t,e,r,n,i,s){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),St.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}(i[4],i[3],i[2],i[5],i[6],i[7]);if(r=s,n=t,(e=i[1])&&Nt.indexOf(e)!==new Date(r[0],r[1],r[2]).getDay()&&(d(n).weekdayMismatch=!0,!(n._isValid=!1)))return;t._a=s,t._tzm=function(t,e,r){if(t)return de[t];if(e)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(i[8],i[9],i[10]),t._d=Mt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function fe(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],d(t).empty=!0;var e,n,i,s,a,o,l,c,u=""+t._i,p=u.length,f=0;for(i=V(t._f,t._locale).match(B)||[],e=0;e<i.length;e++)(n=(u.match(ht(s=i[e],t))||[])[0])&&(0<(a=u.substr(0,u.indexOf(n))).length&&d(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),f+=n.length),W[s]?(n?d(t).empty=!1:d(t).unusedTokens.push(s),o=s,c=t,null!=(l=n)&&h(ut,o)&&ut[o](l,c._a,c,o)):t._strict&&!n&&d(t).unusedTokens.push(s);d(t).charsLeftOver=p-f,0<u.length&&d(t).unusedInput.push(u),t._a[3]<=12&&!0===d(t).bigHour&&0<t._a[3]&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[3]=function(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):(null!=t.isPM&&((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0)),e)}(t._locale,t._a[3],t._meridiem),ne(t),ee(t)}else pe(t);else ce(t)}function ge(t){var e,h,u,g,_=t._i,b=t._f;return t._locale=t._locale||te(t._l),null===_||void 0===b&&""===_?f({nullInput:!0}):("string"==typeof _&&(t._i=_=t._locale.preparse(_)),y(_)?new v(ee(_)):(o(_)?t._d=_:n(b)?function(t){var e,r,n,i,s;if(0===t._f.length)return d(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)s=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],fe(e),p(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==n||s<n)&&(n=s,r=e));c(t,r||e)}(t):b?fe(t):s(h=(e=t)._i)?e._d=new Date(r.now()):o(h)?e._d=new Date(h.valueOf()):"string"==typeof h?null===(g=he.exec((u=e)._i))?(ce(u),!1===u._isValid&&(delete u._isValid,pe(u),!1===u._isValid&&(delete u._isValid,r.createFromInputFallback(u)))):u._d=new Date(+g[1]):n(h)?(e._a=l(h.slice(0),(function(t){return parseInt(t,10)})),ne(e)):i(h)?function(t){if(!t._d){var e=I(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ne(t)}}(e):a(h)?e._d=new Date(h):r.createFromInputFallback(e),p(t)||(t._d=null),t))}function me(t,e,r,s,a){var o,l={};return!0!==r&&!1!==r||(s=r,r=void 0),(i(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=t,l._f=e,l._strict=s,(o=new v(ee(ge(l))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function _e(t,e,r,n){return me(t,e,r,n,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var ve=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()})),ye=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:f()}));function be(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return _e();for(r=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](r)||(r=e[i]);return r}var xe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=I(t),r=e.year||0,n=e.quarter||0,i=e.month||0,s=e.week||0,a=e.day||0,o=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===mt.call(xe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var r=!1,n=0;n<xe.length;++n)if(t[xe[n]]){if(r)return!1;parseFloat(t[xe[n]])!==x(t[xe[n]])&&(r=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*o*60*60,this._days=+a+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=te(),this._bubble()}function we(t){return t instanceof Ae}function Se(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ce(t,e){H(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+O(~~(t/60),2)+e+O(~~t%60,2)}))}Ce("Z",":"),Ce("ZZ",""),lt("Z",st),lt("ZZ",st),dt(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=Pe(st,t)}));var ke=/([\+\-]|\d\d)/gi;function Pe(t,e){var r=(e||"").match(t);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(ke)||["-",0,0],i=60*n[1]+x(n[2]);return 0===i?0:"+"===n[0]?i:-i}function Te(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(y(t)||o(t)?t.valueOf():_e(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):_e(t).local()}function Re(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Me(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Le=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ee=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function De(t,e){var r,n,i,s=t,o=null;return we(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(s={},e?s[e]=t:s.milliseconds=t):(o=Le.exec(t))?(r="-"===o[1]?-1:1,s={y:0,d:x(o[2])*r,h:x(o[3])*r,m:x(o[4])*r,s:x(o[5])*r,ms:x(Se(1e3*o[6]))*r}):(o=Ee.exec(t))?s={y:Ie(o[2],r="-"===o[1]?-1:1),M:Ie(o[3],r),w:Ie(o[4],r),d:Ie(o[5],r),h:Ie(o[6],r),m:Ie(o[7],r),s:Ie(o[8],r)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(t,e){var r;return t.isValid()&&e.isValid()?(e=Te(e,t),t.isBefore(e)?r=Fe(t,e):((r=Fe(e,t)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}(_e(s.from),_e(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),n=new Ae(s),we(t)&&h(t,"_locale")&&(n._locale=t._locale),n}function Ie(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function Fe(t,e){var r={milliseconds:0,months:0};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Ne(t,e){return function(r,n){var i;return null===n||isNaN(+n)||(P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Oe(this,De(r="string"==typeof r?+r:r,n),t),this}}function Oe(t,e,n,i){var s=e._milliseconds,a=Se(e._days),o=Se(e._months);t.isValid()&&(i=null==i||i,o&&Ct(t,yt(t,"Month")+o*n),a&&bt(t,"Date",yt(t,"Date")+a*n),s&&t._d.setTime(t._d.valueOf()+s*n),i&&r.updateOffset(t,a||o))}De.fn=Ae.prototype,De.invalid=function(){return De(NaN)};var Be=Ne(1,"add"),Ue=Ne(-1,"subtract");function je(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function We(t){var e;return void 0===t?this._locale._abbr:(null!=(e=te(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var He=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ye(){return this._locale}function Ve(t,e){H(0,[t,t.length],0,e)}function Ge(t,e,r,n,i){var s;return null==t?Dt(this,n,i).year:((s=It(t,n,i))<e&&(e=s),(function(t,e,r,n,i){var s=Et(t,e,r,n,i),a=Mt(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}).call(this,t,e,r,n,i))}H(0,["gg",2],0,(function(){return this.weekYear()%100})),H(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ve("gggg","weekYear"),Ve("ggggg","weekYear"),Ve("GGGG","isoWeekYear"),Ve("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),lt("G",nt),lt("g",nt),lt("GG",Q,q),lt("gg",Q,q),lt("GGGG",tt,X),lt("gggg",tt,X),lt("GGGGG",et,$),lt("ggggg",et,$),pt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,n){e[n.substr(0,2)]=x(t)})),pt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),H("Q",0,"Qo","quarter"),E("quarter","Q"),N("quarter",7),lt("Q",G),dt("Q",(function(t,e){e[1]=3*(x(t)-1)})),H("D",["DD",2],"Do","date"),E("date","D"),N("date",9),lt("D",Q),lt("DD",Q,q),lt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),dt(["D","DD"],2),dt("Do",(function(t,e){e[2]=x(t.match(Q)[0])}));var qe=vt("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),N("dayOfYear",4),lt("DDD",J),lt("DDDD",z),dt(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=x(t)})),H("m",["mm",2],0,"minute"),E("minute","m"),N("minute",14),lt("m",Q),lt("mm",Q,q),dt(["m","mm"],4);var ze=vt("Minutes",!1);H("s",["ss",2],0,"second"),E("second","s"),N("second",15),lt("s",Q),lt("ss",Q,q),dt(["s","ss"],5);var Xe,$e=vt("Seconds",!1);for(H("S",0,0,(function(){return~~(this.millisecond()/100)})),H(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),H(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),H(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),H(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),H(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),H(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),E("millisecond","ms"),N("millisecond",16),lt("S",J,G),lt("SS",J,q),lt("SSS",J,z),Xe="SSSS";Xe.length<=9;Xe+="S")lt(Xe,rt);function Qe(t,e){e[6]=x(1e3*("0."+t))}for(Xe="S";Xe.length<=9;Xe+="S")dt(Xe,Qe);var Ke=vt("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Ze=v.prototype;function Je(t){return t}Ze.add=Be,Ze.calendar=function(t,e){var n=t||_e(),i=Te(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",a=e&&(T(e[s])?e[s].call(this,n):e[s]);return this.format(a||this.localeData().calendar(s,this,_e(n)))},Ze.clone=function(){return new v(this)},Ze.diff=function(t,e,r){var n,i,s;if(!this.isValid())return NaN;if(!(n=Te(t,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),e=D(e)){case"year":s=je(this,n)/12;break;case"month":s=je(this,n);break;case"quarter":s=je(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:b(s)},Ze.endOf=function(t){return void 0===(t=D(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Ze.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)},Ze.from=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||_e(t).isValid())?De({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ze.fromNow=function(t){return this.from(_e(),t)},Ze.to=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||_e(t).isValid())?De({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ze.toNow=function(t){return this.to(_e(),t)},Ze.get=function(t){return T(this[t=D(t)])?this[t]():this},Ze.invalidAt=function(){return d(this).overflow},Ze.isAfter=function(t,e){var r=y(t)?t:_e(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=D(s(e)?"millisecond":e))?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},Ze.isBefore=function(t,e){var r=y(t)?t:_e(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=D(s(e)?"millisecond":e))?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},Ze.isBetween=function(t,e,r,n){return("("===(n=n||"()")[0]?this.isAfter(t,r):!this.isBefore(t,r))&&(")"===n[1]?this.isBefore(e,r):!this.isAfter(e,r))},Ze.isSame=function(t,e){var r,n=y(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=D(e||"millisecond"))?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},Ze.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Ze.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Ze.isValid=function(){return p(this)},Ze.lang=He,Ze.locale=We,Ze.localeData=Ye,Ze.max=ye,Ze.min=ve,Ze.parsingFlags=function(){return c({},d(this))},Ze.set=function(t,e){if("object"==typeof t)for(var r=function(t){var e=[];for(var r in t)e.push({unit:r,priority:F[r]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=I(t)),n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit]);else if(T(this[t=D(t)]))return this[t](e);return this},Ze.startOf=function(t){switch(t=D(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Ze.subtract=Ue,Ze.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Ze.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Ze.toDate=function(){return new Date(this.valueOf())},Ze.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||9999<r.year()?Y(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(r,"Z")):Y(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ze.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},Ze.toJSON=function(){return this.isValid()?this.toISOString():null},Ze.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ze.unix=function(){return Math.floor(this.valueOf()/1e3)},Ze.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ze.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ze.year=_t,Ze.isLeapYear=function(){return gt(this.year())},Ze.weekYear=function(t){return Ge.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ze.isoWeekYear=function(t){return Ge.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Ze.quarter=Ze.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Ze.month=kt,Ze.daysInMonth=function(){return xt(this.year(),this.month())},Ze.week=Ze.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Ze.isoWeek=Ze.isoWeeks=function(t){var e=Dt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Ze.weeksInYear=function(){var t=this.localeData()._week;return It(this.year(),t.dow,t.doy)},Ze.isoWeeksInYear=function(){return It(this.year(),1,4)},Ze.date=qe,Ze.day=Ze.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,r,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,r=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=r.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-n,"d")):n},Ze.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Ze.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(r=t,n=this.localeData(),"string"==typeof r?n.weekdaysParse(r)%7||7:isNaN(r)?null:r);return this.day(this.day()%7?e:e-7)}return this.day()||7;var r,n},Ze.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Ze.hour=Ze.hours=qt,Ze.minute=Ze.minutes=ze,Ze.second=Ze.seconds=$e,Ze.millisecond=Ze.milliseconds=Ke,Ze.utcOffset=function(t,e,n){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Pe(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Re(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?Oe(this,De(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Re(this)},Ze.utc=function(t){return this.utcOffset(0,t)},Ze.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Re(this),"m")),this},Ze.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Pe(it,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Ze.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?_e(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Ze.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ze.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ze.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ze.isUtc=Me,Ze.isUTC=Me,Ze.zoneAbbr=function(){return this._isUTC?"UTC":""},Ze.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ze.dates=S("dates accessor is deprecated. Use date instead.",qe),Ze.months=S("months accessor is deprecated. Use month instead",kt),Ze.years=S("years accessor is deprecated. Use year instead",_t),Ze.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),Ze.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=ge(t))._a){var e=t._isUTC?u(t._a):_e(t._a);this._isDSTShifted=this.isValid()&&0<A(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var tr=M.prototype;function er(t,e,r,n){var i=te(),s=u().set(n,e);return i[r](s,t)}function rr(t,e,r){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return er(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=er(t,n,r,"month");return i}function nr(t,e,r,n){"boolean"==typeof t?a(e)&&(r=e,e=void 0):(e=t,t=!1,a(r=e)&&(r=e,e=void 0)),e=e||"";var i,s=te(),o=t?s._week.dow:0;if(null!=r)return er(e,(r+o)%7,n,"day");var l=[];for(i=0;i<7;i++)l[i]=er(e,(i+o)%7,n,"day");return l}tr.calendar=function(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return T(n)?n.call(e,r):n},tr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},tr.invalidDate=function(){return this._invalidDate},tr.ordinal=function(t){return this._ordinal.replace("%d",t)},tr.preparse=Je,tr.postformat=Je,tr.relativeTime=function(t,e,r,n){var i=this._relativeTime[r];return T(i)?i(t,e,r,n):i.replace(/%d/i,t)},tr.pastFuture=function(t,e){var r=this._relativeTime[0<t?"future":"past"];return T(r)?r(e):r.replace(/%s/i,e)},tr.set=function(t){var e,r;for(r in t)T(e=t[r])?this[r]=e:this["_"+r]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},tr.months=function(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||At).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone},tr.monthsShort=function(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},tr.monthsParse=function(t,e,r){var n,i,s;if(this._monthsParseExact)return(function(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(i=mt.call(this._shortMonthsParse,a))?i:null:-1!==(i=mt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=mt.call(this._shortMonthsParse,a))||-1!==(i=mt.call(this._longMonthsParse,a))?i:null:-1!==(i=mt.call(this._longMonthsParse,a))||-1!==(i=mt.call(this._shortMonthsParse,a))?i:null}).call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=u([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}},tr.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Rt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Tt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},tr.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Rt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Pt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},tr.week=function(t){return Dt(t,this._week.dow,this._week.doy).week},tr.firstDayOfYear=function(){return this._week.doy},tr.firstDayOfWeek=function(){return this._week.dow},tr.weekdays=function(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},tr.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},tr.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},tr.weekdaysParse=function(t,e,r){var n,i,s;if(this._weekdaysParseExact)return(function(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(i=mt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=mt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=mt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=mt.call(this._weekdaysParse,a))||-1!==(i=mt.call(this._shortWeekdaysParse,a))||-1!==(i=mt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=mt.call(this._shortWeekdaysParse,a))||-1!==(i=mt.call(this._weekdaysParse,a))||-1!==(i=mt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=mt.call(this._minWeekdaysParse,a))||-1!==(i=mt.call(this._weekdaysParse,a))||-1!==(i=mt.call(this._shortWeekdaysParse,a))?i:null}).call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=u([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}},tr.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Bt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},tr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},tr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},tr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},tr.meridiem=function(t,e,r){return 11<t?r?"pm":"PM":r?"am":"AM"},Zt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",Zt),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",te);var ir=Math.abs;function sr(t,e,r,n){var i=De(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function ar(t){return t<0?Math.floor(t):Math.ceil(t)}function or(t){return 4800*t/146097}function lr(t){return 146097*t/4800}function hr(t){return function(){return this.as(t)}}var cr=hr("ms"),ur=hr("s"),dr=hr("m"),pr=hr("h"),fr=hr("d"),gr=hr("w"),mr=hr("M"),_r=hr("y");function vr(t){return function(){return this.isValid()?this._data[t]:NaN}}var yr=vr("milliseconds"),br=vr("seconds"),xr=vr("minutes"),Ar=vr("hours"),wr=vr("days"),Sr=vr("months"),Cr=vr("years"),kr=Math.round,Pr={ss:44,s:45,m:45,h:22,d:26,M:11},Tr=Math.abs;function Rr(t){return(0<t)-(t<0)||+t}function Mr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r=Tr(this._milliseconds)/1e3,n=Tr(this._days),i=Tr(this._months);e=b((t=b(r/60))/60),r%=60,t%=60;var s=b(i/12),a=i%=12,o=n,l=e,h=t,c=r?r.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",p=Rr(this._months)!==Rr(u)?"-":"",f=Rr(this._days)!==Rr(u)?"-":"",g=Rr(this._milliseconds)!==Rr(u)?"-":"";return d+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(o?f+o+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Lr=Ae.prototype;return Lr.isValid=function(){return this._isValid},Lr.abs=function(){var t=this._data;return this._milliseconds=ir(this._milliseconds),this._days=ir(this._days),this._months=ir(this._months),t.milliseconds=ir(t.milliseconds),t.seconds=ir(t.seconds),t.minutes=ir(t.minutes),t.hours=ir(t.hours),t.months=ir(t.months),t.years=ir(t.years),this},Lr.add=function(t,e){return sr(this,t,e,1)},Lr.subtract=function(t,e){return sr(this,t,e,-1)},Lr.as=function(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=D(t))||"year"===t)return r=this._months+or(e=this._days+n/864e5),"month"===t?r:r/12;switch(e=this._days+Math.round(lr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Lr.asMilliseconds=cr,Lr.asSeconds=ur,Lr.asMinutes=dr,Lr.asHours=pr,Lr.asDays=fr,Lr.asWeeks=gr,Lr.asMonths=mr,Lr.asYears=_r,Lr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Lr._bubble=function(){var t,e,r,n,i,s=this._milliseconds,a=this._days,o=this._months,l=this._data;return 0<=s&&0<=a&&0<=o||s<=0&&a<=0&&o<=0||(s+=864e5*ar(lr(o)+a),o=a=0),l.milliseconds=s%1e3,t=b(s/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,r=b(e/60),l.hours=r%24,o+=i=b(or(a+=b(r/24))),a-=ar(lr(i)),n=b(o/12),o%=12,l.days=a,l.months=o,l.years=n,this},Lr.clone=function(){return De(this)},Lr.get=function(t){return t=D(t),this.isValid()?this[t+"s"]():NaN},Lr.milliseconds=yr,Lr.seconds=br,Lr.minutes=xr,Lr.hours=Ar,Lr.days=wr,Lr.weeks=function(){return b(this.days()/7)},Lr.months=Sr,Lr.years=Cr,Lr.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,r,n,i,s,a,o,l,h,c,u=this.localeData(),d=(e=!t,r=u,n=De(this).abs(),i=kr(n.as("s")),s=kr(n.as("m")),a=kr(n.as("h")),o=kr(n.as("d")),l=kr(n.as("M")),h=kr(n.as("y")),(c=i<=Pr.ss&&["s",i]||i<Pr.s&&["ss",i]||s<=1&&["m"]||s<Pr.m&&["mm",s]||a<=1&&["h"]||a<Pr.h&&["hh",a]||o<=1&&["d"]||o<Pr.d&&["dd",o]||l<=1&&["M"]||l<Pr.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=e,c[3]=0<+this,c[4]=r,(function(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}).apply(null,c));return t&&(d=u.pastFuture(+this,d)),u.postformat(d)},Lr.toISOString=Mr,Lr.toString=Mr,Lr.toJSON=Mr,Lr.locale=We,Lr.localeData=Ye,Lr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mr),Lr.lang=He,H("X",0,0,"unix"),H("x",0,0,"valueOf"),lt("x",nt),lt("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t,10))})),dt("x",(function(t,e,r){r._d=new Date(x(t))})),r.version="2.22.2",t=_e,r.fn=Ze,r.min=function(){return be("isBefore",[].slice.call(arguments,0))},r.max=function(){return be("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=u,r.unix=function(t){return _e(1e3*t)},r.months=function(t,e){return rr(t,e,"months")},r.isDate=o,r.locale=Zt,r.invalid=f,r.duration=De,r.isMoment=y,r.weekdays=function(t,e,r){return nr(t,e,r,"weekdays")},r.parseZone=function(){return _e.apply(null,arguments).parseZone()},r.localeData=te,r.isDuration=we,r.monthsShort=function(t,e){return rr(t,e,"monthsShort")},r.weekdaysMin=function(t,e,r){return nr(t,e,r,"weekdaysMin")},r.defineLocale=Jt,r.updateLocale=function(t,e){if(null!=e){var r,n,i=zt;null!=(n=Kt(t))&&(i=n._config),(r=new M(e=R(i,e))).parentLocale=Xt[t],Xt[t]=r,Zt(t)}else null!=Xt[t]&&(null!=Xt[t].parentLocale?Xt[t]=Xt[t].parentLocale:null!=Xt[t]&&delete Xt[t]);return Xt[t]},r.locales=function(){return C(Xt)},r.weekdaysShort=function(t,e,r){return nr(t,e,r,"weekdaysShort")},r.normalizeUnits=D,r.relativeTimeRounding=function(t){return void 0===t?kr:"function"==typeof t&&(kr=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Pr[t]&&(void 0===e?Pr[t]:(Pr[t]=e,"s"===t&&(Pr.ss=e-1),!0))},r.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},r.prototype=Ze,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}));